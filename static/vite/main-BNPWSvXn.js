var pb=Object.defineProperty,gb=Object.defineProperties;var vb=Object.getOwnPropertyDescriptors;var jh=Object.getOwnPropertySymbols;var _b=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable;var Hh=(i,e,t)=>e in i?pb(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,on=(i,e)=>{for(var t in e||(e={}))_b.call(e,t)&&Hh(i,t,e[t]);if(jh)for(var t of jh(e))bb.call(e,t)&&Hh(i,t,e[t]);return i},Xo=(i,e)=>gb(i,vb(e));var Y=(i,e,t)=>new Promise((r,n)=>{var a=l=>{try{o(t.next(l))}catch(d){n(d)}},s=l=>{try{o(t.throw(l))}catch(d){n(d)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,s);o((t=t.apply(i,e)).next())});var Bc="http://www.w3.org/1999/xhtml";const Vh={svg:"http://www.w3.org/2000/svg",xhtml:Bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bl(i){var e=i+="",t=e.indexOf(":");return t>=0&&(e=i.slice(0,t))!=="xmlns"&&(i=i.slice(t+1)),Vh.hasOwnProperty(e)?{space:Vh[e],local:i}:i}function yb(i){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Bc&&e.documentElement.namespaceURI===Bc?e.createElement(i):e.createElementNS(t,i)}}function xb(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function qp(i){var e=Bl(i);return(e.local?xb:yb)(e)}function wb(){}function _u(i){return i==null?wb:function(){return this.querySelector(i)}}function Sb(i){typeof i!="function"&&(i=_u(i));for(var e=this._groups,t=e.length,r=new Array(t),n=0;n<t;++n)for(var a=e[n],s=a.length,o=r[n]=new Array(s),l,d,c=0;c<s;++c)(l=a[c])&&(d=i.call(l,l.__data__,c,a))&&("__data__"in l&&(d.__data__=l.__data__),o[c]=d);return new qi(r,this._parents)}function Eb(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function Tb(){return[]}function Yp(i){return i==null?Tb:function(){return this.querySelectorAll(i)}}function Ab(i){return function(){return Eb(i.apply(this,arguments))}}function Ib(i){typeof i=="function"?i=Ab(i):i=Yp(i);for(var e=this._groups,t=e.length,r=[],n=[],a=0;a<t;++a)for(var s=e[a],o=s.length,l,d=0;d<o;++d)(l=s[d])&&(r.push(i.call(l,l.__data__,d,s)),n.push(l));return new qi(r,n)}function Kp(i){return function(){return this.matches(i)}}function Zp(i){return function(e){return e.matches(i)}}var kb=Array.prototype.find;function Cb(i){return function(){return kb.call(this.children,i)}}function Lb(){return this.firstElementChild}function Ob(i){return this.select(i==null?Lb:Cb(typeof i=="function"?i:Zp(i)))}var Rb=Array.prototype.filter;function Pb(){return Array.from(this.children)}function Fb(i){return function(){return Rb.call(this.children,i)}}function Db(i){return this.selectAll(i==null?Pb:Fb(typeof i=="function"?i:Zp(i)))}function Nb(i){typeof i!="function"&&(i=Kp(i));for(var e=this._groups,t=e.length,r=new Array(t),n=0;n<t;++n)for(var a=e[n],s=a.length,o=r[n]=[],l,d=0;d<s;++d)(l=a[d])&&i.call(l,l.__data__,d,a)&&o.push(l);return new qi(r,this._parents)}function Jp(i){return new Array(i.length)}function zb(){return new qi(this._enter||this._groups.map(Jp),this._parents)}function bl(i,e){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=e}bl.prototype={constructor:bl,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,e){return this._parent.insertBefore(i,e)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function Mb(i){return function(){return i}}function Bb(i,e,t,r,n,a){for(var s=0,o,l=e.length,d=a.length;s<d;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):t[s]=new bl(i,a[s]);for(;s<l;++s)(o=e[s])&&(n[s]=o)}function $b(i,e,t,r,n,a,s){var o,l,d=new Map,c=e.length,u=a.length,h=new Array(c),g;for(o=0;o<c;++o)(l=e[o])&&(h[o]=g=s.call(l,l.__data__,o,e)+"",d.has(g)?n[o]=l:d.set(g,l));for(o=0;o<u;++o)g=s.call(i,a[o],o,a)+"",(l=d.get(g))?(r[o]=l,l.__data__=a[o],d.delete(g)):t[o]=new bl(i,a[o]);for(o=0;o<c;++o)(l=e[o])&&d.get(h[o])===l&&(n[o]=l)}function Gb(i){return i.__data__}function Ub(i,e){if(!arguments.length)return Array.from(this,Gb);var t=e?$b:Bb,r=this._parents,n=this._groups;typeof i!="function"&&(i=Mb(i));for(var a=n.length,s=new Array(a),o=new Array(a),l=new Array(a),d=0;d<a;++d){var c=r[d],u=n[d],h=u.length,g=jb(i.call(c,c&&c.__data__,d,r)),k=g.length,U=o[d]=new Array(k),I=s[d]=new Array(k),O=l[d]=new Array(h);t(c,u,U,I,O,g,e);for(var $=0,R=0,T,B;$<k;++$)if(T=U[$]){for($>=R&&(R=$+1);!(B=I[R])&&++R<k;);T._next=B||null}}return s=new qi(s,r),s._enter=o,s._exit=l,s}function jb(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Hb(){return new qi(this._exit||this._groups.map(Jp),this._parents)}function Vb(i,e,t){var r=this.enter(),n=this,a=this.exit();return typeof i=="function"?(r=i(r),r&&(r=r.selection())):r=r.append(i+""),e!=null&&(n=e(n),n&&(n=n.selection())),t==null?a.remove():t(a),r&&n?r.merge(n).order():n}function Wb(i){for(var e=i.selection?i.selection():i,t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var d=t[l],c=r[l],u=d.length,h=o[l]=new Array(u),g,k=0;k<u;++k)(g=d[k]||c[k])&&(h[k]=g);for(;l<n;++l)o[l]=t[l];return new qi(o,this._parents)}function Xb(){for(var i=this._groups,e=-1,t=i.length;++e<t;)for(var r=i[e],n=r.length-1,a=r[n],s;--n>=0;)(s=r[n])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function qb(i){i||(i=Yb);function e(u,h){return u&&h?i(u.__data__,h.__data__):!u-!h}for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a){for(var s=t[a],o=s.length,l=n[a]=new Array(o),d,c=0;c<o;++c)(d=s[c])&&(l[c]=d);l.sort(e)}return new qi(n,this._parents).order()}function Yb(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function Kb(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function Zb(){return Array.from(this)}function Jb(){for(var i=this._groups,e=0,t=i.length;e<t;++e)for(var r=i[e],n=0,a=r.length;n<a;++n){var s=r[n];if(s)return s}return null}function Qb(){let i=0;for(const e of this)++i;return i}function ey(){return!this.node()}function ty(i){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,o;a<s;++a)(o=n[a])&&i.call(o,o.__data__,a,n);return this}function iy(i){return function(){this.removeAttribute(i)}}function ry(i){return function(){this.removeAttributeNS(i.space,i.local)}}function ny(i,e){return function(){this.setAttribute(i,e)}}function ay(i,e){return function(){this.setAttributeNS(i.space,i.local,e)}}function sy(i,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(i):this.setAttribute(i,t)}}function oy(i,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,t)}}function ly(i,e){var t=Bl(i);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?ry:iy:typeof e=="function"?t.local?oy:sy:t.local?ay:ny)(t,e))}function Qp(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function dy(i){return function(){this.style.removeProperty(i)}}function cy(i,e,t){return function(){this.style.setProperty(i,e,t)}}function uy(i,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(i):this.style.setProperty(i,r,t)}}function fy(i,e,t){return arguments.length>1?this.each((e==null?dy:typeof e=="function"?uy:cy)(i,e,t==null?"":t)):Ba(this.node(),i)}function Ba(i,e){return i.style.getPropertyValue(e)||Qp(i).getComputedStyle(i,null).getPropertyValue(e)}function hy(i){return function(){delete this[i]}}function my(i,e){return function(){this[i]=e}}function py(i,e){return function(){var t=e.apply(this,arguments);t==null?delete this[i]:this[i]=t}}function gy(i,e){return arguments.length>1?this.each((e==null?hy:typeof e=="function"?py:my)(i,e)):this.node()[i]}function eg(i){return i.trim().split(/^|\s+/)}function bu(i){return i.classList||new tg(i)}function tg(i){this._node=i,this._names=eg(i.getAttribute("class")||"")}tg.prototype={add:function(i){var e=this._names.indexOf(i);e<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var e=this._names.indexOf(i);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function ig(i,e){for(var t=bu(i),r=-1,n=e.length;++r<n;)t.add(e[r])}function rg(i,e){for(var t=bu(i),r=-1,n=e.length;++r<n;)t.remove(e[r])}function vy(i){return function(){ig(this,i)}}function _y(i){return function(){rg(this,i)}}function by(i,e){return function(){(e.apply(this,arguments)?ig:rg)(this,i)}}function yy(i,e){var t=eg(i+"");if(arguments.length<2){for(var r=bu(this.node()),n=-1,a=t.length;++n<a;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof e=="function"?by:e?vy:_y)(t,e))}function xy(){this.textContent=""}function wy(i){return function(){this.textContent=i}}function Sy(i){return function(){var e=i.apply(this,arguments);this.textContent=e==null?"":e}}function Ey(i){return arguments.length?this.each(i==null?xy:(typeof i=="function"?Sy:wy)(i)):this.node().textContent}function Ty(){this.innerHTML=""}function Ay(i){return function(){this.innerHTML=i}}function Iy(i){return function(){var e=i.apply(this,arguments);this.innerHTML=e==null?"":e}}function ky(i){return arguments.length?this.each(i==null?Ty:(typeof i=="function"?Iy:Ay)(i)):this.node().innerHTML}function Cy(){this.nextSibling&&this.parentNode.appendChild(this)}function Ly(){return this.each(Cy)}function Oy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ry(){return this.each(Oy)}function Py(i){var e=typeof i=="function"?i:qp(i);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Fy(){return null}function Dy(i,e){var t=typeof i=="function"?i:qp(i),r=e==null?Fy:typeof e=="function"?e:_u(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Ny(){var i=this.parentNode;i&&i.removeChild(this)}function zy(){return this.each(Ny)}function My(){var i=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function By(){var i=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function $y(i){return this.select(i?By:My)}function Gy(i){return arguments.length?this.property("__data__",i):this.node().__data__}function Uy(i){return function(e){i.call(this,e,this.__data__)}}function jy(i){return i.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Hy(i){return function(){var e=this.__on;if(e){for(var t=0,r=-1,n=e.length,a;t<n;++t)a=e[t],(!i.type||a.type===i.type)&&a.name===i.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Vy(i,e,t){return function(){var r=this.__on,n,a=Uy(e);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===i.type&&n.name===i.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=t),n.value=e;return}}this.addEventListener(i.type,a,t),n={type:i.type,name:i.name,value:e,listener:a,options:t},r?r.push(n):this.__on=[n]}}function Wy(i,e,t){var r=jy(i+""),n,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,d=o.length,c;l<d;++l)for(n=0,c=o[l];n<a;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=e?Vy:Hy,n=0;n<a;++n)this.each(o(r[n],e,t));return this}function ng(i,e,t){var r=Qp(i),n=r.CustomEvent;typeof n=="function"?n=new n(e,t):(n=r.document.createEvent("Event"),t?(n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(e,!1,!1)),i.dispatchEvent(n)}function Xy(i,e){return function(){return ng(this,i,e)}}function qy(i,e){return function(){return ng(this,i,e.apply(this,arguments))}}function Yy(i,e){return this.each((typeof e=="function"?qy:Xy)(i,e))}function*Ky(){for(var i=this._groups,e=0,t=i.length;e<t;++e)for(var r=i[e],n=0,a=r.length,s;n<a;++n)(s=r[n])&&(yield s)}var ag=[null];function qi(i,e){this._groups=i,this._parents=e}function eo(){return new qi([[document.documentElement]],ag)}function Zy(){return this}qi.prototype=eo.prototype={constructor:qi,select:Sb,selectAll:Ib,selectChild:Ob,selectChildren:Db,filter:Nb,data:Ub,enter:zb,exit:Hb,join:Vb,merge:Wb,selection:Zy,order:Xb,sort:qb,call:Kb,nodes:Zb,node:Jb,size:Qb,empty:ey,each:ty,attr:ly,style:fy,property:gy,classed:yy,text:Ey,html:ky,raise:Ly,lower:Ry,append:Py,insert:Dy,remove:zy,clone:$y,datum:Gy,on:Wy,dispatch:Yy,[Symbol.iterator]:Ky};function hi(i){return typeof i=="string"?new qi([[document.querySelector(i)]],[document.documentElement]):new qi([[i]],ag)}function Jy(i){let e;for(;e=i.sourceEvent;)i=e;return i}function Br(i,e){if(i=Jy(i),e===void 0&&(e=i.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=i.clientX,r.y=i.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();return[i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop]}}return[i.pageX,i.pageY]}var Qy={value:()=>{}};function $l(){for(var i=0,e=arguments.length,t={},r;i<e;++i){if(!(r=arguments[i]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new cl(t)}function cl(i){this._=i}function ex(i,e){return i.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}cl.prototype=$l.prototype={constructor:cl,on:function(i,e){var t=this._,r=ex(i+"",t),n,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((n=(i=r[a]).type)&&(n=tx(t[n],i.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(i=r[a]).type)t[n]=Wh(t[n],i.name,e);else if(e==null)for(n in t)t[n]=Wh(t[n],i.name,null);return this},copy:function(){var i={},e=this._;for(var t in e)i[t]=e[t].slice();return new cl(i)},call:function(i,e){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,a;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(a=this._[i],r=0,n=a.length;r<n;++r)a[r].value.apply(e,t)},apply:function(i,e,t){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var r=this._[i],n=0,a=r.length;n<a;++n)r[n].value.apply(e,t)}};function tx(i,e){for(var t=0,r=i.length,n;t<r;++t)if((n=i[t]).name===e)return n.value}function Wh(i,e,t){for(var r=0,n=i.length;r<n;++r)if(i[r].name===e){i[r]=Qy,i=i.slice(0,r).concat(i.slice(r+1));break}return t!=null&&i.push({name:e,value:t}),i}var $a=0,Fs=0,xs=0,sg=1e3,yl,Ds,xl=0,Xn=0,Gl=0,Hs=typeof performance=="object"&&performance.now?performance:Date,og=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function yu(){return Xn||(og(ix),Xn=Hs.now()+Gl)}function ix(){Xn=0}function wl(){this._call=this._time=this._next=null}wl.prototype=lg.prototype={constructor:wl,restart:function(i,e,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?yu():+t)+(e==null?0:+e),!this._next&&Ds!==this&&(Ds?Ds._next=this:yl=this,Ds=this),this._call=i,this._time=t,$c()},stop:function(){this._call&&(this._call=null,this._time=1/0,$c())}};function lg(i,e,t){var r=new wl;return r.restart(i,e,t),r}function rx(){yu(),++$a;for(var i=yl,e;i;)(e=Xn-i._time)>=0&&i._call.call(void 0,e),i=i._next;--$a}function Xh(){Xn=(xl=Hs.now())+Gl,$a=Fs=0;try{rx()}finally{$a=0,ax(),Xn=0}}function nx(){var i=Hs.now(),e=i-xl;e>sg&&(Gl-=e,xl=i)}function ax(){for(var i,e=yl,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:yl=t);Ds=i,$c(r)}function $c(i){if(!$a){Fs&&(Fs=clearTimeout(Fs));var e=i-Xn;e>24?(i<1/0&&(Fs=setTimeout(Xh,i-Hs.now()-Gl)),xs&&(xs=clearInterval(xs))):(xs||(xl=Hs.now(),xs=setInterval(nx,sg)),$a=1,og(Xh))}}function qh(i,e,t){var r=new wl;return e=e==null?0:+e,r.restart(n=>{r.stop(),i(n+e)},e,t),r}var sx=$l("start","end","cancel","interrupt"),ox=[],dg=0,Yh=1,Gc=2,ul=3,Kh=4,Uc=5,fl=6;function Ul(i,e,t,r,n,a){var s=i.__transition;if(!s)i.__transition={};else if(t in s)return;lx(i,t,{name:e,index:r,group:n,on:sx,tween:ox,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:dg})}function xu(i,e){var t=hr(i,e);if(t.state>dg)throw new Error("too late; already scheduled");return t}function Er(i,e){var t=hr(i,e);if(t.state>ul)throw new Error("too late; already running");return t}function hr(i,e){var t=i.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function lx(i,e,t){var r=i.__transition,n;r[e]=t,t.timer=lg(a,0,t.time);function a(d){t.state=Yh,t.timer.restart(s,t.delay,t.time),t.delay<=d&&s(d-t.delay)}function s(d){var c,u,h,g;if(t.state!==Yh)return l();for(c in r)if(g=r[c],g.name===t.name){if(g.state===ul)return qh(s);g.state===Kh?(g.state=fl,g.timer.stop(),g.on.call("interrupt",i,i.__data__,g.index,g.group),delete r[c]):+c<e&&(g.state=fl,g.timer.stop(),g.on.call("cancel",i,i.__data__,g.index,g.group),delete r[c])}if(qh(function(){t.state===ul&&(t.state=Kh,t.timer.restart(o,t.delay,t.time),o(d))}),t.state=Gc,t.on.call("start",i,i.__data__,t.index,t.group),t.state===Gc){for(t.state=ul,n=new Array(h=t.tween.length),c=0,u=-1;c<h;++c)(g=t.tween[c].value.call(i,i.__data__,t.index,t.group))&&(n[++u]=g);n.length=u+1}}function o(d){for(var c=d<t.duration?t.ease.call(null,d/t.duration):(t.timer.restart(l),t.state=Uc,1),u=-1,h=n.length;++u<h;)n[u].call(i,c);t.state===Uc&&(t.on.call("end",i,i.__data__,t.index,t.group),l())}function l(){t.state=fl,t.timer.stop(),delete r[e];for(var d in r)return;delete i.__transition}}function Ra(i,e){var t=i.__transition,r,n,a=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((r=t[s]).name!==e){a=!1;continue}n=r.state>Gc&&r.state<Uc,r.state=fl,r.timer.stop(),r.on.call(n?"interrupt":"cancel",i,i.__data__,r.index,r.group),delete t[s]}a&&delete i.__transition}}function dx(i){return this.each(function(){Ra(this,i)})}function wu(i,e,t){i.prototype=e.prototype=t,t.constructor=i}function cg(i,e){var t=Object.create(i.prototype);for(var r in e)t[r]=e[r];return t}function to(){}var Vs=.7,Sl=1/Vs,Pa="\\s*([+-]?\\d+)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cx=/^#([0-9a-f]{3,8})$/,ux=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),fx=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),hx=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${Ws}\\)$`),mx=new RegExp(`^rgba\\(${xr},${xr},${xr},${Ws}\\)$`),px=new RegExp(`^hsl\\(${Ws},${xr},${xr}\\)$`),gx=new RegExp(`^hsla\\(${Ws},${xr},${xr},${Ws}\\)$`),Zh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wu(to,Hr,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:Jh,formatHex:Jh,formatHex8:vx,formatHsl:_x,formatRgb:Qh,toString:Qh});function Jh(){return this.rgb().formatHex()}function vx(){return this.rgb().formatHex8()}function _x(){return ug(this).formatHsl()}function Qh(){return this.rgb().formatRgb()}function Hr(i){var e,t;return i=(i+"").trim().toLowerCase(),(e=cx.exec(i))?(t=e[1].length,e=parseInt(e[1],16),t===6?em(e):t===3?new Vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?qo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?qo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ux.exec(i))?new Vi(e[1],e[2],e[3],1):(e=fx.exec(i))?new Vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hx.exec(i))?qo(e[1],e[2],e[3],e[4]):(e=mx.exec(i))?qo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=px.exec(i))?rm(e[1],e[2]/100,e[3]/100,1):(e=gx.exec(i))?rm(e[1],e[2]/100,e[3]/100,e[4]):Zh.hasOwnProperty(i)?em(Zh[i]):i==="transparent"?new Vi(NaN,NaN,NaN,0):null}function em(i){return new Vi(i>>16&255,i>>8&255,i&255,1)}function qo(i,e,t,r){return r<=0&&(i=e=t=NaN),new Vi(i,e,t,r)}function bx(i){return i instanceof to||(i=Hr(i)),i?(i=i.rgb(),new Vi(i.r,i.g,i.b,i.opacity)):new Vi}function jc(i,e,t,r){return arguments.length===1?bx(i):new Vi(i,e,t,r==null?1:r)}function Vi(i,e,t,r){this.r=+i,this.g=+e,this.b=+t,this.opacity=+r}wu(Vi,jc,cg(to,{brighter(i){return i=i==null?Sl:Math.pow(Sl,i),new Vi(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?Vs:Math.pow(Vs,i),new Vi(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Vi(jn(this.r),jn(this.g),jn(this.b),El(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tm,formatHex:tm,formatHex8:yx,formatRgb:im,toString:im}));function tm(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}`}function yx(){return`#${$n(this.r)}${$n(this.g)}${$n(this.b)}${$n((isNaN(this.opacity)?1:this.opacity)*255)}`}function im(){const i=El(this.opacity);return`${i===1?"rgb(":"rgba("}${jn(this.r)}, ${jn(this.g)}, ${jn(this.b)}${i===1?")":`, ${i})`}`}function El(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function jn(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function $n(i){return i=jn(i),(i<16?"0":"")+i.toString(16)}function rm(i,e,t,r){return r<=0?i=e=t=NaN:t<=0||t>=1?i=e=NaN:e<=0&&(i=NaN),new cr(i,e,t,r)}function ug(i){if(i instanceof cr)return new cr(i.h,i.s,i.l,i.opacity);if(i instanceof to||(i=Hr(i)),!i)return new cr;if(i instanceof cr)return i;i=i.rgb();var e=i.r/255,t=i.g/255,r=i.b/255,n=Math.min(e,t,r),a=Math.max(e,t,r),s=NaN,o=a-n,l=(a+n)/2;return o?(e===a?s=(t-r)/o+(t<r)*6:t===a?s=(r-e)/o+2:s=(e-t)/o+4,o/=l<.5?a+n:2-a-n,s*=60):o=l>0&&l<1?0:s,new cr(s,o,l,i.opacity)}function xx(i,e,t,r){return arguments.length===1?ug(i):new cr(i,e,t,r==null?1:r)}function cr(i,e,t,r){this.h=+i,this.s=+e,this.l=+t,this.opacity=+r}wu(cr,xx,cg(to,{brighter(i){return i=i==null?Sl:Math.pow(Sl,i),new cr(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?Vs:Math.pow(Vs,i),new cr(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,e=isNaN(i)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,n=2*t-r;return new Vi(uc(i>=240?i-240:i+120,n,r),uc(i,n,r),uc(i<120?i+240:i-120,n,r),this.opacity)},clamp(){return new cr(nm(this.h),Yo(this.s),Yo(this.l),El(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=El(this.opacity);return`${i===1?"hsl(":"hsla("}${nm(this.h)}, ${Yo(this.s)*100}%, ${Yo(this.l)*100}%${i===1?")":`, ${i})`}`}}));function nm(i){return i=(i||0)%360,i<0?i+360:i}function Yo(i){return Math.max(0,Math.min(1,i||0))}function uc(i,e,t){return(i<60?e+(t-e)*i/60:i<180?t:i<240?e+(t-e)*(240-i)/60:e)*255}const Su=i=>()=>i;function wx(i,e){return function(t){return i+t*e}}function Sx(i,e,t){return i=Math.pow(i,t),e=Math.pow(e,t)-i,t=1/t,function(r){return Math.pow(i+r*e,t)}}function Ex(i){return(i=+i)==1?fg:function(e,t){return t-e?Sx(e,t,i):Su(isNaN(e)?t:e)}}function fg(i,e){var t=e-i;return t?wx(i,t):Su(isNaN(i)?e:i)}const Tl=function i(e){var t=Ex(e);function r(n,a){var s=t((n=jc(n)).r,(a=jc(a)).r),o=t(n.g,a.g),l=t(n.b,a.b),d=fg(n.opacity,a.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=l(c),n.opacity=d(c),n+""}}return r.gamma=i,r}(1);function Tx(i,e){e||(e=[]);var t=i?Math.min(e.length,i.length):0,r=e.slice(),n;return function(a){for(n=0;n<t;++n)r[n]=i[n]*(1-a)+e[n]*a;return r}}function Ax(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Ix(i,e){var t=e?e.length:0,r=i?Math.min(t,i.length):0,n=new Array(r),a=new Array(t),s;for(s=0;s<r;++s)n[s]=jl(i[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=n[s](o);return a}}function kx(i,e){var t=new Date;return i=+i,e=+e,function(r){return t.setTime(i*(1-r)+e*r),t}}function dr(i,e){return i=+i,e=+e,function(t){return i*(1-t)+e*t}}function Cx(i,e){var t={},r={},n;(i===null||typeof i!="object")&&(i={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in i?t[n]=jl(i[n],e[n]):r[n]=e[n];return function(a){for(n in t)r[n]=t[n](a);return r}}var Hc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fc=new RegExp(Hc.source,"g");function Lx(i){return function(){return i}}function Ox(i){return function(e){return i(e)+""}}function hg(i,e){var t=Hc.lastIndex=fc.lastIndex=0,r,n,a,s=-1,o=[],l=[];for(i=i+"",e=e+"";(r=Hc.exec(i))&&(n=fc.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:dr(r,n)})),t=fc.lastIndex;return t<e.length&&(a=e.slice(t),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Ox(l[0].x):Lx(e):(e=l.length,function(d){for(var c=0,u;c<e;++c)o[(u=l[c]).i]=u.x(d);return o.join("")})}function jl(i,e){var t=typeof e,r;return e==null||t==="boolean"?Su(e):(t==="number"?dr:t==="string"?(r=Hr(e))?(e=r,Tl):hg:e instanceof Hr?Tl:e instanceof Date?kx:Ax(e)?Tx:Array.isArray(e)?Ix:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cx:dr)(i,e)}function Rx(i,e){return i=+i,e=+e,function(t){return Math.round(i*(1-t)+e*t)}}var am=180/Math.PI,Vc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mg(i,e,t,r,n,a){var s,o,l;return(s=Math.sqrt(i*i+e*e))&&(i/=s,e/=s),(l=i*t+e*r)&&(t-=i*l,r-=e*l),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,l/=o),i*r<e*t&&(i=-i,e=-e,l=-l,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(e,i)*am,skewX:Math.atan(l)*am,scaleX:s,scaleY:o}}var Ko;function Px(i){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return e.isIdentity?Vc:mg(e.a,e.b,e.c,e.d,e.e,e.f)}function Fx(i){return i==null||(Ko||(Ko=document.createElementNS("http://www.w3.org/2000/svg","g")),Ko.setAttribute("transform",i),!(i=Ko.transform.baseVal.consolidate()))?Vc:(i=i.matrix,mg(i.a,i.b,i.c,i.d,i.e,i.f))}function pg(i,e,t,r){function n(d){return d.length?d.pop()+" ":""}function a(d,c,u,h,g,k){if(d!==u||c!==h){var U=g.push("translate(",null,e,null,t);k.push({i:U-4,x:dr(d,u)},{i:U-2,x:dr(c,h)})}else(u||h)&&g.push("translate("+u+e+h+t)}function s(d,c,u,h){d!==c?(d-c>180?c+=360:c-d>180&&(d+=360),h.push({i:u.push(n(u)+"rotate(",null,r)-2,x:dr(d,c)})):c&&u.push(n(u)+"rotate("+c+r)}function o(d,c,u,h){d!==c?h.push({i:u.push(n(u)+"skewX(",null,r)-2,x:dr(d,c)}):c&&u.push(n(u)+"skewX("+c+r)}function l(d,c,u,h,g,k){if(d!==u||c!==h){var U=g.push(n(g)+"scale(",null,",",null,")");k.push({i:U-4,x:dr(d,u)},{i:U-2,x:dr(c,h)})}else(u!==1||h!==1)&&g.push(n(g)+"scale("+u+","+h+")")}return function(d,c){var u=[],h=[];return d=i(d),c=i(c),a(d.translateX,d.translateY,c.translateX,c.translateY,u,h),s(d.rotate,c.rotate,u,h),o(d.skewX,c.skewX,u,h),l(d.scaleX,d.scaleY,c.scaleX,c.scaleY,u,h),d=c=null,function(g){for(var k=-1,U=h.length,I;++k<U;)u[(I=h[k]).i]=I.x(g);return u.join("")}}}var Dx=pg(Px,"px, ","px)","deg)"),Nx=pg(Fx,", ",")",")"),zx=1e-12;function sm(i){return((i=Math.exp(i))+1/i)/2}function Mx(i){return((i=Math.exp(i))-1/i)/2}function Bx(i){return((i=Math.exp(2*i))-1)/(i+1)}const $x=function i(e,t,r){function n(a,s){var o=a[0],l=a[1],d=a[2],c=s[0],u=s[1],h=s[2],g=c-o,k=u-l,U=g*g+k*k,I,O;if(U<zx)O=Math.log(h/d)/e,I=function(re){return[o+re*g,l+re*k,d*Math.exp(e*re*O)]};else{var $=Math.sqrt(U),R=(h*h-d*d+r*U)/(2*d*t*$),T=(h*h-d*d-r*U)/(2*h*t*$),B=Math.log(Math.sqrt(R*R+1)-R),ee=Math.log(Math.sqrt(T*T+1)-T);O=(ee-B)/e,I=function(re){var Se=re*O,Te=sm(B),Ke=d/(t*$)*(Te*Bx(e*Se+B)-Mx(B));return[o+Ke*g,l+Ke*k,d*Te/sm(e*Se+B)]}}return I.duration=O*1e3*e/Math.SQRT2,I}return n.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return i(s,o,l)},n}(Math.SQRT2,2,4);function Gx(i,e){var t,r;return function(){var n=Er(this,i),a=n.tween;if(a!==t){r=t=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function Ux(i,e,t){var r,n;if(typeof t!="function")throw new Error;return function(){var a=Er(this,i),s=a.tween;if(s!==r){n=(r=s).slice();for(var o={name:e,value:t},l=0,d=n.length;l<d;++l)if(n[l].name===e){n[l]=o;break}l===d&&n.push(o)}a.tween=n}}function jx(i,e){var t=this._id;if(i+="",arguments.length<2){for(var r=hr(this.node(),t).tween,n=0,a=r.length,s;n<a;++n)if((s=r[n]).name===i)return s.value;return null}return this.each((e==null?Gx:Ux)(t,i,e))}function Eu(i,e,t){var r=i._id;return i.each(function(){var n=Er(this,r);(n.value||(n.value={}))[e]=t.apply(this,arguments)}),function(n){return hr(n,r).value[e]}}function gg(i,e){var t;return(typeof e=="number"?dr:e instanceof Hr?Tl:(t=Hr(e))?(e=t,Tl):hg)(i,e)}function Hx(i){return function(){this.removeAttribute(i)}}function Vx(i){return function(){this.removeAttributeNS(i.space,i.local)}}function Wx(i,e,t){var r,n=t+"",a;return function(){var s=this.getAttribute(i);return s===n?null:s===r?a:a=e(r=s,t)}}function Xx(i,e,t){var r,n=t+"",a;return function(){var s=this.getAttributeNS(i.space,i.local);return s===n?null:s===r?a:a=e(r=s,t)}}function qx(i,e,t){var r,n,a;return function(){var s,o=t(this),l;return o==null?void this.removeAttribute(i):(s=this.getAttribute(i),l=o+"",s===l?null:s===r&&l===n?a:(n=l,a=e(r=s,o)))}}function Yx(i,e,t){var r,n,a;return function(){var s,o=t(this),l;return o==null?void this.removeAttributeNS(i.space,i.local):(s=this.getAttributeNS(i.space,i.local),l=o+"",s===l?null:s===r&&l===n?a:(n=l,a=e(r=s,o)))}}function Kx(i,e){var t=Bl(i),r=t==="transform"?Nx:gg;return this.attrTween(i,typeof e=="function"?(t.local?Yx:qx)(t,r,Eu(this,"attr."+i,e)):e==null?(t.local?Vx:Hx)(t):(t.local?Xx:Wx)(t,r,e))}function Zx(i,e){return function(t){this.setAttribute(i,e.call(this,t))}}function Jx(i,e){return function(t){this.setAttributeNS(i.space,i.local,e.call(this,t))}}function Qx(i,e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&Jx(i,a)),t}return n._value=e,n}function e1(i,e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&Zx(i,a)),t}return n._value=e,n}function t1(i,e){var t="attr."+i;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=Bl(i);return this.tween(t,(r.local?Qx:e1)(r,e))}function i1(i,e){return function(){xu(this,i).delay=+e.apply(this,arguments)}}function r1(i,e){return e=+e,function(){xu(this,i).delay=e}}function n1(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?i1:r1)(e,i)):hr(this.node(),e).delay}function a1(i,e){return function(){Er(this,i).duration=+e.apply(this,arguments)}}function s1(i,e){return e=+e,function(){Er(this,i).duration=e}}function o1(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?a1:s1)(e,i)):hr(this.node(),e).duration}function l1(i,e){if(typeof e!="function")throw new Error;return function(){Er(this,i).ease=e}}function d1(i){var e=this._id;return arguments.length?this.each(l1(e,i)):hr(this.node(),e).ease}function c1(i,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Er(this,i).ease=t}}function u1(i){if(typeof i!="function")throw new Error;return this.each(c1(this._id,i))}function f1(i){typeof i!="function"&&(i=Kp(i));for(var e=this._groups,t=e.length,r=new Array(t),n=0;n<t;++n)for(var a=e[n],s=a.length,o=r[n]=[],l,d=0;d<s;++d)(l=a[d])&&i.call(l,l.__data__,d,a)&&o.push(l);return new Vr(r,this._parents,this._name,this._id)}function h1(i){if(i._id!==this._id)throw new Error;for(var e=this._groups,t=i._groups,r=e.length,n=t.length,a=Math.min(r,n),s=new Array(r),o=0;o<a;++o)for(var l=e[o],d=t[o],c=l.length,u=s[o]=new Array(c),h,g=0;g<c;++g)(h=l[g]||d[g])&&(u[g]=h);for(;o<r;++o)s[o]=e[o];return new Vr(s,this._parents,this._name,this._id)}function m1(i){return(i+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function p1(i,e,t){var r,n,a=m1(e)?xu:Er;return function(){var s=a(this,i),o=s.on;o!==r&&(n=(r=o).copy()).on(e,t),s.on=n}}function g1(i,e){var t=this._id;return arguments.length<2?hr(this.node(),t).on.on(i):this.each(p1(t,i,e))}function v1(i){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==i)return;e&&e.removeChild(this)}}function _1(){return this.on("end.remove",v1(this._id))}function b1(i){var e=this._name,t=this._id;typeof i!="function"&&(i=_u(i));for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s)for(var o=r[s],l=o.length,d=a[s]=new Array(l),c,u,h=0;h<l;++h)(c=o[h])&&(u=i.call(c,c.__data__,h,o))&&("__data__"in c&&(u.__data__=c.__data__),d[h]=u,Ul(d[h],e,t,h,d,hr(c,t)));return new Vr(a,this._parents,e,t)}function y1(i){var e=this._name,t=this._id;typeof i!="function"&&(i=Yp(i));for(var r=this._groups,n=r.length,a=[],s=[],o=0;o<n;++o)for(var l=r[o],d=l.length,c,u=0;u<d;++u)if(c=l[u]){for(var h=i.call(c,c.__data__,u,l),g,k=hr(c,t),U=0,I=h.length;U<I;++U)(g=h[U])&&Ul(g,e,t,U,h,k);a.push(h),s.push(c)}return new Vr(a,s,e,t)}var x1=eo.prototype.constructor;function w1(){return new x1(this._groups,this._parents)}function S1(i,e){var t,r,n;return function(){var a=Ba(this,i),s=(this.style.removeProperty(i),Ba(this,i));return a===s?null:a===t&&s===r?n:n=e(t=a,r=s)}}function vg(i){return function(){this.style.removeProperty(i)}}function E1(i,e,t){var r,n=t+"",a;return function(){var s=Ba(this,i);return s===n?null:s===r?a:a=e(r=s,t)}}function T1(i,e,t){var r,n,a;return function(){var s=Ba(this,i),o=t(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(i),Ba(this,i))),s===l?null:s===r&&l===n?a:(n=l,a=e(r=s,o))}}function A1(i,e){var t,r,n,a="style."+e,s="end."+a,o;return function(){var l=Er(this,i),d=l.on,c=l.value[a]==null?o||(o=vg(e)):void 0;(d!==t||n!==c)&&(r=(t=d).copy()).on(s,n=c),l.on=r}}function I1(i,e,t){var r=(i+="")=="transform"?Dx:gg;return e==null?this.styleTween(i,S1(i,r)).on("end.style."+i,vg(i)):typeof e=="function"?this.styleTween(i,T1(i,r,Eu(this,"style."+i,e))).each(A1(this._id,i)):this.styleTween(i,E1(i,r,e),t).on("end.style."+i,null)}function k1(i,e,t){return function(r){this.style.setProperty(i,e.call(this,r),t)}}function C1(i,e,t){var r,n;function a(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&k1(i,s,t)),r}return a._value=e,a}function L1(i,e,t){var r="style."+(i+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,C1(i,e,t==null?"":t))}function O1(i){return function(){this.textContent=i}}function R1(i){return function(){var e=i(this);this.textContent=e==null?"":e}}function P1(i){return this.tween("text",typeof i=="function"?R1(Eu(this,"text",i)):O1(i==null?"":i+""))}function F1(i){return function(e){this.textContent=i.call(this,e)}}function D1(i){var e,t;function r(){var n=i.apply(this,arguments);return n!==t&&(e=(t=n)&&F1(n)),e}return r._value=i,r}function N1(i){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(i==null)return this.tween(e,null);if(typeof i!="function")throw new Error;return this.tween(e,D1(i))}function z1(){for(var i=this._name,e=this._id,t=_g(),r=this._groups,n=r.length,a=0;a<n;++a)for(var s=r[a],o=s.length,l,d=0;d<o;++d)if(l=s[d]){var c=hr(l,e);Ul(l,i,t,d,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Vr(r,this._parents,i,t)}function M1(){var i,e,t=this,r=t._id,n=t.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--n===0&&a()}};t.each(function(){var d=Er(this,r),c=d.on;c!==i&&(e=(i=c).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),d.on=e}),n===0&&a()})}var B1=0;function Vr(i,e,t,r){this._groups=i,this._parents=e,this._name=t,this._id=r}function _g(){return++B1}var zr=eo.prototype;Vr.prototype={constructor:Vr,select:b1,selectAll:y1,selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:f1,merge:h1,selection:w1,transition:z1,call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:g1,attr:Kx,attrTween:t1,style:I1,styleTween:L1,text:P1,textTween:N1,remove:_1,tween:jx,delay:n1,duration:o1,ease:d1,easeVarying:u1,end:M1,[Symbol.iterator]:zr[Symbol.iterator]};function $1(i){return i*i}function G1(i){return i*(2-i)}function U1(i){return((i*=2)<=1?i*i:--i*(2-i)+1)/2}function j1(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var H1={time:null,delay:0,duration:250,ease:j1};function V1(i,e){for(var t;!(t=i.__transition)||!(t=t[e]);)if(!(i=i.parentNode))throw new Error(`transition ${e} not found`);return t}function W1(i){var e,t;i instanceof Vr?(e=i._id,i=i._name):(e=_g(),(t=H1).time=yu(),i=i==null?null:i+"");for(var r=this._groups,n=r.length,a=0;a<n;++a)for(var s=r[a],o=s.length,l,d=0;d<o;++d)(l=s[d])&&Ul(l,i,e,d,s,t||V1(l,e));return new Vr(r,this._parents,i,e)}eo.prototype.interrupt=dx;eo.prototype.transition=W1;var bi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function bg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function yg(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var n=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return i[r]}})}),t}var xg={exports:{}};(function(i,e){(function(t,r){i.exports=r()})(bi,function(){var t=function(f){return f instanceof Uint8Array||f instanceof Uint16Array||f instanceof Uint32Array||f instanceof Int8Array||f instanceof Int16Array||f instanceof Int32Array||f instanceof Float32Array||f instanceof Float64Array||f instanceof Uint8ClampedArray},r=function(f,p){for(var w=Object.keys(p),H=0;H<w.length;++H)f[w[H]]=p[w[H]];return f},n=`
`;function a(f){return typeof atob!="undefined"?atob(f):"base64:"+f}function s(f){var p=new Error("(regl) "+f);throw console.error(p),p}function o(f,p){f||s(p)}function l(f){return f?": "+f:""}function d(f,p,w){f in p||s("unknown parameter ("+f+")"+l(w)+". possible values: "+Object.keys(p).join())}function c(f,p){t(f)||s("invalid parameter type"+l(p)+". must be a typed array")}function u(f,p){switch(p){case"number":return typeof f=="number";case"object":return typeof f=="object";case"string":return typeof f=="string";case"boolean":return typeof f=="boolean";case"function":return typeof f=="function";case"undefined":return typeof f=="undefined";case"symbol":return typeof f=="symbol"}}function h(f,p,w){u(f,p)||s("invalid parameter type"+l(w)+". expected "+p+", got "+typeof f)}function g(f,p){f>=0&&(f|0)===f||s("invalid parameter type, ("+f+")"+l(p)+". must be a nonnegative integer")}function k(f,p,w){p.indexOf(f)<0&&s("invalid value"+l(w)+". must be one of: "+p)}var U=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function I(f){Object.keys(f).forEach(function(p){U.indexOf(p)<0&&s('invalid regl constructor argument "'+p+'". must be one of '+U)})}function O(f,p){for(f=f+"";f.length<p;)f=" "+f;return f}function $(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function R(f,p){this.number=f,this.line=p,this.errors=[]}function T(f,p,w){this.file=f,this.line=p,this.message=w}function B(){var f=new Error,p=(f.stack||f).toString(),w=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(p);if(w)return w[1];var H=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(p);return H?H[1]:"unknown"}function ee(){var f=new Error,p=(f.stack||f).toString(),w=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(p);if(w)return w[1];var H=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(p);return H?H[1]:"unknown"}function re(f,p){var w=f.split(`
`),H=1,J=0,j={unknown:new $,0:new $};j.unknown.name=j[0].name=p||B(),j.unknown.lines.push(new R(0,""));for(var X=0;X<w.length;++X){var oe=w[X],se=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(oe);if(se)switch(se[1]){case"line":var he=/(\d+)(\s+\d+)?/.exec(se[2]);he&&(H=he[1]|0,he[2]&&(J=he[2]|0,J in j||(j[J]=new $)));break;case"define":var pe=/SHADER_NAME(_B64)?\s+(.*)$/.exec(se[2]);pe&&(j[J].name=pe[1]?a(pe[2]):pe[2]);break}j[J].lines.push(new R(H++,oe))}return Object.keys(j).forEach(function(me){var ye=j[me];ye.lines.forEach(function(le){ye.index[le.number]=le})}),j}function Se(f){var p=[];return f.split(`
`).forEach(function(w){if(!(w.length<5)){var H=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(w);H?p.push(new T(H[1]|0,H[2]|0,H[3].trim())):w.length>0&&p.push(new T("unknown",0,w))}}),p}function Te(f,p){p.forEach(function(w){var H=f[w.file];if(H){var J=H.index[w.line];if(J){J.errors.push(w),H.hasErrors=!0;return}}f.unknown.hasErrors=!0,f.unknown.lines[0].errors.push(w)})}function Ke(f,p,w,H,J){if(!f.getShaderParameter(p,f.COMPILE_STATUS)){var j=f.getShaderInfoLog(p),X=H===f.FRAGMENT_SHADER?"fragment":"vertex";ne(w,"string",X+" shader source must be a string",J);var oe=re(w,J),se=Se(j);Te(oe,se),Object.keys(oe).forEach(function(he){var pe=oe[he];if(!pe.hasErrors)return;var me=[""],ye=[""];function le(ue,F){me.push(ue),ye.push(F||"")}le("file number "+he+": "+pe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),pe.lines.forEach(function(ue){if(ue.errors.length>0){le(O(ue.number,4)+"|  ","background-color:yellow; font-weight:bold"),le(ue.line+n,"color:red; background-color:yellow; font-weight:bold");var F=0;ue.errors.forEach(function(W){var ce=W.message,Pe=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ce);if(Pe){var ie=Pe[1];switch(ce=Pe[2],ie){case"assign":ie="=";break}F=Math.max(ue.line.indexOf(ie,F),0)}else F=0;le(O("| ",6)),le(O("^^^",F+3)+n,"font-weight:bold"),le(O("| ",6)),le(ce+n,"font-weight:bold")}),le(O("| ",6)+n)}else le(O(ue.number,4)+"|  "),le(ue.line+n,"color:red")}),typeof document!="undefined"&&!window.chrome?(ye[0]=me.join("%c"),console.log.apply(console,ye)):console.log(me.join(""))}),o.raise("Error compiling "+X+" shader, "+oe[0].name)}}function fe(f,p,w,H,J){if(!f.getProgramParameter(p,f.LINK_STATUS)){var j=f.getProgramInfoLog(p),X=re(w,J),oe=re(H,J),se='Error linking program with vertex shader, "'+oe[0].name+'", and fragment shader "'+X[0].name+'"';typeof document!="undefined"?console.log("%c"+se+n+"%c"+j,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(se+n+j),o.raise(se)}}function Ge(f){f._commandRef=B()}function He(f,p,w,H){Ge(f);function J(se){return se?H.id(se):0}f._fragId=J(f.static.frag),f._vertId=J(f.static.vert);function j(se,he){Object.keys(he).forEach(function(pe){se[H.id(pe)]=!0})}var X=f._uniformSet={};j(X,p.static),j(X,p.dynamic);var oe=f._attributeSet={};j(oe,w.static),j(oe,w.dynamic),f._hasCount="count"in f.static||"count"in f.dynamic||"elements"in f.static||"elements"in f.dynamic}function z(f,p){var w=ee();s(f+" in command "+(p||B())+(w==="unknown"?"":" called from "+w))}function we(f,p,w){f||z(p,w||B())}function K(f,p,w,H){f in p||z("unknown parameter ("+f+")"+l(w)+". possible values: "+Object.keys(p).join(),H||B())}function ne(f,p,w,H){u(f,p)||z("invalid parameter type"+l(w)+". expected "+p+", got "+typeof f,H||B())}function qe(f){f()}function Oe(f,p,w){f.texture?k(f.texture._texture.internalformat,p,"unsupported texture format for attachment"):k(f.renderbuffer._renderbuffer.format,w,"unsupported renderbuffer format for attachment")}var Xe=33071,it=9728,rt=9984,Bt=9985,Tt=9986,Ct=9987,Rt=5120,wt=5121,$t=5122,Ve=5123,dt=5124,gt=5125,be=5126,Mt=32819,Lt=32820,ai=33635,si=34042,at=36193,bt={};bt[Rt]=bt[wt]=1,bt[$t]=bt[Ve]=bt[at]=bt[ai]=bt[Mt]=bt[Lt]=2,bt[dt]=bt[gt]=bt[be]=bt[si]=4;function tr(f,p){return f===Lt||f===Mt||f===ai?2:f===si?4:bt[f]*p}function Mi(f){return!(f&f-1)&&!!f}function cd(f,p,w){var H,J=p.width,j=p.height,X=p.channels;o(J>0&&J<=w.maxTextureSize&&j>0&&j<=w.maxTextureSize,"invalid texture shape"),(f.wrapS!==Xe||f.wrapT!==Xe)&&o(Mi(J)&&Mi(j),"incompatible wrap mode for texture, both width and height must be power of 2"),p.mipmask===1?J!==1&&j!==1&&o(f.minFilter!==rt&&f.minFilter!==Tt&&f.minFilter!==Bt&&f.minFilter!==Ct,"min filter requires mipmap"):(o(Mi(J)&&Mi(j),"texture must be a square power of 2 to support mipmapping"),o(p.mipmask===(J<<1)-1,"missing or incomplete mipmap data")),p.type===be&&(w.extensions.indexOf("oes_texture_float_linear")<0&&o(f.minFilter===it&&f.magFilter===it,"filter not supported, must enable oes_texture_float_linear"),o(!f.genMipmaps,"mipmap generation not supported with float textures"));var oe=p.images;for(H=0;H<16;++H)if(oe[H]){var se=J>>H,he=j>>H;o(p.mipmask&1<<H,"missing mipmap data");var pe=oe[H];if(o(pe.width===se&&pe.height===he,"invalid shape for mip images"),o(pe.format===p.format&&pe.internalformat===p.internalformat&&pe.type===p.type,"incompatible type for mip image"),!pe.compressed)if(pe.data){var me=Math.ceil(tr(pe.type,X)*se/pe.unpackAlignment)*pe.unpackAlignment;o(pe.data.byteLength===me*he,"invalid data for image, buffer size is inconsistent with image format")}else pe.element||pe.copy}else f.genMipmaps||o((p.mipmask&1<<H)===0,"extra mipmap data");p.compressed&&o(!f.genMipmaps,"mipmap generation for compressed images not supported")}function ud(f,p,w,H){var J=f.width,j=f.height,X=f.channels;o(J>0&&J<=H.maxTextureSize&&j>0&&j<=H.maxTextureSize,"invalid texture shape"),o(J===j,"cube map must be square"),o(p.wrapS===Xe&&p.wrapT===Xe,"wrap mode not supported by cube map");for(var oe=0;oe<w.length;++oe){var se=w[oe];o(se.width===J&&se.height===j,"inconsistent cube map face shape"),p.genMipmaps&&(o(!se.compressed,"can not generate mipmap for compressed textures"),o(se.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var he=se.images,pe=0;pe<16;++pe){var me=he[pe];if(me){var ye=J>>pe,le=j>>pe;o(se.mipmask&1<<pe,"missing mipmap data"),o(me.width===ye&&me.height===le,"invalid shape for mip images"),o(me.format===f.format&&me.internalformat===f.internalformat&&me.type===f.type,"incompatible type for mip image"),me.compressed||(me.data?o(me.data.byteLength===ye*le*Math.max(tr(me.type,X),me.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):me.element||me.copy)}}}}var _=r(o,{optional:qe,raise:s,commandRaise:z,command:we,parameter:d,commandParameter:K,constructor:I,type:h,commandType:ne,isTypedArray:c,nni:g,oneOf:k,shaderError:Ke,linkError:fe,callSite:ee,saveCommandRef:Ge,saveDrawInfo:He,framebufferFormat:Oe,guessCommand:B,texture2D:cd,textureCube:ud}),co=0,fd=0,uo=5,Ue=6;function We(f,p){this.id=co++,this.type=f,this.data=p}function ae(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function q(f){if(f.length===0)return[];var p=f.charAt(0),w=f.charAt(f.length-1);if(f.length>1&&p===w&&(p==='"'||p==="'"))return['"'+ae(f.substr(1,f.length-2))+'"'];var H=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(f);if(H)return q(f.substr(0,H.index)).concat(q(H[1])).concat(q(f.substr(H.index+H[0].length)));var J=f.split(".");if(J.length===1)return['"'+ae(f)+'"'];for(var j=[],X=0;X<J.length;++X)j=j.concat(q(J[X]));return j}function ct(f){return"["+q(f).join("][")+"]"}function Ze(f,p){return new We(f,ct(p+""))}function Je(f){return typeof f=="function"&&!f._reglType||f instanceof We}function Gt(f,p){if(typeof f=="function")return new We(fd,f);if(typeof f=="number"||typeof f=="boolean")return new We(uo,f);if(Array.isArray(f))return new We(Ue,f.map(function(w,H){return Gt(w,p+"["+H+"]")}));if(f instanceof We)return f;_(!1,"invalid option type in uniform "+p)}var Pt={DynamicVariable:We,define:Ze,isDynamic:Je,unbox:Gt,accessor:ct},ti={next:typeof requestAnimationFrame=="function"?function(f){return requestAnimationFrame(f)}:function(f){return setTimeout(f,16)},cancel:typeof cancelAnimationFrame=="function"?function(f){return cancelAnimationFrame(f)}:clearTimeout},Zt=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ri(){var f={"":0},p=[""];return{id:function(w){var H=f[w];return H||(H=f[w]=p.length,p.push(w),H)},str:function(w){return p[w]}}}function Kt(f,p,w){var H=document.createElement("canvas");r(H.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),f.appendChild(H),f===document.body&&(H.style.position="absolute",r(f.style,{margin:0,padding:0}));function J(){var oe=window.innerWidth,se=window.innerHeight;if(f!==document.body){var he=H.getBoundingClientRect();oe=he.right-he.left,se=he.bottom-he.top}H.width=w*oe,H.height=w*se}var j;f!==document.body&&typeof ResizeObserver=="function"?(j=new ResizeObserver(function(){setTimeout(J)}),j.observe(f)):window.addEventListener("resize",J,!1);function X(){j?j.disconnect():window.removeEventListener("resize",J),f.removeChild(H)}return J(),{canvas:H,onDestroy:X}}function Ut(f,p){function w(H){try{return f.getContext(H,p)}catch(J){return null}}return w("webgl")||w("experimental-webgl")||w("webgl-experimental")}function pi(f){return typeof f.nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"}function Bi(f){return typeof f.drawArrays=="function"||typeof f.drawElements=="function"}function ir(f){return typeof f=="string"?f.split():(_(Array.isArray(f),"invalid extension array"),f)}function kr(f){return typeof f=="string"?(_(typeof document!="undefined","not supported outside of DOM"),document.querySelector(f)):f}function wn(f){var p=f||{},w,H,J,j,X={},oe=[],se=[],he=typeof window=="undefined"?1:window.devicePixelRatio,pe=!1,me=function(ue){ue&&_.raise(ue)},ye=function(){};if(typeof p=="string"?(_(typeof document!="undefined","selector queries only supported in DOM environments"),w=document.querySelector(p),_(w,"invalid query string for element")):typeof p=="object"?pi(p)?w=p:Bi(p)?(j=p,J=j.canvas):(_.constructor(p),"gl"in p?j=p.gl:"canvas"in p?J=kr(p.canvas):"container"in p&&(H=kr(p.container)),"attributes"in p&&(X=p.attributes,_.type(X,"object","invalid context attributes")),"extensions"in p&&(oe=ir(p.extensions)),"optionalExtensions"in p&&(se=ir(p.optionalExtensions)),"onDone"in p&&(_.type(p.onDone,"function","invalid or missing onDone callback"),me=p.onDone),"profile"in p&&(pe=!!p.profile),"pixelRatio"in p&&(he=+p.pixelRatio,_(he>0,"invalid pixel ratio"))):_.raise("invalid arguments to regl"),w&&(w.nodeName.toLowerCase()==="canvas"?J=w:H=w),!j){if(!J){_(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var le=Kt(H||document.body,me,he);if(!le)return null;J=le.canvas,ye=le.onDestroy}X.premultipliedAlpha===void 0&&(X.premultipliedAlpha=!0),j=Ut(J,X)}return j?{gl:j,canvas:J,container:H,extensions:oe,optionalExtensions:se,pixelRatio:he,profile:pe,onDone:me,onDestroy:ye}:(ye(),me("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Jr(f,p){var w={};function H(X){_.type(X,"string","extension name must be string");var oe=X.toLowerCase(),se;try{se=w[oe]=f.getExtension(oe)}catch(he){}return!!se}for(var J=0;J<p.extensions.length;++J){var j=p.extensions[J];if(!H(j))return p.onDestroy(),p.onDone('"'+j+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return p.optionalExtensions.forEach(H),{extensions:w,restore:function(){Object.keys(w).forEach(function(X){if(w[X]&&!H(X))throw new Error("(regl): error restoring extension "+X)})}}}function Vt(f,p){for(var w=Array(f),H=0;H<f;++H)w[H]=p(H);return w}var Sn=5120,Li=5121,gi=5122,hd=5123,is=5124,fo=5125,md=5126;function ho(f){for(var p=16;p<=1<<28;p*=16)if(f<=p)return p;return 0}function mo(f){var p,w;return p=(f>65535)<<4,f>>>=p,w=(f>255)<<3,f>>>=w,p|=w,w=(f>15)<<2,f>>>=w,p|=w,w=(f>3)<<1,f>>>=w,p|=w,p|f>>1}function po(){var f=Vt(8,function(){return[]});function p(j){var X=ho(j),oe=f[mo(X)>>2];return oe.length>0?oe.pop():new ArrayBuffer(X)}function w(j){f[mo(j.byteLength)>>2].push(j)}function H(j,X){var oe=null;switch(j){case Sn:oe=new Int8Array(p(X),0,X);break;case Li:oe=new Uint8Array(p(X),0,X);break;case gi:oe=new Int16Array(p(2*X),0,X);break;case hd:oe=new Uint16Array(p(2*X),0,X);break;case is:oe=new Int32Array(p(4*X),0,X);break;case fo:oe=new Uint32Array(p(4*X),0,X);break;case md:oe=new Float32Array(p(4*X),0,X);break;default:return null}return oe.length!==X?oe.subarray(0,X):oe}function J(j){w(j.buffer)}return{alloc:p,free:w,allocType:H,freeType:J}}var qt=po();qt.zero=po();var je=3408,yt=3410,Ot=3411,oi=3412,St=3413,mt=3414,Ft=3415,jt=33901,vi=33902,yi=3379,xi=3386,Cr=34921,Yi=36347,Qr=36348,ta=35661,Lr=35660,Or=34930,rs=36349,rr=34076,go=34024,U0=7936,j0=7937,H0=7938,V0=35724,W0=34047,X0=36063,q0=34852,vo=3553,Ju=34067,Y0=34069,K0=33984,ns=6408,pd=5126,Qu=5121,gd=36160,Z0=36053,J0=36064,Q0=16384,ev=function(f,p){var w=1;p.ext_texture_filter_anisotropic&&(w=f.getParameter(W0));var H=1,J=1;p.webgl_draw_buffers&&(H=f.getParameter(q0),J=f.getParameter(X0));var j=!!p.oes_texture_float;if(j){var X=f.createTexture();f.bindTexture(vo,X),f.texImage2D(vo,0,ns,1,1,0,ns,pd,null);var oe=f.createFramebuffer();if(f.bindFramebuffer(gd,oe),f.framebufferTexture2D(gd,J0,vo,X,0),f.bindTexture(vo,null),f.checkFramebufferStatus(gd)!==Z0)j=!1;else{f.viewport(0,0,1,1),f.clearColor(1,0,0,1),f.clear(Q0);var se=qt.allocType(pd,4);f.readPixels(0,0,1,1,ns,pd,se),f.getError()?j=!1:(f.deleteFramebuffer(oe),f.deleteTexture(X),j=se[0]===1),qt.freeType(se)}}var he=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),pe=!0;if(!he){var me=f.createTexture(),ye=qt.allocType(Qu,36);f.activeTexture(K0),f.bindTexture(Ju,me),f.texImage2D(Y0,0,ns,3,3,0,ns,Qu,ye),qt.freeType(ye),f.bindTexture(Ju,null),f.deleteTexture(me),pe=!f.getError()}return{colorBits:[f.getParameter(yt),f.getParameter(Ot),f.getParameter(oi),f.getParameter(St)],depthBits:f.getParameter(mt),stencilBits:f.getParameter(Ft),subpixelBits:f.getParameter(je),extensions:Object.keys(p).filter(function(le){return!!p[le]}),maxAnisotropic:w,maxDrawbuffers:H,maxColorAttachments:J,pointSizeDims:f.getParameter(jt),lineWidthDims:f.getParameter(vi),maxViewportDims:f.getParameter(xi),maxCombinedTextureUnits:f.getParameter(ta),maxCubeMapSize:f.getParameter(rr),maxRenderbufferSize:f.getParameter(go),maxTextureUnits:f.getParameter(Or),maxTextureSize:f.getParameter(yi),maxAttributes:f.getParameter(Cr),maxVertexUniforms:f.getParameter(Yi),maxVertexTextureUnits:f.getParameter(Lr),maxVaryingVectors:f.getParameter(Qr),maxFragmentUniforms:f.getParameter(rs),glsl:f.getParameter(V0),renderer:f.getParameter(j0),vendor:f.getParameter(U0),version:f.getParameter(H0),readFloat:j,npotTextureCube:pe}};function nr(f){return!!f&&typeof f=="object"&&Array.isArray(f.shape)&&Array.isArray(f.stride)&&typeof f.offset=="number"&&f.shape.length===f.stride.length&&(Array.isArray(f.data)||t(f.data))}var Wi=function(f){return Object.keys(f).map(function(p){return f[p]})},_o={shape:nv,flatten:rv};function tv(f,p,w){for(var H=0;H<p;++H)w[H]=f[H]}function iv(f,p,w,H){for(var J=0,j=0;j<p;++j)for(var X=f[j],oe=0;oe<w;++oe)H[J++]=X[oe]}function ef(f,p,w,H,J,j){for(var X=j,oe=0;oe<p;++oe)for(var se=f[oe],he=0;he<w;++he)for(var pe=se[he],me=0;me<H;++me)J[X++]=pe[me]}function tf(f,p,w,H,J){for(var j=1,X=w+1;X<p.length;++X)j*=p[X];var oe=p[w];if(p.length-w===4){var se=p[w+1],he=p[w+2],pe=p[w+3];for(X=0;X<oe;++X)ef(f[X],se,he,pe,H,J),J+=j}else for(X=0;X<oe;++X)tf(f[X],p,w+1,H,J),J+=j}function rv(f,p,w,H){var J=1;if(p.length)for(var j=0;j<p.length;++j)J*=p[j];else J=0;var X=H||qt.allocType(w,J);switch(p.length){case 0:break;case 1:tv(f,p[0],X);break;case 2:iv(f,p[0],p[1],X);break;case 3:ef(f,p[0],p[1],p[2],X,0);break;default:tf(f,p,0,X,0)}return X}function nv(f){for(var p=[],w=f;w.length;w=w[0])p.push(w.length);return p}var vd={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},av=5120,sv=5122,ov=5124,lv=5121,dv=5123,cv=5125,uv=5126,fv=5126,En={int8:av,int16:sv,int32:ov,uint8:lv,uint16:dv,uint32:cv,float:uv,float32:fv},hv=35048,mv=35040,bo={dynamic:hv,stream:mv,static:35044},_d=_o.flatten,rf=_o.shape,nf=35044,pv=35040,bd=5121,yd=5126,en=[];en[5120]=1,en[5122]=2,en[5124]=4,en[5121]=1,en[5123]=2,en[5125]=4,en[5126]=4;function yo(f){return vd[Object.prototype.toString.call(f)]|0}function af(f,p){for(var w=0;w<p.length;++w)f[w]=p[w]}function sf(f,p,w,H,J,j,X){for(var oe=0,se=0;se<w;++se)for(var he=0;he<H;++he)f[oe++]=p[J*se+j*he+X]}function gv(f,p,w,H){var J=0,j={};function X(F){this.id=J++,this.buffer=f.createBuffer(),this.type=F,this.usage=nf,this.byteLength=0,this.dimension=1,this.dtype=bd,this.persistentData=null,w.profile&&(this.stats={size:0})}X.prototype.bind=function(){f.bindBuffer(this.type,this.buffer)},X.prototype.destroy=function(){ye(this)};var oe=[];function se(F,W){var ce=oe.pop();return ce||(ce=new X(F)),ce.bind(),me(ce,W,pv,0,1,!1),ce}function he(F){oe.push(F)}function pe(F,W,ce){F.byteLength=W.byteLength,f.bufferData(F.type,W,ce)}function me(F,W,ce,Pe,ie,Le){var Ie;if(F.usage=ce,Array.isArray(W)){if(F.dtype=Pe||yd,W.length>0){var Ye;if(Array.isArray(W[0])){Ie=rf(W);for(var Q=1,Z=1;Z<Ie.length;++Z)Q*=Ie[Z];F.dimension=Q,Ye=_d(W,Ie,F.dtype),pe(F,Ye,ce),Le?F.persistentData=Ye:qt.freeType(Ye)}else if(typeof W[0]=="number"){F.dimension=ie;var Ne=qt.allocType(F.dtype,W.length);af(Ne,W),pe(F,Ne,ce),Le?F.persistentData=Ne:qt.freeType(Ne)}else t(W[0])?(F.dimension=W[0].length,F.dtype=Pe||yo(W[0])||yd,Ye=_d(W,[W.length,W[0].length],F.dtype),pe(F,Ye,ce),Le?F.persistentData=Ye:qt.freeType(Ye)):_.raise("invalid buffer data")}}else if(t(W))F.dtype=Pe||yo(W),F.dimension=ie,pe(F,W,ce),Le&&(F.persistentData=new Uint8Array(new Uint8Array(W.buffer)));else if(nr(W)){Ie=W.shape;var xe=W.stride,de=W.offset,Ee=0,Ae=0,ot=0,nt=0;Ie.length===1?(Ee=Ie[0],Ae=1,ot=xe[0],nt=0):Ie.length===2?(Ee=Ie[0],Ae=Ie[1],ot=xe[0],nt=xe[1]):_.raise("invalid shape"),F.dtype=Pe||yo(W.data)||yd,F.dimension=Ae;var ke=qt.allocType(F.dtype,Ee*Ae);sf(ke,W.data,Ee,Ae,ot,nt,de),pe(F,ke,ce),Le?F.persistentData=ke:qt.freeType(ke)}else W instanceof ArrayBuffer?(F.dtype=bd,F.dimension=ie,pe(F,W,ce),Le&&(F.persistentData=new Uint8Array(new Uint8Array(W)))):_.raise("invalid buffer data")}function ye(F){p.bufferCount--,H(F);var W=F.buffer;_(W,"buffer must not be deleted already"),f.deleteBuffer(W),F.buffer=null,delete j[F.id]}function le(F,W,ce,Pe){p.bufferCount++;var ie=new X(W);j[ie.id]=ie;function Le(Q){var Z=nf,Ne=null,xe=0,de=0,Ee=1;return Array.isArray(Q)||t(Q)||nr(Q)||Q instanceof ArrayBuffer?Ne=Q:typeof Q=="number"?xe=Q|0:Q&&(_.type(Q,"object","buffer arguments must be an object, a number or an array"),"data"in Q&&(_(Ne===null||Array.isArray(Ne)||t(Ne)||nr(Ne),"invalid data for buffer"),Ne=Q.data),"usage"in Q&&(_.parameter(Q.usage,bo,"invalid buffer usage"),Z=bo[Q.usage]),"type"in Q&&(_.parameter(Q.type,En,"invalid buffer type"),de=En[Q.type]),"dimension"in Q&&(_.type(Q.dimension,"number","invalid dimension"),Ee=Q.dimension|0),"length"in Q&&(_.nni(xe,"buffer length must be a nonnegative integer"),xe=Q.length|0)),ie.bind(),Ne?me(ie,Ne,Z,de,Ee,Pe):(xe&&f.bufferData(ie.type,xe,Z),ie.dtype=de||bd,ie.usage=Z,ie.dimension=Ee,ie.byteLength=xe),w.profile&&(ie.stats.size=ie.byteLength*en[ie.dtype]),Le}function Ie(Q,Z){_(Z+Q.byteLength<=ie.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Q.byteLength+" starting from offset "+Z+" to a buffer of size "+ie.byteLength),f.bufferSubData(ie.type,Z,Q)}function Ye(Q,Z){var Ne=(Z||0)|0,xe;if(ie.bind(),t(Q)||Q instanceof ArrayBuffer)Ie(Q,Ne);else if(Array.isArray(Q)){if(Q.length>0)if(typeof Q[0]=="number"){var de=qt.allocType(ie.dtype,Q.length);af(de,Q),Ie(de,Ne),qt.freeType(de)}else if(Array.isArray(Q[0])||t(Q[0])){xe=rf(Q);var Ee=_d(Q,xe,ie.dtype);Ie(Ee,Ne),qt.freeType(Ee)}else _.raise("invalid buffer data")}else if(nr(Q)){xe=Q.shape;var Ae=Q.stride,ot=0,nt=0,ke=0,Re=0;xe.length===1?(ot=xe[0],nt=1,ke=Ae[0],Re=0):xe.length===2?(ot=xe[0],nt=xe[1],ke=Ae[0],Re=Ae[1]):_.raise("invalid shape");var et=Array.isArray(Q.data)?ie.dtype:yo(Q.data),st=qt.allocType(et,ot*nt);sf(st,Q.data,ot,nt,ke,Re,Q.offset),Ie(st,Ne),qt.freeType(st)}else _.raise("invalid data for buffer subdata");return Le}return ce||Le(F),Le._reglType="buffer",Le._buffer=ie,Le.subdata=Ye,w.profile&&(Le.stats=ie.stats),Le.destroy=function(){ye(ie)},Le}function ue(){Wi(j).forEach(function(F){F.buffer=f.createBuffer(),f.bindBuffer(F.type,F.buffer),f.bufferData(F.type,F.persistentData||F.byteLength,F.usage)})}return w.profile&&(p.getTotalBufferSize=function(){var F=0;return Object.keys(j).forEach(function(W){F+=j[W].stats.size}),F}),{create:le,createStream:se,destroyStream:he,clear:function(){Wi(j).forEach(ye),oe.forEach(ye)},getBuffer:function(F){return F&&F._buffer instanceof X?F._buffer:null},restore:ue,_initBuffer:me}}var vv=0,_v=0,bv=1,yv=1,xv=4,wv=4,tn={points:vv,point:_v,lines:bv,line:yv,triangles:xv,triangle:wv,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Sv=0,Ev=1,as=4,Tv=5120,ia=5121,of=5122,ra=5123,lf=5124,Tn=5125,xd=34963,Av=35040,Iv=35044;function kv(f,p,w,H){var J={},j=0,X={uint8:ia,uint16:ra};p.oes_element_index_uint&&(X.uint32=Tn);function oe(ue){this.id=j++,J[this.id]=this,this.buffer=ue,this.primType=as,this.vertCount=0,this.type=0}oe.prototype.bind=function(){this.buffer.bind()};var se=[];function he(ue){var F=se.pop();return F||(F=new oe(w.create(null,xd,!0,!1)._buffer)),me(F,ue,Av,-1,-1,0,0),F}function pe(ue){se.push(ue)}function me(ue,F,W,ce,Pe,ie,Le){ue.buffer.bind();var Ie;if(F){var Ye=Le;!Le&&(!t(F)||nr(F)&&!t(F.data))&&(Ye=p.oes_element_index_uint?Tn:ra),w._initBuffer(ue.buffer,F,W,Ye,3)}else f.bufferData(xd,ie,W),ue.buffer.dtype=Ie||ia,ue.buffer.usage=W,ue.buffer.dimension=3,ue.buffer.byteLength=ie;if(Ie=Le,!Le){switch(ue.buffer.dtype){case ia:case Tv:Ie=ia;break;case ra:case of:Ie=ra;break;case Tn:case lf:Ie=Tn;break;default:_.raise("unsupported type for element array")}ue.buffer.dtype=Ie}ue.type=Ie,_(Ie!==Tn||!!p.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Q=Pe;Q<0&&(Q=ue.buffer.byteLength,Ie===ra?Q>>=1:Ie===Tn&&(Q>>=2)),ue.vertCount=Q;var Z=ce;if(ce<0){Z=as;var Ne=ue.buffer.dimension;Ne===1&&(Z=Sv),Ne===2&&(Z=Ev),Ne===3&&(Z=as)}ue.primType=Z}function ye(ue){H.elementsCount--,_(ue.buffer!==null,"must not double destroy elements"),delete J[ue.id],ue.buffer.destroy(),ue.buffer=null}function le(ue,F){var W=w.create(null,xd,!0),ce=new oe(W._buffer);H.elementsCount++;function Pe(ie){if(!ie)W(),ce.primType=as,ce.vertCount=0,ce.type=ia;else if(typeof ie=="number")W(ie),ce.primType=as,ce.vertCount=ie|0,ce.type=ia;else{var Le=null,Ie=Iv,Ye=-1,Q=-1,Z=0,Ne=0;Array.isArray(ie)||t(ie)||nr(ie)?Le=ie:(_.type(ie,"object","invalid arguments for elements"),"data"in ie&&(Le=ie.data,_(Array.isArray(Le)||t(Le)||nr(Le),"invalid data for element buffer")),"usage"in ie&&(_.parameter(ie.usage,bo,"invalid element buffer usage"),Ie=bo[ie.usage]),"primitive"in ie&&(_.parameter(ie.primitive,tn,"invalid element buffer primitive"),Ye=tn[ie.primitive]),"count"in ie&&(_(typeof ie.count=="number"&&ie.count>=0,"invalid vertex count for elements"),Q=ie.count|0),"type"in ie&&(_.parameter(ie.type,X,"invalid buffer type"),Ne=X[ie.type]),"length"in ie?Z=ie.length|0:(Z=Q,Ne===ra||Ne===of?Z*=2:(Ne===Tn||Ne===lf)&&(Z*=4))),me(ce,Le,Ie,Ye,Q,Z,Ne)}return Pe}return Pe(ue),Pe._reglType="elements",Pe._elements=ce,Pe.subdata=function(ie,Le){return W.subdata(ie,Le),Pe},Pe.destroy=function(){ye(ce)},Pe}return{create:le,createStream:he,destroyStream:pe,getElements:function(ue){return typeof ue=="function"&&ue._elements instanceof oe?ue._elements:null},clear:function(){Wi(J).forEach(ye)}}}var df=new Float32Array(1),Cv=new Uint32Array(df.buffer),Lv=5123;function cf(f){for(var p=qt.allocType(Lv,f.length),w=0;w<f.length;++w)if(isNaN(f[w]))p[w]=65535;else if(f[w]===1/0)p[w]=31744;else if(f[w]===-1/0)p[w]=64512;else{df[0]=f[w];var H=Cv[0],J=H>>>31<<15,j=(H<<1>>>24)-127,X=H>>13&1023;if(j<-24)p[w]=J;else if(j<-14){var oe=-14-j;p[w]=J+(X+1024>>oe)}else j>15?p[w]=J+31744:p[w]=J+(j+15<<10)+X}return p}function Jt(f){return Array.isArray(f)||t(f)}var uf=function(f){return!(f&f-1)&&!!f},Ov=34467,mr=3553,wd=34067,xo=34069,An=6408,Sd=6406,wo=6407,ss=6409,So=6410,ff=32854,Ed=32855,hf=36194,Rv=32819,Pv=32820,Fv=33635,Dv=34042,Td=6402,Eo=34041,Ad=35904,Id=35906,na=36193,kd=33776,Cd=33777,Ld=33778,Od=33779,mf=35986,pf=35987,gf=34798,vf=35840,_f=35841,bf=35842,yf=35843,xf=36196,aa=5121,Rd=5123,Pd=5125,os=5126,Nv=10242,zv=10243,Mv=10497,Fd=33071,Bv=33648,$v=10240,Gv=10241,Dd=9728,Uv=9729,Nd=9984,wf=9985,Sf=9986,zd=9987,jv=33170,To=4352,Hv=4353,Vv=4354,Wv=34046,Xv=3317,qv=37440,Yv=37441,Kv=37443,Ef=37444,ls=33984,Zv=[Nd,Sf,wf,zd],Ao=[0,ss,So,wo,An],Ki={};Ki[ss]=Ki[Sd]=Ki[Td]=1,Ki[Eo]=Ki[So]=2,Ki[wo]=Ki[Ad]=3,Ki[An]=Ki[Id]=4;function sa(f){return"[object "+f+"]"}var Tf=sa("HTMLCanvasElement"),Af=sa("OffscreenCanvas"),If=sa("CanvasRenderingContext2D"),kf=sa("ImageBitmap"),Cf=sa("HTMLImageElement"),Lf=sa("HTMLVideoElement"),Jv=Object.keys(vd).concat([Tf,Af,If,kf,Cf,Lf]),oa=[];oa[aa]=1,oa[os]=4,oa[na]=2,oa[Rd]=2,oa[Pd]=4;var Ti=[];Ti[ff]=2,Ti[Ed]=2,Ti[hf]=2,Ti[Eo]=4,Ti[kd]=.5,Ti[Cd]=.5,Ti[Ld]=1,Ti[Od]=1,Ti[mf]=.5,Ti[pf]=1,Ti[gf]=1,Ti[vf]=.5,Ti[_f]=.25,Ti[bf]=.5,Ti[yf]=.25,Ti[xf]=.5;function Of(f){return Array.isArray(f)&&(f.length===0||typeof f[0]=="number")}function Rf(f){if(!Array.isArray(f))return!1;var p=f.length;return!(p===0||!Jt(f[0]))}function In(f){return Object.prototype.toString.call(f)}function Pf(f){return In(f)===Tf}function Ff(f){return In(f)===Af}function Qv(f){return In(f)===If}function e_(f){return In(f)===kf}function t_(f){return In(f)===Cf}function i_(f){return In(f)===Lf}function Md(f){if(!f)return!1;var p=In(f);return Jv.indexOf(p)>=0?!0:Of(f)||Rf(f)||nr(f)}function Df(f){return vd[Object.prototype.toString.call(f)]|0}function r_(f,p){var w=p.length;switch(f.type){case aa:case Rd:case Pd:case os:var H=qt.allocType(f.type,w);H.set(p),f.data=H;break;case na:f.data=cf(p);break;default:_.raise("unsupported texture type, must specify a typed array")}}function Nf(f,p){return qt.allocType(f.type===na?os:f.type,p)}function zf(f,p){f.type===na?(f.data=cf(p),qt.freeType(p)):f.data=p}function n_(f,p,w,H,J,j){for(var X=f.width,oe=f.height,se=f.channels,he=X*oe*se,pe=Nf(f,he),me=0,ye=0;ye<oe;++ye)for(var le=0;le<X;++le)for(var ue=0;ue<se;++ue)pe[me++]=p[w*le+H*ye+J*ue+j];zf(f,pe)}function Io(f,p,w,H,J,j){var X;if(typeof Ti[f]!="undefined"?X=Ti[f]:X=Ki[f]*oa[p],j&&(X*=6),J){for(var oe=0,se=w;se>=1;)oe+=X*se*se,se/=2;return oe}else return X*w*H}function a_(f,p,w,H,J,j,X){var oe={"don't care":To,"dont care":To,nice:Vv,fast:Hv},se={repeat:Mv,clamp:Fd,mirror:Bv},he={nearest:Dd,linear:Uv},pe=r({mipmap:zd,"nearest mipmap nearest":Nd,"linear mipmap nearest":wf,"nearest mipmap linear":Sf,"linear mipmap linear":zd},he),me={none:0,browser:Ef},ye={uint8:aa,rgba4:Rv,rgb565:Fv,"rgb5 a1":Pv},le={alpha:Sd,luminance:ss,"luminance alpha":So,rgb:wo,rgba:An,rgba4:ff,"rgb5 a1":Ed,rgb565:hf},ue={};p.ext_srgb&&(le.srgb=Ad,le.srgba=Id),p.oes_texture_float&&(ye.float32=ye.float=os),p.oes_texture_half_float&&(ye.float16=ye["half float"]=na),p.webgl_depth_texture&&(r(le,{depth:Td,"depth stencil":Eo}),r(ye,{uint16:Rd,uint32:Pd,"depth stencil":Dv})),p.webgl_compressed_texture_s3tc&&r(ue,{"rgb s3tc dxt1":kd,"rgba s3tc dxt1":Cd,"rgba s3tc dxt3":Ld,"rgba s3tc dxt5":Od}),p.webgl_compressed_texture_atc&&r(ue,{"rgb atc":mf,"rgba atc explicit alpha":pf,"rgba atc interpolated alpha":gf}),p.webgl_compressed_texture_pvrtc&&r(ue,{"rgb pvrtc 4bppv1":vf,"rgb pvrtc 2bppv1":_f,"rgba pvrtc 4bppv1":bf,"rgba pvrtc 2bppv1":yf}),p.webgl_compressed_texture_etc1&&(ue["rgb etc1"]=xf);var F=Array.prototype.slice.call(f.getParameter(Ov));Object.keys(ue).forEach(function(x){var V=ue[x];F.indexOf(V)>=0&&(le[x]=V)});var W=Object.keys(le);w.textureFormats=W;var ce=[];Object.keys(le).forEach(function(x){var V=le[x];ce[V]=x});var Pe=[];Object.keys(ye).forEach(function(x){var V=ye[x];Pe[V]=x});var ie=[];Object.keys(he).forEach(function(x){var V=he[x];ie[V]=x});var Le=[];Object.keys(pe).forEach(function(x){var V=pe[x];Le[V]=x});var Ie=[];Object.keys(se).forEach(function(x){var V=se[x];Ie[V]=x});var Ye=W.reduce(function(x,V){var G=le[V];return G===ss||G===Sd||G===ss||G===So||G===Td||G===Eo||p.ext_srgb&&(G===Ad||G===Id)?x[G]=G:G===Ed||V.indexOf("rgba")>=0?x[G]=An:x[G]=wo,x},{});function Q(){this.internalformat=An,this.format=An,this.type=aa,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ef,this.width=0,this.height=0,this.channels=0}function Z(x,V){x.internalformat=V.internalformat,x.format=V.format,x.type=V.type,x.compressed=V.compressed,x.premultiplyAlpha=V.premultiplyAlpha,x.flipY=V.flipY,x.unpackAlignment=V.unpackAlignment,x.colorSpace=V.colorSpace,x.width=V.width,x.height=V.height,x.channels=V.channels}function Ne(x,V){if(!(typeof V!="object"||!V)){if("premultiplyAlpha"in V&&(_.type(V.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),x.premultiplyAlpha=V.premultiplyAlpha),"flipY"in V&&(_.type(V.flipY,"boolean","invalid texture flip"),x.flipY=V.flipY),"alignment"in V&&(_.oneOf(V.alignment,[1,2,4,8],"invalid texture unpack alignment"),x.unpackAlignment=V.alignment),"colorSpace"in V&&(_.parameter(V.colorSpace,me,"invalid colorSpace"),x.colorSpace=me[V.colorSpace]),"type"in V){var G=V.type;_(p.oes_texture_float||!(G==="float"||G==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),_(p.oes_texture_half_float||!(G==="half float"||G==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),_(p.webgl_depth_texture||!(G==="uint16"||G==="uint32"||G==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(G,ye,"invalid texture type"),x.type=ye[G]}var De=x.width,ut=x.height,b=x.channels,m=!1;"shape"in V?(_(Array.isArray(V.shape)&&V.shape.length>=2,"shape must be an array"),De=V.shape[0],ut=V.shape[1],V.shape.length===3&&(b=V.shape[2],_(b>0&&b<=4,"invalid number of channels"),m=!0),_(De>=0&&De<=w.maxTextureSize,"invalid width"),_(ut>=0&&ut<=w.maxTextureSize,"invalid height")):("radius"in V&&(De=ut=V.radius,_(De>=0&&De<=w.maxTextureSize,"invalid radius")),"width"in V&&(De=V.width,_(De>=0&&De<=w.maxTextureSize,"invalid width")),"height"in V&&(ut=V.height,_(ut>=0&&ut<=w.maxTextureSize,"invalid height")),"channels"in V&&(b=V.channels,_(b>0&&b<=4,"invalid number of channels"),m=!0)),x.width=De|0,x.height=ut|0,x.channels=b|0;var E=!1;if("format"in V){var P=V.format;_(p.webgl_depth_texture||!(P==="depth"||P==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),_.parameter(P,le,"invalid texture format");var N=x.internalformat=le[P];x.format=Ye[N],P in ye&&("type"in V||(x.type=ye[P])),P in ue&&(x.compressed=!0),E=!0}!m&&E?x.channels=Ki[x.format]:m&&!E?x.channels!==Ao[x.format]&&(x.format=x.internalformat=Ao[x.channels]):E&&m&&_(x.channels===Ki[x.format],"number of channels inconsistent with specified format")}}function xe(x){f.pixelStorei(qv,x.flipY),f.pixelStorei(Yv,x.premultiplyAlpha),f.pixelStorei(Kv,x.colorSpace),f.pixelStorei(Xv,x.unpackAlignment)}function de(){Q.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ee(x,V){var G=null;if(Md(V)?G=V:V&&(_.type(V,"object","invalid pixel data type"),Ne(x,V),"x"in V&&(x.xOffset=V.x|0),"y"in V&&(x.yOffset=V.y|0),Md(V.data)&&(G=V.data)),_(!x.compressed||G instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),V.copy){_(!G,"can not specify copy and data field for the same texture");var De=J.viewportWidth,ut=J.viewportHeight;x.width=x.width||De-x.xOffset,x.height=x.height||ut-x.yOffset,x.needsCopy=!0,_(x.xOffset>=0&&x.xOffset<De&&x.yOffset>=0&&x.yOffset<ut&&x.width>0&&x.width<=De&&x.height>0&&x.height<=ut,"copy texture read out of bounds")}else if(!G)x.width=x.width||1,x.height=x.height||1,x.channels=x.channels||4;else if(t(G))x.channels=x.channels||4,x.data=G,!("type"in V)&&x.type===aa&&(x.type=Df(G));else if(Of(G))x.channels=x.channels||4,r_(x,G),x.alignment=1,x.needsFree=!0;else if(nr(G)){var b=G.data;!Array.isArray(b)&&x.type===aa&&(x.type=Df(b));var m=G.shape,E=G.stride,P,N,C,A,L,v;m.length===3?(C=m[2],v=E[2]):(_(m.length===2,"invalid ndarray pixel data, must be 2 or 3D"),C=1,v=1),P=m[0],N=m[1],A=E[0],L=E[1],x.alignment=1,x.width=P,x.height=N,x.channels=C,x.format=x.internalformat=Ao[C],x.needsFree=!0,n_(x,b,A,L,v,G.offset)}else if(Pf(G)||Ff(G)||Qv(G))Pf(G)||Ff(G)?x.element=G:x.element=G.canvas,x.width=x.element.width,x.height=x.element.height,x.channels=4;else if(e_(G))x.element=G,x.width=G.width,x.height=G.height,x.channels=4;else if(t_(G))x.element=G,x.width=G.naturalWidth,x.height=G.naturalHeight,x.channels=4;else if(i_(G))x.element=G,x.width=G.videoWidth,x.height=G.videoHeight,x.channels=4;else if(Rf(G)){var S=x.width||G[0].length,y=x.height||G.length,D=x.channels;Jt(G[0][0])?D=D||G[0][0].length:D=D||1;for(var M=_o.shape(G),te=1,ve=0;ve<M.length;++ve)te*=M[ve];var _e=Nf(x,te);_o.flatten(G,M,"",_e),zf(x,_e),x.alignment=1,x.width=S,x.height=y,x.channels=D,x.format=x.internalformat=Ao[D],x.needsFree=!0}x.type===os?_(w.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):x.type===na&&_(w.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Ae(x,V,G){var De=x.element,ut=x.data,b=x.internalformat,m=x.format,E=x.type,P=x.width,N=x.height;xe(x),De?f.texImage2D(V,G,m,m,E,De):x.compressed?f.compressedTexImage2D(V,G,b,P,N,0,ut):x.needsCopy?(H(),f.copyTexImage2D(V,G,m,x.xOffset,x.yOffset,P,N,0)):f.texImage2D(V,G,m,P,N,0,m,E,ut||null)}function ot(x,V,G,De,ut){var b=x.element,m=x.data,E=x.internalformat,P=x.format,N=x.type,C=x.width,A=x.height;xe(x),b?f.texSubImage2D(V,ut,G,De,P,N,b):x.compressed?f.compressedTexSubImage2D(V,ut,G,De,E,C,A,m):x.needsCopy?(H(),f.copyTexSubImage2D(V,ut,G,De,x.xOffset,x.yOffset,C,A)):f.texSubImage2D(V,ut,G,De,C,A,P,N,m)}var nt=[];function ke(){return nt.pop()||new de}function Re(x){x.needsFree&&qt.freeType(x.data),de.call(x),nt.push(x)}function et(){Q.call(this),this.genMipmaps=!1,this.mipmapHint=To,this.mipmask=0,this.images=Array(16)}function st(x,V,G){var De=x.images[0]=ke();x.mipmask=1,De.width=x.width=V,De.height=x.height=G,De.channels=x.channels=4}function ft(x,V){var G=null;if(Md(V))G=x.images[0]=ke(),Z(G,x),Ee(G,V),x.mipmask=1;else if(Ne(x,V),Array.isArray(V.mipmap))for(var De=V.mipmap,ut=0;ut<De.length;++ut)G=x.images[ut]=ke(),Z(G,x),G.width>>=ut,G.height>>=ut,Ee(G,De[ut]),x.mipmask|=1<<ut;else G=x.images[0]=ke(),Z(G,x),Ee(G,V),x.mipmask=1;Z(x,x.images[0]),x.compressed&&(x.internalformat===kd||x.internalformat===Cd||x.internalformat===Ld||x.internalformat===Od)&&_(x.width%4===0&&x.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Wt(x,V){for(var G=x.images,De=0;De<G.length;++De){if(!G[De])return;Ae(G[De],V,De)}}var Yt=[];function pt(){var x=Yt.pop()||new et;Q.call(x),x.mipmask=0;for(var V=0;V<16;++V)x.images[V]=null;return x}function li(x){for(var V=x.images,G=0;G<V.length;++G)V[G]&&Re(V[G]),V[G]=null;Yt.push(x)}function Ht(){this.minFilter=Dd,this.magFilter=Dd,this.wrapS=Fd,this.wrapT=Fd,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=To}function ri(x,V){if("min"in V){var G=V.min;_.parameter(G,pe),x.minFilter=pe[G],Zv.indexOf(x.minFilter)>=0&&!("faces"in V)&&(x.genMipmaps=!0)}if("mag"in V){var De=V.mag;_.parameter(De,he),x.magFilter=he[De]}var ut=x.wrapS,b=x.wrapT;if("wrap"in V){var m=V.wrap;typeof m=="string"?(_.parameter(m,se),ut=b=se[m]):Array.isArray(m)&&(_.parameter(m[0],se),_.parameter(m[1],se),ut=se[m[0]],b=se[m[1]])}else{if("wrapS"in V){var E=V.wrapS;_.parameter(E,se),ut=se[E]}if("wrapT"in V){var P=V.wrapT;_.parameter(P,se),b=se[P]}}if(x.wrapS=ut,x.wrapT=b,"anisotropic"in V){var N=V.anisotropic;_(typeof N=="number"&&N>=1&&N<=w.maxAnisotropic,"aniso samples must be between 1 and "),x.anisotropic=V.anisotropic}if("mipmap"in V){var C=!1;switch(typeof V.mipmap){case"string":_.parameter(V.mipmap,oe,"invalid mipmap hint"),x.mipmapHint=oe[V.mipmap],x.genMipmaps=!0,C=!0;break;case"boolean":C=x.genMipmaps=V.mipmap;break;case"object":_(Array.isArray(V.mipmap),"invalid mipmap type"),x.genMipmaps=!1,C=!0;break;default:_.raise("invalid mipmap type")}C&&!("min"in V)&&(x.minFilter=Nd)}}function di(x,V){f.texParameteri(V,Gv,x.minFilter),f.texParameteri(V,$v,x.magFilter),f.texParameteri(V,Nv,x.wrapS),f.texParameteri(V,zv,x.wrapT),p.ext_texture_filter_anisotropic&&f.texParameteri(V,Wv,x.anisotropic),x.genMipmaps&&(f.hint(jv,x.mipmapHint),f.generateMipmap(V))}var ci=0,wi={},Ai=w.maxTextureUnits,Qt=Array(Ai).map(function(){return null});function lt(x){Q.call(this),this.mipmask=0,this.internalformat=An,this.id=ci++,this.refCount=1,this.target=x,this.texture=f.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ht,X.profile&&(this.stats={size:0})}function Ii(x){f.activeTexture(ls),f.bindTexture(x.target,x.texture)}function At(){var x=Qt[0];x?f.bindTexture(x.target,x.texture):f.bindTexture(mr,null)}function Qe(x){var V=x.texture;_(V,"must not double destroy texture");var G=x.unit,De=x.target;G>=0&&(f.activeTexture(ls+G),f.bindTexture(De,null),Qt[G]=null),f.deleteTexture(V),x.texture=null,x.params=null,x.pixels=null,x.refCount=0,delete wi[x.id],j.textureCount--}r(lt.prototype,{bind:function(){var x=this;x.bindCount+=1;var V=x.unit;if(V<0){for(var G=0;G<Ai;++G){var De=Qt[G];if(De){if(De.bindCount>0)continue;De.unit=-1}Qt[G]=x,V=G;break}V>=Ai&&_.raise("insufficient number of texture units"),X.profile&&j.maxTextureUnits<V+1&&(j.maxTextureUnits=V+1),x.unit=V,f.activeTexture(ls+V),f.bindTexture(x.target,x.texture)}return V},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Qe(this)}});function ht(x,V){var G=new lt(mr);wi[G.id]=G,j.textureCount++;function De(m,E){var P=G.texInfo;Ht.call(P);var N=pt();return typeof m=="number"?typeof E=="number"?st(N,m|0,E|0):st(N,m|0,m|0):m?(_.type(m,"object","invalid arguments to regl.texture"),ri(P,m),ft(N,m)):st(N,1,1),P.genMipmaps&&(N.mipmask=(N.width<<1)-1),G.mipmask=N.mipmask,Z(G,N),_.texture2D(P,N,w),G.internalformat=N.internalformat,De.width=N.width,De.height=N.height,Ii(G),Wt(N,mr),di(P,mr),At(),li(N),X.profile&&(G.stats.size=Io(G.internalformat,G.type,N.width,N.height,P.genMipmaps,!1)),De.format=ce[G.internalformat],De.type=Pe[G.type],De.mag=ie[P.magFilter],De.min=Le[P.minFilter],De.wrapS=Ie[P.wrapS],De.wrapT=Ie[P.wrapT],De}function ut(m,E,P,N){_(!!m,"must specify image data");var C=E|0,A=P|0,L=N|0,v=ke();return Z(v,G),v.width=0,v.height=0,Ee(v,m),v.width=v.width||(G.width>>L)-C,v.height=v.height||(G.height>>L)-A,_(G.type===v.type&&G.format===v.format&&G.internalformat===v.internalformat,"incompatible format for texture.subimage"),_(C>=0&&A>=0&&C+v.width<=G.width&&A+v.height<=G.height,"texture.subimage write out of bounds"),_(G.mipmask&1<<L,"missing mipmap data"),_(v.data||v.element||v.needsCopy,"missing image data"),Ii(G),ot(v,mr,C,A,L),At(),Re(v),De}function b(m,E){var P=m|0,N=E|0||P;if(P===G.width&&N===G.height)return De;De.width=G.width=P,De.height=G.height=N,Ii(G);for(var C=0;G.mipmask>>C;++C){var A=P>>C,L=N>>C;if(!A||!L)break;f.texImage2D(mr,C,G.format,A,L,0,G.format,G.type,null)}return At(),X.profile&&(G.stats.size=Io(G.internalformat,G.type,P,N,!1,!1)),De}return De(x,V),De.subimage=ut,De.resize=b,De._reglType="texture2d",De._texture=G,X.profile&&(De.stats=G.stats),De.destroy=function(){G.decRef()},De}function _t(x,V,G,De,ut,b){var m=new lt(wd);wi[m.id]=m,j.cubeCount++;var E=new Array(6);function P(A,L,v,S,y,D){var M,te=m.texInfo;for(Ht.call(te),M=0;M<6;++M)E[M]=pt();if(typeof A=="number"||!A){var ve=A|0||1;for(M=0;M<6;++M)st(E[M],ve,ve)}else if(typeof A=="object")if(L)ft(E[0],A),ft(E[1],L),ft(E[2],v),ft(E[3],S),ft(E[4],y),ft(E[5],D);else if(ri(te,A),Ne(m,A),"faces"in A){var _e=A.faces;for(_(Array.isArray(_e)&&_e.length===6,"cube faces must be a length 6 array"),M=0;M<6;++M)_(typeof _e[M]=="object"&&!!_e[M],"invalid input for cube map face"),Z(E[M],m),ft(E[M],_e[M])}else for(M=0;M<6;++M)ft(E[M],A);else _.raise("invalid arguments to cube map");for(Z(m,E[0]),_.optional(function(){w.npotTextureCube||_(uf(m.width)&&uf(m.height),"your browser does not support non power or two texture dimensions")}),te.genMipmaps?m.mipmask=(E[0].width<<1)-1:m.mipmask=E[0].mipmask,_.textureCube(m,te,E,w),m.internalformat=E[0].internalformat,P.width=E[0].width,P.height=E[0].height,Ii(m),M=0;M<6;++M)Wt(E[M],xo+M);for(di(te,wd),At(),X.profile&&(m.stats.size=Io(m.internalformat,m.type,P.width,P.height,te.genMipmaps,!0)),P.format=ce[m.internalformat],P.type=Pe[m.type],P.mag=ie[te.magFilter],P.min=Le[te.minFilter],P.wrapS=Ie[te.wrapS],P.wrapT=Ie[te.wrapT],M=0;M<6;++M)li(E[M]);return P}function N(A,L,v,S,y){_(!!L,"must specify image data"),_(typeof A=="number"&&A===(A|0)&&A>=0&&A<6,"invalid face");var D=v|0,M=S|0,te=y|0,ve=ke();return Z(ve,m),ve.width=0,ve.height=0,Ee(ve,L),ve.width=ve.width||(m.width>>te)-D,ve.height=ve.height||(m.height>>te)-M,_(m.type===ve.type&&m.format===ve.format&&m.internalformat===ve.internalformat,"incompatible format for texture.subimage"),_(D>=0&&M>=0&&D+ve.width<=m.width&&M+ve.height<=m.height,"texture.subimage write out of bounds"),_(m.mipmask&1<<te,"missing mipmap data"),_(ve.data||ve.element||ve.needsCopy,"missing image data"),Ii(m),ot(ve,xo+A,D,M,te),At(),Re(ve),P}function C(A){var L=A|0;if(L!==m.width){P.width=m.width=L,P.height=m.height=L,Ii(m);for(var v=0;v<6;++v)for(var S=0;m.mipmask>>S;++S)f.texImage2D(xo+v,S,m.format,L>>S,L>>S,0,m.format,m.type,null);return At(),X.profile&&(m.stats.size=Io(m.internalformat,m.type,P.width,P.height,!1,!0)),P}}return P(x,V,G,De,ut,b),P.subimage=N,P.resize=C,P._reglType="textureCube",P._texture=m,X.profile&&(P.stats=m.stats),P.destroy=function(){m.decRef()},P}function ei(){for(var x=0;x<Ai;++x)f.activeTexture(ls+x),f.bindTexture(mr,null),Qt[x]=null;Wi(wi).forEach(Qe),j.cubeCount=0,j.textureCount=0}X.profile&&(j.getTotalTextureSize=function(){var x=0;return Object.keys(wi).forEach(function(V){x+=wi[V].stats.size}),x});function gr(){for(var x=0;x<Ai;++x){var V=Qt[x];V&&(V.bindCount=0,V.unit=-1,Qt[x]=null)}Wi(wi).forEach(function(G){G.texture=f.createTexture(),f.bindTexture(G.target,G.texture);for(var De=0;De<32;++De)if(G.mipmask&1<<De)if(G.target===mr)f.texImage2D(mr,De,G.internalformat,G.width>>De,G.height>>De,0,G.internalformat,G.type,null);else for(var ut=0;ut<6;++ut)f.texImage2D(xo+ut,De,G.internalformat,G.width>>De,G.height>>De,0,G.internalformat,G.type,null);di(G.texInfo,G.target)})}function Fn(){for(var x=0;x<Ai;++x){var V=Qt[x];V&&(V.bindCount=0,V.unit=-1,Qt[x]=null),f.activeTexture(ls+x),f.bindTexture(mr,null),f.bindTexture(wd,null)}}return{create2D:ht,createCube:_t,clear:ei,getTexture:function(x){return null},restore:gr,refresh:Fn}}var rn=36161,ko=32854,Mf=32855,Bf=36194,$f=33189,Gf=36168,Uf=34041,jf=35907,Hf=34836,Vf=34842,Wf=34843,ar=[];ar[ko]=2,ar[Mf]=2,ar[Bf]=2,ar[$f]=2,ar[Gf]=1,ar[Uf]=4,ar[jf]=4,ar[Hf]=16,ar[Vf]=8,ar[Wf]=6;function Xf(f,p,w){return ar[f]*p*w}var s_=function(f,p,w,H,J){var j={rgba4:ko,rgb565:Bf,"rgb5 a1":Mf,depth:$f,stencil:Gf,"depth stencil":Uf};p.ext_srgb&&(j.srgba=jf),p.ext_color_buffer_half_float&&(j.rgba16f=Vf,j.rgb16f=Wf),p.webgl_color_buffer_float&&(j.rgba32f=Hf);var X=[];Object.keys(j).forEach(function(le){var ue=j[le];X[ue]=le});var oe=0,se={};function he(le){this.id=oe++,this.refCount=1,this.renderbuffer=le,this.format=ko,this.width=0,this.height=0,J.profile&&(this.stats={size:0})}he.prototype.decRef=function(){--this.refCount<=0&&pe(this)};function pe(le){var ue=le.renderbuffer;_(ue,"must not double destroy renderbuffer"),f.bindRenderbuffer(rn,null),f.deleteRenderbuffer(ue),le.renderbuffer=null,le.refCount=0,delete se[le.id],H.renderbufferCount--}function me(le,ue){var F=new he(f.createRenderbuffer());se[F.id]=F,H.renderbufferCount++;function W(Pe,ie){var Le=0,Ie=0,Ye=ko;if(typeof Pe=="object"&&Pe){var Q=Pe;if("shape"in Q){var Z=Q.shape;_(Array.isArray(Z)&&Z.length>=2,"invalid renderbuffer shape"),Le=Z[0]|0,Ie=Z[1]|0}else"radius"in Q&&(Le=Ie=Q.radius|0),"width"in Q&&(Le=Q.width|0),"height"in Q&&(Ie=Q.height|0);"format"in Q&&(_.parameter(Q.format,j,"invalid renderbuffer format"),Ye=j[Q.format])}else typeof Pe=="number"?(Le=Pe|0,typeof ie=="number"?Ie=ie|0:Ie=Le):Pe?_.raise("invalid arguments to renderbuffer constructor"):Le=Ie=1;if(_(Le>0&&Ie>0&&Le<=w.maxRenderbufferSize&&Ie<=w.maxRenderbufferSize,"invalid renderbuffer size"),!(Le===F.width&&Ie===F.height&&Ye===F.format))return W.width=F.width=Le,W.height=F.height=Ie,F.format=Ye,f.bindRenderbuffer(rn,F.renderbuffer),f.renderbufferStorage(rn,Ye,Le,Ie),_(f.getError()===0,"invalid render buffer format"),J.profile&&(F.stats.size=Xf(F.format,F.width,F.height)),W.format=X[F.format],W}function ce(Pe,ie){var Le=Pe|0,Ie=ie|0||Le;return Le===F.width&&Ie===F.height||(_(Le>0&&Ie>0&&Le<=w.maxRenderbufferSize&&Ie<=w.maxRenderbufferSize,"invalid renderbuffer size"),W.width=F.width=Le,W.height=F.height=Ie,f.bindRenderbuffer(rn,F.renderbuffer),f.renderbufferStorage(rn,F.format,Le,Ie),_(f.getError()===0,"invalid render buffer format"),J.profile&&(F.stats.size=Xf(F.format,F.width,F.height))),W}return W(le,ue),W.resize=ce,W._reglType="renderbuffer",W._renderbuffer=F,J.profile&&(W.stats=F.stats),W.destroy=function(){F.decRef()},W}J.profile&&(H.getTotalRenderbufferSize=function(){var le=0;return Object.keys(se).forEach(function(ue){le+=se[ue].stats.size}),le});function ye(){Wi(se).forEach(function(le){le.renderbuffer=f.createRenderbuffer(),f.bindRenderbuffer(rn,le.renderbuffer),f.renderbufferStorage(rn,le.format,le.width,le.height)}),f.bindRenderbuffer(rn,null)}return{create:me,clear:function(){Wi(se).forEach(pe)},restore:ye}},Rr=36160,Bd=36161,kn=3553,Co=34069,qf=36064,Yf=36096,Kf=36128,Zf=33306,Jf=36053,o_=36054,l_=36055,d_=36057,c_=36061,u_=36193,f_=5121,h_=5126,Qf=6407,eh=6408,m_=6402,p_=[Qf,eh],$d=[];$d[eh]=4,$d[Qf]=3;var Lo=[];Lo[f_]=1,Lo[h_]=4,Lo[u_]=2;var g_=32854,v_=32855,__=36194,b_=33189,y_=36168,th=34041,x_=35907,w_=34836,S_=34842,E_=34843,T_=[g_,v_,__,x_,S_,E_,w_],la={};la[Jf]="complete",la[o_]="incomplete attachment",la[d_]="incomplete dimensions",la[l_]="incomplete, missing attachment",la[c_]="unsupported";function A_(f,p,w,H,J,j){var X={cur:null,next:null,dirty:!1,setFBO:null},oe=["rgba"],se=["rgba4","rgb565","rgb5 a1"];p.ext_srgb&&se.push("srgba"),p.ext_color_buffer_half_float&&se.push("rgba16f","rgb16f"),p.webgl_color_buffer_float&&se.push("rgba32f");var he=["uint8"];p.oes_texture_half_float&&he.push("half float","float16"),p.oes_texture_float&&he.push("float","float32");function pe(de,Ee,Ae){this.target=de,this.texture=Ee,this.renderbuffer=Ae;var ot=0,nt=0;Ee?(ot=Ee.width,nt=Ee.height):Ae&&(ot=Ae.width,nt=Ae.height),this.width=ot,this.height=nt}function me(de){de&&(de.texture&&de.texture._texture.decRef(),de.renderbuffer&&de.renderbuffer._renderbuffer.decRef())}function ye(de,Ee,Ae){if(de)if(de.texture){var ot=de.texture._texture,nt=Math.max(1,ot.width),ke=Math.max(1,ot.height);_(nt===Ee&&ke===Ae,"inconsistent width/height for supplied texture"),ot.refCount+=1}else{var Re=de.renderbuffer._renderbuffer;_(Re.width===Ee&&Re.height===Ae,"inconsistent width/height for renderbuffer"),Re.refCount+=1}}function le(de,Ee){Ee&&(Ee.texture?f.framebufferTexture2D(Rr,de,Ee.target,Ee.texture._texture.texture,0):f.framebufferRenderbuffer(Rr,de,Bd,Ee.renderbuffer._renderbuffer.renderbuffer))}function ue(de){var Ee=kn,Ae=null,ot=null,nt=de;typeof de=="object"&&(nt=de.data,"target"in de&&(Ee=de.target|0)),_.type(nt,"function","invalid attachment data");var ke=nt._reglType;return ke==="texture2d"?(Ae=nt,_(Ee===kn)):ke==="textureCube"?(Ae=nt,_(Ee>=Co&&Ee<Co+6,"invalid cube map target")):ke==="renderbuffer"?(ot=nt,Ee=Bd):_.raise("invalid regl object for attachment"),new pe(Ee,Ae,ot)}function F(de,Ee,Ae,ot,nt){if(Ae){var ke=H.create2D({width:de,height:Ee,format:ot,type:nt});return ke._texture.refCount=0,new pe(kn,ke,null)}else{var Re=J.create({width:de,height:Ee,format:ot});return Re._renderbuffer.refCount=0,new pe(Bd,null,Re)}}function W(de){return de&&(de.texture||de.renderbuffer)}function ce(de,Ee,Ae){de&&(de.texture?de.texture.resize(Ee,Ae):de.renderbuffer&&de.renderbuffer.resize(Ee,Ae),de.width=Ee,de.height=Ae)}var Pe=0,ie={};function Le(){this.id=Pe++,ie[this.id]=this,this.framebuffer=f.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ie(de){de.colorAttachments.forEach(me),me(de.depthAttachment),me(de.stencilAttachment),me(de.depthStencilAttachment)}function Ye(de){var Ee=de.framebuffer;_(Ee,"must not double destroy framebuffer"),f.deleteFramebuffer(Ee),de.framebuffer=null,j.framebufferCount--,delete ie[de.id]}function Q(de){var Ee;f.bindFramebuffer(Rr,de.framebuffer);var Ae=de.colorAttachments;for(Ee=0;Ee<Ae.length;++Ee)le(qf+Ee,Ae[Ee]);for(Ee=Ae.length;Ee<w.maxColorAttachments;++Ee)f.framebufferTexture2D(Rr,qf+Ee,kn,null,0);f.framebufferTexture2D(Rr,Zf,kn,null,0),f.framebufferTexture2D(Rr,Yf,kn,null,0),f.framebufferTexture2D(Rr,Kf,kn,null,0),le(Yf,de.depthAttachment),le(Kf,de.stencilAttachment),le(Zf,de.depthStencilAttachment);var ot=f.checkFramebufferStatus(Rr);!f.isContextLost()&&ot!==Jf&&_.raise("framebuffer configuration not supported, status = "+la[ot]),f.bindFramebuffer(Rr,X.next?X.next.framebuffer:null),X.cur=X.next,f.getError()}function Z(de,Ee){var Ae=new Le;j.framebufferCount++;function ot(ke,Re){var et;_(X.next!==Ae,"can not update framebuffer which is currently in use");var st=0,ft=0,Wt=!0,Yt=!0,pt=null,li=!0,Ht="rgba",ri="uint8",di=1,ci=null,wi=null,Ai=null,Qt=!1;if(typeof ke=="number")st=ke|0,ft=Re|0||st;else if(!ke)st=ft=1;else{_.type(ke,"object","invalid arguments for framebuffer");var lt=ke;if("shape"in lt){var Ii=lt.shape;_(Array.isArray(Ii)&&Ii.length>=2,"invalid shape for framebuffer"),st=Ii[0],ft=Ii[1]}else"radius"in lt&&(st=ft=lt.radius),"width"in lt&&(st=lt.width),"height"in lt&&(ft=lt.height);("color"in lt||"colors"in lt)&&(pt=lt.color||lt.colors,Array.isArray(pt)&&_(pt.length===1||p.webgl_draw_buffers,"multiple render targets not supported")),pt||("colorCount"in lt&&(di=lt.colorCount|0,_(di>0,"invalid color buffer count")),"colorTexture"in lt&&(li=!!lt.colorTexture,Ht="rgba4"),"colorType"in lt&&(ri=lt.colorType,li?(_(p.oes_texture_float||!(ri==="float"||ri==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),_(p.oes_texture_half_float||!(ri==="half float"||ri==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):ri==="half float"||ri==="float16"?(_(p.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Ht="rgba16f"):(ri==="float"||ri==="float32")&&(_(p.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Ht="rgba32f"),_.oneOf(ri,he,"invalid color type")),"colorFormat"in lt&&(Ht=lt.colorFormat,oe.indexOf(Ht)>=0?li=!0:se.indexOf(Ht)>=0?li=!1:_.optional(function(){li?_.oneOf(lt.colorFormat,oe,"invalid color format for texture"):_.oneOf(lt.colorFormat,se,"invalid color format for renderbuffer")}))),("depthTexture"in lt||"depthStencilTexture"in lt)&&(Qt=!!(lt.depthTexture||lt.depthStencilTexture),_(!Qt||p.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in lt&&(typeof lt.depth=="boolean"?Wt=lt.depth:(ci=lt.depth,Yt=!1)),"stencil"in lt&&(typeof lt.stencil=="boolean"?Yt=lt.stencil:(wi=lt.stencil,Wt=!1)),"depthStencil"in lt&&(typeof lt.depthStencil=="boolean"?Wt=Yt=lt.depthStencil:(Ai=lt.depthStencil,Wt=!1,Yt=!1))}var At=null,Qe=null,ht=null,_t=null;if(Array.isArray(pt))At=pt.map(ue);else if(pt)At=[ue(pt)];else for(At=new Array(di),et=0;et<di;++et)At[et]=F(st,ft,li,Ht,ri);_(p.webgl_draw_buffers||At.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),_(At.length<=w.maxColorAttachments,"too many color attachments, not supported"),st=st||At[0].width,ft=ft||At[0].height,ci?Qe=ue(ci):Wt&&!Yt&&(Qe=F(st,ft,Qt,"depth","uint32")),wi?ht=ue(wi):Yt&&!Wt&&(ht=F(st,ft,!1,"stencil","uint8")),Ai?_t=ue(Ai):!ci&&!wi&&Yt&&Wt&&(_t=F(st,ft,Qt,"depth stencil","depth stencil")),_(!!ci+!!wi+!!Ai<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ei=null;for(et=0;et<At.length;++et)if(ye(At[et],st,ft),_(!At[et]||At[et].texture&&p_.indexOf(At[et].texture._texture.format)>=0||At[et].renderbuffer&&T_.indexOf(At[et].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+et+" is invalid"),At[et]&&At[et].texture){var gr=$d[At[et].texture._texture.format]*Lo[At[et].texture._texture.type];ei===null?ei=gr:_(ei===gr,"all color attachments much have the same number of bits per pixel.")}return ye(Qe,st,ft),_(!Qe||Qe.texture&&Qe.texture._texture.format===m_||Qe.renderbuffer&&Qe.renderbuffer._renderbuffer.format===b_,"invalid depth attachment for framebuffer object"),ye(ht,st,ft),_(!ht||ht.renderbuffer&&ht.renderbuffer._renderbuffer.format===y_,"invalid stencil attachment for framebuffer object"),ye(_t,st,ft),_(!_t||_t.texture&&_t.texture._texture.format===th||_t.renderbuffer&&_t.renderbuffer._renderbuffer.format===th,"invalid depth-stencil attachment for framebuffer object"),Ie(Ae),Ae.width=st,Ae.height=ft,Ae.colorAttachments=At,Ae.depthAttachment=Qe,Ae.stencilAttachment=ht,Ae.depthStencilAttachment=_t,ot.color=At.map(W),ot.depth=W(Qe),ot.stencil=W(ht),ot.depthStencil=W(_t),ot.width=Ae.width,ot.height=Ae.height,Q(Ae),ot}function nt(ke,Re){_(X.next!==Ae,"can not resize a framebuffer which is currently in use");var et=Math.max(ke|0,1),st=Math.max(Re|0||et,1);if(et===Ae.width&&st===Ae.height)return ot;for(var ft=Ae.colorAttachments,Wt=0;Wt<ft.length;++Wt)ce(ft[Wt],et,st);return ce(Ae.depthAttachment,et,st),ce(Ae.stencilAttachment,et,st),ce(Ae.depthStencilAttachment,et,st),Ae.width=ot.width=et,Ae.height=ot.height=st,Q(Ae),ot}return ot(de,Ee),r(ot,{resize:nt,_reglType:"framebuffer",_framebuffer:Ae,destroy:function(){Ye(Ae),Ie(Ae)},use:function(ke){X.setFBO({framebuffer:ot},ke)}})}function Ne(de){var Ee=Array(6);function Ae(nt){var ke;_(Ee.indexOf(X.next)<0,"can not update framebuffer which is currently in use");var Re={color:null},et=0,st=null,ft="rgba",Wt="uint8",Yt=1;if(typeof nt=="number")et=nt|0;else if(!nt)et=1;else{_.type(nt,"object","invalid arguments for framebuffer");var pt=nt;if("shape"in pt){var li=pt.shape;_(Array.isArray(li)&&li.length>=2,"invalid shape for framebuffer"),_(li[0]===li[1],"cube framebuffer must be square"),et=li[0]}else"radius"in pt&&(et=pt.radius|0),"width"in pt?(et=pt.width|0,"height"in pt&&_(pt.height===et,"must be square")):"height"in pt&&(et=pt.height|0);("color"in pt||"colors"in pt)&&(st=pt.color||pt.colors,Array.isArray(st)&&_(st.length===1||p.webgl_draw_buffers,"multiple render targets not supported")),st||("colorCount"in pt&&(Yt=pt.colorCount|0,_(Yt>0,"invalid color buffer count")),"colorType"in pt&&(_.oneOf(pt.colorType,he,"invalid color type"),Wt=pt.colorType),"colorFormat"in pt&&(ft=pt.colorFormat,_.oneOf(pt.colorFormat,oe,"invalid color format for texture"))),"depth"in pt&&(Re.depth=pt.depth),"stencil"in pt&&(Re.stencil=pt.stencil),"depthStencil"in pt&&(Re.depthStencil=pt.depthStencil)}var Ht;if(st)if(Array.isArray(st))for(Ht=[],ke=0;ke<st.length;++ke)Ht[ke]=st[ke];else Ht=[st];else{Ht=Array(Yt);var ri={radius:et,format:ft,type:Wt};for(ke=0;ke<Yt;++ke)Ht[ke]=H.createCube(ri)}for(Re.color=Array(Ht.length),ke=0;ke<Ht.length;++ke){var di=Ht[ke];_(typeof di=="function"&&di._reglType==="textureCube","invalid cube map"),et=et||di.width,_(di.width===et&&di.height===et,"invalid cube map shape"),Re.color[ke]={target:Co,data:Ht[ke]}}for(ke=0;ke<6;++ke){for(var ci=0;ci<Ht.length;++ci)Re.color[ci].target=Co+ke;ke>0&&(Re.depth=Ee[0].depth,Re.stencil=Ee[0].stencil,Re.depthStencil=Ee[0].depthStencil),Ee[ke]?Ee[ke](Re):Ee[ke]=Z(Re)}return r(Ae,{width:et,height:et,color:Ht})}function ot(nt){var ke,Re=nt|0;if(_(Re>0&&Re<=w.maxCubeMapSize,"invalid radius for cube fbo"),Re===Ae.width)return Ae;var et=Ae.color;for(ke=0;ke<et.length;++ke)et[ke].resize(Re);for(ke=0;ke<6;++ke)Ee[ke].resize(Re);return Ae.width=Ae.height=Re,Ae}return Ae(de),r(Ae,{faces:Ee,resize:ot,_reglType:"framebufferCube",destroy:function(){Ee.forEach(function(nt){nt.destroy()})}})}function xe(){X.cur=null,X.next=null,X.dirty=!0,Wi(ie).forEach(function(de){de.framebuffer=f.createFramebuffer(),Q(de)})}return r(X,{getFramebuffer:function(de){if(typeof de=="function"&&de._reglType==="framebuffer"){var Ee=de._framebuffer;if(Ee instanceof Le)return Ee}return null},create:Z,createCube:Ne,clear:function(){Wi(ie).forEach(Ye)},restore:xe})}var I_=5126,ih=34962,Oo=34963,rh=["attributes","elements","offset","count","primitive","instances"];function Gd(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=I_,this.offset=0,this.stride=0,this.divisor=0}function k_(f,p,w,H,J,j,X){for(var oe=w.maxAttributes,se=new Array(oe),he=0;he<oe;++he)se[he]=new Gd;var pe=0,me={},ye={Record:Gd,scope:{},state:se,currentVAO:null,targetVAO:null,restore:ue()?Ie:function(){},createVAO:Ye,getVAO:W,destroyBuffer:le,setVAO:ue()?ce:Pe,clear:ue()?ie:function(){}};function le(Q){for(var Z=0;Z<se.length;++Z){var Ne=se[Z];Ne.buffer===Q&&(f.disableVertexAttribArray(Z),Ne.buffer=null)}}function ue(){return p.oes_vertex_array_object}function F(){return p.angle_instanced_arrays}function W(Q){return typeof Q=="function"&&Q._vao?Q._vao:null}function ce(Q){if(Q!==ye.currentVAO){var Z=ue();Q?Z.bindVertexArrayOES(Q.vao):Z.bindVertexArrayOES(null),ye.currentVAO=Q}}function Pe(Q){if(Q!==ye.currentVAO){if(Q)Q.bindAttrs();else{for(var Z=F(),Ne=0;Ne<se.length;++Ne){var xe=se[Ne];xe.buffer?(f.enableVertexAttribArray(Ne),xe.buffer.bind(),f.vertexAttribPointer(Ne,xe.size,xe.type,xe.normalized,xe.stride,xe.offfset),Z&&xe.divisor&&Z.vertexAttribDivisorANGLE(Ne,xe.divisor)):(f.disableVertexAttribArray(Ne),f.vertexAttrib4f(Ne,xe.x,xe.y,xe.z,xe.w))}X.elements?f.bindBuffer(Oo,X.elements.buffer.buffer):f.bindBuffer(Oo,null)}ye.currentVAO=Q}}function ie(){Wi(me).forEach(function(Q){Q.destroy()})}function Le(){this.id=++pe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var Q=ue();Q?this.vao=Q.createVertexArrayOES():this.vao=null,me[this.id]=this,this.buffers=[]}Le.prototype.bindAttrs=function(){for(var Q=F(),Z=this.attributes,Ne=0;Ne<Z.length;++Ne){var xe=Z[Ne];xe.buffer?(f.enableVertexAttribArray(Ne),f.bindBuffer(ih,xe.buffer.buffer),f.vertexAttribPointer(Ne,xe.size,xe.type,xe.normalized,xe.stride,xe.offset),Q&&xe.divisor&&Q.vertexAttribDivisorANGLE(Ne,xe.divisor)):(f.disableVertexAttribArray(Ne),f.vertexAttrib4f(Ne,xe.x,xe.y,xe.z,xe.w))}for(var de=Z.length;de<oe;++de)f.disableVertexAttribArray(de);var Ee=j.getElements(this.elements);Ee?f.bindBuffer(Oo,Ee.buffer.buffer):f.bindBuffer(Oo,null)},Le.prototype.refresh=function(){var Q=ue();Q&&(Q.bindVertexArrayOES(this.vao),this.bindAttrs(),ye.currentVAO=null,Q.bindVertexArrayOES(null))},Le.prototype.destroy=function(){if(this.vao){var Q=ue();this===ye.currentVAO&&(ye.currentVAO=null,Q.bindVertexArrayOES(null)),Q.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),me[this.id]&&(delete me[this.id],H.vaoCount-=1)};function Ie(){var Q=ue();Q&&Wi(me).forEach(function(Z){Z.refresh()})}function Ye(Q){var Z=new Le;H.vaoCount+=1;function Ne(xe){var de;if(Array.isArray(xe))de=xe,Z.elements&&Z.ownsElements&&Z.elements.destroy(),Z.elements=null,Z.ownsElements=!1,Z.offset=0,Z.count=0,Z.instances=-1,Z.primitive=4;else{if(_(typeof xe=="object","invalid arguments for create vao"),_("attributes"in xe,"must specify attributes for vao"),xe.elements){var Ee=xe.elements;Z.ownsElements?typeof Ee=="function"&&Ee._reglType==="elements"?(Z.elements.destroy(),Z.ownsElements=!1):(Z.elements(Ee),Z.ownsElements=!1):j.getElements(xe.elements)?(Z.elements=xe.elements,Z.ownsElements=!1):(Z.elements=j.create(xe.elements),Z.ownsElements=!0)}else Z.elements=null,Z.ownsElements=!1;de=xe.attributes,Z.offset=0,Z.count=-1,Z.instances=-1,Z.primitive=4,Z.elements&&(Z.count=Z.elements._elements.vertCount,Z.primitive=Z.elements._elements.primType),"offset"in xe&&(Z.offset=xe.offset|0),"count"in xe&&(Z.count=xe.count|0),"instances"in xe&&(Z.instances=xe.instances|0),"primitive"in xe&&(_(xe.primitive in tn,"bad primitive type: "+xe.primitive),Z.primitive=tn[xe.primitive]),_.optional(()=>{for(var Wt=Object.keys(xe),Yt=0;Yt<Wt.length;++Yt)_(rh.indexOf(Wt[Yt])>=0,'invalid option for vao: "'+Wt[Yt]+'" valid options are '+rh)}),_(Array.isArray(de),"attributes must be an array")}_(de.length<oe,"too many attributes"),_(de.length>0,"must specify at least one attribute");var Ae={},ot=Z.attributes;ot.length=de.length;for(var nt=0;nt<de.length;++nt){var ke=de[nt],Re=ot[nt]=new Gd,et=ke.data||ke;if(Array.isArray(et)||t(et)||nr(et)){var st;Z.buffers[nt]&&(st=Z.buffers[nt],t(et)&&st._buffer.byteLength>=et.byteLength?st.subdata(et):(st.destroy(),Z.buffers[nt]=null)),Z.buffers[nt]||(st=Z.buffers[nt]=J.create(ke,ih,!1,!0)),Re.buffer=J.getBuffer(st),Re.size=Re.buffer.dimension|0,Re.normalized=!1,Re.type=Re.buffer.dtype,Re.offset=0,Re.stride=0,Re.divisor=0,Re.state=1,Ae[nt]=1}else J.getBuffer(ke)?(Re.buffer=J.getBuffer(ke),Re.size=Re.buffer.dimension|0,Re.normalized=!1,Re.type=Re.buffer.dtype,Re.offset=0,Re.stride=0,Re.divisor=0,Re.state=1):J.getBuffer(ke.buffer)?(Re.buffer=J.getBuffer(ke.buffer),Re.size=(+ke.size||Re.buffer.dimension)|0,Re.normalized=!!ke.normalized||!1,"type"in ke?(_.parameter(ke.type,En,"invalid buffer type"),Re.type=En[ke.type]):Re.type=Re.buffer.dtype,Re.offset=(ke.offset||0)|0,Re.stride=(ke.stride||0)|0,Re.divisor=(ke.divisor||0)|0,Re.state=1,_(Re.size>=1&&Re.size<=4,"size must be between 1 and 4"),_(Re.offset>=0,"invalid offset"),_(Re.stride>=0&&Re.stride<=255,"stride must be between 0 and 255"),_(Re.divisor>=0,"divisor must be positive"),_(!Re.divisor||!!p.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in ke?(_(nt>0,"first attribute must not be a constant"),Re.x=+ke.x||0,Re.y=+ke.y||0,Re.z=+ke.z||0,Re.w=+ke.w||0,Re.state=2):_(!1,"invalid attribute spec for location "+nt)}for(var ft=0;ft<Z.buffers.length;++ft)!Ae[ft]&&Z.buffers[ft]&&(Z.buffers[ft].destroy(),Z.buffers[ft]=null);return Z.refresh(),Ne}return Ne.destroy=function(){for(var xe=0;xe<Z.buffers.length;++xe)Z.buffers[xe]&&Z.buffers[xe].destroy();Z.buffers.length=0,Z.ownsElements&&(Z.elements.destroy(),Z.elements=null,Z.ownsElements=!1),Z.destroy()},Ne._vao=Z,Ne._reglType="vao",Ne(Q)}return ye}var nh=35632,C_=35633,L_=35718,O_=35721;function R_(f,p,w,H){var J={},j={};function X(F,W,ce,Pe){this.name=F,this.id=W,this.location=ce,this.info=Pe}function oe(F,W){for(var ce=0;ce<F.length;++ce)if(F[ce].id===W.id){F[ce].location=W.location;return}F.push(W)}function se(F,W,ce){var Pe=F===nh?J:j,ie=Pe[W];if(!ie){var Le=p.str(W);ie=f.createShader(F),f.shaderSource(ie,Le),f.compileShader(ie),_.shaderError(f,ie,Le,F,ce),Pe[W]=ie}return ie}var he={},pe=[],me=0;function ye(F,W){this.id=me++,this.fragId=F,this.vertId=W,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,H.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function le(F,W,ce){var Pe,ie,Le=se(nh,F.fragId),Ie=se(C_,F.vertId),Ye=F.program=f.createProgram();if(f.attachShader(Ye,Le),f.attachShader(Ye,Ie),ce)for(Pe=0;Pe<ce.length;++Pe){var Q=ce[Pe];f.bindAttribLocation(Ye,Q[0],Q[1])}f.linkProgram(Ye),_.linkError(f,Ye,p.str(F.fragId),p.str(F.vertId),W);var Z=f.getProgramParameter(Ye,L_);H.profile&&(F.stats.uniformsCount=Z);var Ne=F.uniforms;for(Pe=0;Pe<Z;++Pe)if(ie=f.getActiveUniform(Ye,Pe),ie)if(ie.size>1)for(var xe=0;xe<ie.size;++xe){var de=ie.name.replace("[0]","["+xe+"]");oe(Ne,new X(de,p.id(de),f.getUniformLocation(Ye,de),ie))}else oe(Ne,new X(ie.name,p.id(ie.name),f.getUniformLocation(Ye,ie.name),ie));var Ee=f.getProgramParameter(Ye,O_);H.profile&&(F.stats.attributesCount=Ee);var Ae=F.attributes;for(Pe=0;Pe<Ee;++Pe)ie=f.getActiveAttrib(Ye,Pe),ie&&oe(Ae,new X(ie.name,p.id(ie.name),f.getAttribLocation(Ye,ie.name),ie))}H.profile&&(w.getMaxUniformsCount=function(){var F=0;return pe.forEach(function(W){W.stats.uniformsCount>F&&(F=W.stats.uniformsCount)}),F},w.getMaxAttributesCount=function(){var F=0;return pe.forEach(function(W){W.stats.attributesCount>F&&(F=W.stats.attributesCount)}),F});function ue(){J={},j={};for(var F=0;F<pe.length;++F)le(pe[F],null,pe[F].attributes.map(function(W){return[W.location,W.name]}))}return{clear:function(){var F=f.deleteShader.bind(f);Wi(J).forEach(F),J={},Wi(j).forEach(F),j={},pe.forEach(function(W){f.deleteProgram(W.program)}),pe.length=0,he={},w.shaderCount=0},program:function(F,W,ce,Pe){_.command(F>=0,"missing vertex shader",ce),_.command(W>=0,"missing fragment shader",ce);var ie=he[W];ie||(ie=he[W]={});var Le=ie[F];if(Le&&(Le.refCount++,!Pe))return Le;var Ie=new ye(W,F);return w.shaderCount++,le(Ie,ce,Pe),Le||(ie[F]=Ie),pe.push(Ie),r(Ie,{destroy:function(){if(Ie.refCount--,Ie.refCount<=0){f.deleteProgram(Ie.program);var Ye=pe.indexOf(Ie);pe.splice(Ye,1),w.shaderCount--}ie[Ie.vertId].refCount<=0&&(f.deleteShader(j[Ie.vertId]),delete j[Ie.vertId],delete he[Ie.fragId][Ie.vertId]),Object.keys(he[Ie.fragId]).length||(f.deleteShader(J[Ie.fragId]),delete J[Ie.fragId],delete he[Ie.fragId])}})},restore:ue,shader:se,frag:-1,vert:-1}}var P_=6408,ds=5121,F_=3333,Ro=5126;function D_(f,p,w,H,J,j,X){function oe(pe){var me;p.next===null?(_(J.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),me=ds):(_(p.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),me=p.next.colorAttachments[0].texture._texture.type,_.optional(function(){j.oes_texture_float?(_(me===ds||me===Ro,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),me===Ro&&_(X.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):_(me===ds,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var ye=0,le=0,ue=H.framebufferWidth,F=H.framebufferHeight,W=null;t(pe)?W=pe:pe&&(_.type(pe,"object","invalid arguments to regl.read()"),ye=pe.x|0,le=pe.y|0,_(ye>=0&&ye<H.framebufferWidth,"invalid x offset for regl.read"),_(le>=0&&le<H.framebufferHeight,"invalid y offset for regl.read"),ue=(pe.width||H.framebufferWidth-ye)|0,F=(pe.height||H.framebufferHeight-le)|0,W=pe.data||null),W&&(me===ds?_(W instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):me===Ro&&_(W instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),_(ue>0&&ue+ye<=H.framebufferWidth,"invalid width for read pixels"),_(F>0&&F+le<=H.framebufferHeight,"invalid height for read pixels"),w();var ce=ue*F*4;return W||(me===ds?W=new Uint8Array(ce):me===Ro&&(W=W||new Float32Array(ce))),_.isTypedArray(W,"data buffer for regl.read() must be a typedarray"),_(W.byteLength>=ce,"data buffer for regl.read() too small"),f.pixelStorei(F_,4),f.readPixels(ye,le,ue,F,P_,me,W),W}function se(pe){var me;return p.setFBO({framebuffer:pe.framebuffer},function(){me=oe(pe)}),me}function he(pe){return!pe||!("framebuffer"in pe)?oe(pe):se(pe)}return he}function da(f){return Array.prototype.slice.call(f)}function ca(f){return da(f).join("")}function N_(){var f=0,p=[],w=[];function H(me){for(var ye=0;ye<w.length;++ye)if(w[ye]===me)return p[ye];var le="g"+f++;return p.push(le),w.push(me),le}function J(){var me=[];function ye(){me.push.apply(me,da(arguments))}var le=[];function ue(){var F="v"+f++;return le.push(F),arguments.length>0&&(me.push(F,"="),me.push.apply(me,da(arguments)),me.push(";")),F}return r(ye,{def:ue,toString:function(){return ca([le.length>0?"var "+le.join(",")+";":"",ca(me)])}})}function j(){var me=J(),ye=J(),le=me.toString,ue=ye.toString;function F(W,ce){ye(W,ce,"=",me.def(W,ce),";")}return r(function(){me.apply(me,da(arguments))},{def:me.def,entry:me,exit:ye,save:F,set:function(W,ce,Pe){F(W,ce),me(W,ce,"=",Pe,";")},toString:function(){return le()+ue()}})}function X(){var me=ca(arguments),ye=j(),le=j(),ue=ye.toString,F=le.toString;return r(ye,{then:function(){return ye.apply(ye,da(arguments)),this},else:function(){return le.apply(le,da(arguments)),this},toString:function(){var W=F();return W&&(W="else{"+W+"}"),ca(["if(",me,"){",ue(),"}",W])}})}var oe=J(),se={};function he(me,ye){var le=[];function ue(){var ie="a"+le.length;return le.push(ie),ie}ye=ye||0;for(var F=0;F<ye;++F)ue();var W=j(),ce=W.toString,Pe=se[me]=r(W,{arg:ue,toString:function(){return ca(["function(",le.join(),"){",ce(),"}"])}});return Pe}function pe(){var me=['"use strict";',oe,"return {"];Object.keys(se).forEach(function(ue){me.push('"',ue,'":',se[ue].toString(),",")}),me.push("}");var ye=ca(me).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),le=Function.apply(null,p.concat(ye));return le.apply(null,w)}return{global:oe,link:H,block:J,proc:he,scope:j,cond:X,compile:pe}}var ua="xyzw".split(""),ah=5121,fa=1,Ud=2,jd=0,Hd=1,Vd=2,Wd=3,Po=4,sh=5,oh=6,lh="dither",dh="blend.enable",ch="blend.color",Xd="blend.equation",qd="blend.func",uh="depth.enable",fh="depth.func",hh="depth.range",mh="depth.mask",Yd="colorMask",ph="cull.enable",gh="cull.face",Kd="frontFace",Zd="lineWidth",vh="polygonOffset.enable",Jd="polygonOffset.offset",_h="sample.alpha",bh="sample.enable",Qd="sample.coverage",yh="stencil.enable",xh="stencil.mask",ec="stencil.func",tc="stencil.opFront",cs="stencil.opBack",wh="scissor.enable",Fo="scissor.box",Pr="viewport",us="profile",Cn="framebuffer",fs="vert",hs="frag",Ln="elements",On="primitive",Rn="count",Do="offset",No="instances",ms="vao",ic="Width",rc="Height",ha=Cn+ic,ma=Cn+rc,z_=Pr+ic,M_=Pr+rc,Sh="drawingBuffer",Eh=Sh+ic,Th=Sh+rc,B_=[qd,Xd,ec,tc,cs,Qd,Pr,Fo,Jd],pa=34962,nc=34963,$_=35632,G_=35633,Ah=3553,U_=34067,j_=2884,H_=3042,V_=3024,W_=2960,X_=2929,q_=3089,Y_=32823,K_=32926,Z_=32928,ac=5126,zo=35664,Mo=35665,Bo=35666,sc=5124,$o=35667,Go=35668,Uo=35669,oc=35670,jo=35671,Ho=35672,Vo=35673,ps=35674,gs=35675,vs=35676,_s=35678,bs=35680,lc=4,ys=1028,Pn=1029,Ih=2304,dc=2305,J_=32775,Q_=32776,eb=519,nn=7680,kh=0,Ch=1,Lh=32774,tb=513,Oh=36160,ib=36064,pr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Rh=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ga={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},an={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ph={frag:$_,vert:G_},cc={cw:Ih,ccw:dc};function Wo(f){return Array.isArray(f)||t(f)||nr(f)}function Fh(f){return f.sort(function(p,w){return p===Pr?-1:w===Pr?1:p<w?-1:1})}function _i(f,p,w,H){this.thisDep=f,this.contextDep=p,this.propDep=w,this.append=H}function sn(f){return f&&!(f.thisDep||f.contextDep||f.propDep)}function ii(f){return new _i(!1,!1,!1,f)}function Ui(f,p){var w=f.type;if(w===jd){var H=f.data.length;return new _i(!0,H>=1,H>=2,p)}else if(w===Po){var J=f.data;return new _i(J.thisDep,J.contextDep,J.propDep,p)}else{if(w===sh)return new _i(!1,!1,!1,p);if(w===oh){for(var j=!1,X=!1,oe=!1,se=0;se<f.data.length;++se){var he=f.data[se];if(he.type===Hd)oe=!0;else if(he.type===Vd)X=!0;else if(he.type===Wd)j=!0;else if(he.type===jd){j=!0;var pe=he.data;pe>=1&&(X=!0),pe>=2&&(oe=!0)}else he.type===Po&&(j=j||he.data.thisDep,X=X||he.data.contextDep,oe=oe||he.data.propDep)}return new _i(j,X,oe,p)}else return new _i(w===Wd,w===Vd,w===Hd,p)}}var Dh=new _i(!1,!1,!1,function(){});function rb(f,p,w,H,J,j,X,oe,se,he,pe,me,ye,le,ue){var F=he.Record,W={add:32774,subtract:32778,"reverse subtract":32779};w.ext_blend_minmax&&(W.min=J_,W.max=Q_);var ce=w.angle_instanced_arrays,Pe=w.webgl_draw_buffers,ie=w.oes_vertex_array_object,Le={dirty:!0,profile:ue.profile},Ie={},Ye=[],Q={},Z={};function Ne(b){return b.replace(".","_")}function xe(b,m,E){var P=Ne(b);Ye.push(b),Ie[P]=Le[P]=!!E,Q[P]=m}function de(b,m,E){var P=Ne(b);Ye.push(b),Array.isArray(E)?(Le[P]=E.slice(),Ie[P]=E.slice()):Le[P]=Ie[P]=E,Z[P]=m}xe(lh,V_),xe(dh,H_),de(ch,"blendColor",[0,0,0,0]),de(Xd,"blendEquationSeparate",[Lh,Lh]),de(qd,"blendFuncSeparate",[Ch,kh,Ch,kh]),xe(uh,X_,!0),de(fh,"depthFunc",tb),de(hh,"depthRange",[0,1]),de(mh,"depthMask",!0),de(Yd,Yd,[!0,!0,!0,!0]),xe(ph,j_),de(gh,"cullFace",Pn),de(Kd,Kd,dc),de(Zd,Zd,1),xe(vh,Y_),de(Jd,"polygonOffset",[0,0]),xe(_h,K_),xe(bh,Z_),de(Qd,"sampleCoverage",[1,!1]),xe(yh,W_),de(xh,"stencilMask",-1),de(ec,"stencilFunc",[eb,0,-1]),de(tc,"stencilOpSeparate",[ys,nn,nn,nn]),de(cs,"stencilOpSeparate",[Pn,nn,nn,nn]),xe(wh,q_),de(Fo,"scissor",[0,0,f.drawingBufferWidth,f.drawingBufferHeight]),de(Pr,Pr,[0,0,f.drawingBufferWidth,f.drawingBufferHeight]);var Ee={gl:f,context:ye,strings:p,next:Ie,current:Le,draw:me,elements:j,buffer:J,shader:pe,attributes:he.state,vao:he,uniforms:se,framebuffer:oe,extensions:w,timer:le,isBufferArgs:Wo},Ae={primTypes:tn,compareFuncs:ga,blendFuncs:pr,blendEquations:W,stencilOps:an,glTypes:En,orientationType:cc};_.optional(function(){Ee.isArrayLike=Jt}),Pe&&(Ae.backBuffer=[Pn],Ae.drawBuffer=Vt(H.maxDrawbuffers,function(b){return b===0?[0]:Vt(b,function(m){return ib+m})}));var ot=0;function nt(){var b=N_(),m=b.link,E=b.global;b.id=ot++,b.batchId="0";var P=m(Ee),N=b.shared={props:"a0"};Object.keys(Ee).forEach(function(S){N[S]=E.def(P,".",S)}),_.optional(function(){b.CHECK=m(_),b.commandStr=_.guessCommand(),b.command=m(b.commandStr),b.assert=function(S,y,D){S("if(!(",y,"))",this.CHECK,".commandRaise(",m(D),",",this.command,");")},Ae.invalidBlendCombinations=Rh});var C=b.next={},A=b.current={};Object.keys(Z).forEach(function(S){Array.isArray(Le[S])&&(C[S]=E.def(N.next,".",S),A[S]=E.def(N.current,".",S))});var L=b.constants={};Object.keys(Ae).forEach(function(S){L[S]=E.def(JSON.stringify(Ae[S]))}),b.invoke=function(S,y){switch(y.type){case jd:var D=["this",N.context,N.props,b.batchId];return S.def(m(y.data),".call(",D.slice(0,Math.max(y.data.length+1,4)),")");case Hd:return S.def(N.props,y.data);case Vd:return S.def(N.context,y.data);case Wd:return S.def("this",y.data);case Po:return y.data.append(b,S),y.data.ref;case sh:return y.data.toString();case oh:return y.data.map(function(M){return b.invoke(S,M)})}},b.attribCache={};var v={};return b.scopeAttrib=function(S){var y=p.id(S);if(y in v)return v[y];var D=he.scope[y];D||(D=he.scope[y]=new F);var M=v[y]=m(D);return M},b}function ke(b){var m=b.static,E=b.dynamic,P;if(us in m){var N=!!m[us];P=ii(function(A,L){return N}),P.enable=N}else if(us in E){var C=E[us];P=Ui(C,function(A,L){return A.invoke(L,C)})}return P}function Re(b,m){var E=b.static,P=b.dynamic;if(Cn in E){var N=E[Cn];return N?(N=oe.getFramebuffer(N),_.command(N,"invalid framebuffer object"),ii(function(A,L){var v=A.link(N),S=A.shared;L.set(S.framebuffer,".next",v);var y=S.context;return L.set(y,"."+ha,v+".width"),L.set(y,"."+ma,v+".height"),v})):ii(function(A,L){var v=A.shared;L.set(v.framebuffer,".next","null");var S=v.context;return L.set(S,"."+ha,S+"."+Eh),L.set(S,"."+ma,S+"."+Th),"null"})}else if(Cn in P){var C=P[Cn];return Ui(C,function(A,L){var v=A.invoke(L,C),S=A.shared,y=S.framebuffer,D=L.def(y,".getFramebuffer(",v,")");_.optional(function(){A.assert(L,"!"+v+"||"+D,"invalid framebuffer object")}),L.set(y,".next",D);var M=S.context;return L.set(M,"."+ha,D+"?"+D+".width:"+M+"."+Eh),L.set(M,"."+ma,D+"?"+D+".height:"+M+"."+Th),D})}else return null}function et(b,m,E){var P=b.static,N=b.dynamic;function C(v){if(v in P){var S=P[v];_.commandType(S,"object","invalid "+v,E.commandStr);var y=!0,D=S.x|0,M=S.y|0,te,ve;return"width"in S?(te=S.width|0,_.command(te>=0,"invalid "+v,E.commandStr)):y=!1,"height"in S?(ve=S.height|0,_.command(ve>=0,"invalid "+v,E.commandStr)):y=!1,new _i(!y&&m&&m.thisDep,!y&&m&&m.contextDep,!y&&m&&m.propDep,function(ge,Be){var Fe=ge.shared.context,ze=te;"width"in S||(ze=Be.def(Fe,".",ha,"-",D));var Me=ve;return"height"in S||(Me=Be.def(Fe,".",ma,"-",M)),[D,M,ze,Me]})}else if(v in N){var _e=N[v],Ce=Ui(_e,function(ge,Be){var Fe=ge.invoke(Be,_e);_.optional(function(){ge.assert(Be,Fe+"&&typeof "+Fe+'==="object"',"invalid "+v)});var ze=ge.shared.context,Me=Be.def(Fe,".x|0"),$e=Be.def(Fe,".y|0"),tt=Be.def('"width" in ',Fe,"?",Fe,".width|0:","(",ze,".",ha,"-",Me,")"),Nt=Be.def('"height" in ',Fe,"?",Fe,".height|0:","(",ze,".",ma,"-",$e,")");return _.optional(function(){ge.assert(Be,tt+">=0&&"+Nt+">=0","invalid "+v)}),[Me,$e,tt,Nt]});return m&&(Ce.thisDep=Ce.thisDep||m.thisDep,Ce.contextDep=Ce.contextDep||m.contextDep,Ce.propDep=Ce.propDep||m.propDep),Ce}else return m?new _i(m.thisDep,m.contextDep,m.propDep,function(ge,Be){var Fe=ge.shared.context;return[0,0,Be.def(Fe,".",ha),Be.def(Fe,".",ma)]}):null}var A=C(Pr);if(A){var L=A;A=new _i(A.thisDep,A.contextDep,A.propDep,function(v,S){var y=L.append(v,S),D=v.shared.context;return S.set(D,"."+z_,y[2]),S.set(D,"."+M_,y[3]),y})}return{viewport:A,scissor_box:C(Fo)}}function st(b,m){var E=b.static,P=typeof E[hs]=="string"&&typeof E[fs]=="string";if(P){if(Object.keys(m.dynamic).length>0)return null;var N=m.static,C=Object.keys(N);if(C.length>0&&typeof N[C[0]]=="number"){for(var A=[],L=0;L<C.length;++L)_(typeof N[C[L]]=="number","must specify all vertex attribute locations when using vaos"),A.push([N[C[L]]|0,C[L]]);return A}}return null}function ft(b,m,E){var P=b.static,N=b.dynamic;function C(y){if(y in P){var D=p.id(P[y]);_.optional(function(){pe.shader(Ph[y],D,_.guessCommand())});var M=ii(function(){return D});return M.id=D,M}else if(y in N){var te=N[y];return Ui(te,function(ve,_e){var Ce=ve.invoke(_e,te),ge=_e.def(ve.shared.strings,".id(",Ce,")");return _.optional(function(){_e(ve.shared.shader,".shader(",Ph[y],",",ge,",",ve.command,");")}),ge})}return null}var A=C(hs),L=C(fs),v=null,S;return sn(A)&&sn(L)?(v=pe.program(L.id,A.id,null,E),S=ii(function(y,D){return y.link(v)})):S=new _i(A&&A.thisDep||L&&L.thisDep,A&&A.contextDep||L&&L.contextDep,A&&A.propDep||L&&L.propDep,function(y,D){var M=y.shared.shader,te;A?te=A.append(y,D):te=D.def(M,".",hs);var ve;L?ve=L.append(y,D):ve=D.def(M,".",fs);var _e=M+".program("+ve+","+te;return _.optional(function(){_e+=","+y.command}),D.def(_e+")")}),{frag:A,vert:L,progVar:S,program:v}}function Wt(b,m){var E=b.static,P=b.dynamic,N={},C=!1;function A(){if(ms in E){var Be=E[ms];return Be!==null&&he.getVAO(Be)===null&&(Be=he.createVAO(Be)),C=!0,N.vao=Be,ii(function(ze){var Me=he.getVAO(Be);return Me?ze.link(Me):"null"})}else if(ms in P){C=!0;var Fe=P[ms];return Ui(Fe,function(ze,Me){var $e=ze.invoke(Me,Fe);return Me.def(ze.shared.vao+".getVAO("+$e+")")})}return null}var L=A(),v=!1;function S(){if(Ln in E){var Be=E[Ln];if(N.elements=Be,Wo(Be)){var Fe=N.elements=j.create(Be,!0);Be=j.getElements(Fe),v=!0}else Be&&(Be=j.getElements(Be),v=!0,_.command(Be,"invalid elements",m.commandStr));var ze=ii(function($e,tt){if(Be){var Nt=$e.link(Be);return $e.ELEMENTS=Nt,Nt}return $e.ELEMENTS=null,null});return ze.value=Be,ze}else if(Ln in P){v=!0;var Me=P[Ln];return Ui(Me,function($e,tt){var Nt=$e.shared,Si=Nt.isBufferArgs,Fr=Nt.elements,Dr=$e.invoke(tt,Me),Nr=tt.def("null"),Pi=tt.def(Si,"(",Dr,")"),vr=$e.cond(Pi).then(Nr,"=",Fr,".createStream(",Dr,");").else(Nr,"=",Fr,".getElements(",Dr,");");return _.optional(function(){$e.assert(vr.else,"!"+Dr+"||"+Nr,"invalid elements")}),tt.entry(vr),tt.exit($e.cond(Pi).then(Fr,".destroyStream(",Nr,");")),$e.ELEMENTS=Nr,Nr})}else if(C)return new _i(L.thisDep,L.contextDep,L.propDep,function($e,tt){return tt.def($e.shared.vao+".currentVAO?"+$e.shared.elements+".getElements("+$e.shared.vao+".currentVAO.elements):null")});return null}var y=S();function D(){if(On in E){var Be=E[On];return N.primitive=Be,_.commandParameter(Be,tn,"invalid primitve",m.commandStr),ii(function(ze,Me){return tn[Be]})}else if(On in P){var Fe=P[On];return Ui(Fe,function(ze,Me){var $e=ze.constants.primTypes,tt=ze.invoke(Me,Fe);return _.optional(function(){ze.assert(Me,tt+" in "+$e,"invalid primitive, must be one of "+Object.keys(tn))}),Me.def($e,"[",tt,"]")})}else{if(v)return sn(y)?y.value?ii(function(ze,Me){return Me.def(ze.ELEMENTS,".primType")}):ii(function(){return lc}):new _i(y.thisDep,y.contextDep,y.propDep,function(ze,Me){var $e=ze.ELEMENTS;return Me.def($e,"?",$e,".primType:",lc)});if(C)return new _i(L.thisDep,L.contextDep,L.propDep,function(ze,Me){return Me.def(ze.shared.vao+".currentVAO?"+ze.shared.vao+".currentVAO.primitive:"+lc)})}return null}function M(Be,Fe){if(Be in E){var ze=E[Be]|0;return Fe?N.offset=ze:N.instances=ze,_.command(!Fe||ze>=0,"invalid "+Be,m.commandStr),ii(function($e,tt){return Fe&&($e.OFFSET=ze),ze})}else if(Be in P){var Me=P[Be];return Ui(Me,function($e,tt){var Nt=$e.invoke(tt,Me);return Fe&&($e.OFFSET=Nt,_.optional(function(){$e.assert(tt,Nt+">=0","invalid "+Be)})),Nt})}else if(Fe){if(v)return ii(function($e,tt){return $e.OFFSET=0,0});if(C)return new _i(L.thisDep,L.contextDep,L.propDep,function($e,tt){return tt.def($e.shared.vao+".currentVAO?"+$e.shared.vao+".currentVAO.offset:0")})}else if(C)return new _i(L.thisDep,L.contextDep,L.propDep,function($e,tt){return tt.def($e.shared.vao+".currentVAO?"+$e.shared.vao+".currentVAO.instances:-1")});return null}var te=M(Do,!0);function ve(){if(Rn in E){var Be=E[Rn]|0;return N.count=Be,_.command(typeof Be=="number"&&Be>=0,"invalid vertex count",m.commandStr),ii(function(){return Be})}else if(Rn in P){var Fe=P[Rn];return Ui(Fe,function(tt,Nt){var Si=tt.invoke(Nt,Fe);return _.optional(function(){tt.assert(Nt,"typeof "+Si+'==="number"&&'+Si+">=0&&"+Si+"===("+Si+"|0)","invalid vertex count")}),Si})}else if(v)if(sn(y)){if(y)return te?new _i(te.thisDep,te.contextDep,te.propDep,function(tt,Nt){var Si=Nt.def(tt.ELEMENTS,".vertCount-",tt.OFFSET);return _.optional(function(){tt.assert(Nt,Si+">=0","invalid vertex offset/element buffer too small")}),Si}):ii(function(tt,Nt){return Nt.def(tt.ELEMENTS,".vertCount")});var ze=ii(function(){return-1});return _.optional(function(){ze.MISSING=!0}),ze}else{var Me=new _i(y.thisDep||te.thisDep,y.contextDep||te.contextDep,y.propDep||te.propDep,function(tt,Nt){var Si=tt.ELEMENTS;return tt.OFFSET?Nt.def(Si,"?",Si,".vertCount-",tt.OFFSET,":-1"):Nt.def(Si,"?",Si,".vertCount:-1")});return _.optional(function(){Me.DYNAMIC=!0}),Me}else if(C){var $e=new _i(L.thisDep,L.contextDep,L.propDep,function(tt,Nt){return Nt.def(tt.shared.vao,".currentVAO?",tt.shared.vao,".currentVAO.count:-1")});return $e}return null}var _e=D(),Ce=ve(),ge=M(No,!1);return{elements:y,primitive:_e,count:Ce,instances:ge,offset:te,vao:L,vaoActive:C,elementsActive:v,static:N}}function Yt(b,m){var E=b.static,P=b.dynamic,N={};return Ye.forEach(function(C){var A=Ne(C);function L(v,S){if(C in E){var y=v(E[C]);N[A]=ii(function(){return y})}else if(C in P){var D=P[C];N[A]=Ui(D,function(M,te){return S(M,te,M.invoke(te,D))})}}switch(C){case ph:case dh:case lh:case yh:case uh:case wh:case vh:case _h:case bh:case mh:return L(function(v){return _.commandType(v,"boolean",C,m.commandStr),v},function(v,S,y){return _.optional(function(){v.assert(S,"typeof "+y+'==="boolean"',"invalid flag "+C,v.commandStr)}),y});case fh:return L(function(v){return _.commandParameter(v,ga,"invalid "+C,m.commandStr),ga[v]},function(v,S,y){var D=v.constants.compareFuncs;return _.optional(function(){v.assert(S,y+" in "+D,"invalid "+C+", must be one of "+Object.keys(ga))}),S.def(D,"[",y,"]")});case hh:return L(function(v){return _.command(Jt(v)&&v.length===2&&typeof v[0]=="number"&&typeof v[1]=="number"&&v[0]<=v[1],"depth range is 2d array",m.commandStr),v},function(v,S,y){_.optional(function(){v.assert(S,v.shared.isArrayLike+"("+y+")&&"+y+".length===2&&typeof "+y+'[0]==="number"&&typeof '+y+'[1]==="number"&&'+y+"[0]<="+y+"[1]","depth range must be a 2d array")});var D=S.def("+",y,"[0]"),M=S.def("+",y,"[1]");return[D,M]});case qd:return L(function(v){_.commandType(v,"object","blend.func",m.commandStr);var S="srcRGB"in v?v.srcRGB:v.src,y="srcAlpha"in v?v.srcAlpha:v.src,D="dstRGB"in v?v.dstRGB:v.dst,M="dstAlpha"in v?v.dstAlpha:v.dst;return _.commandParameter(S,pr,A+".srcRGB",m.commandStr),_.commandParameter(y,pr,A+".srcAlpha",m.commandStr),_.commandParameter(D,pr,A+".dstRGB",m.commandStr),_.commandParameter(M,pr,A+".dstAlpha",m.commandStr),_.command(Rh.indexOf(S+", "+D)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+S+", "+D+")",m.commandStr),[pr[S],pr[D],pr[y],pr[M]]},function(v,S,y){var D=v.constants.blendFuncs;_.optional(function(){v.assert(S,y+"&&typeof "+y+'==="object"',"invalid blend func, must be an object")});function M(Fe,ze){var Me=S.def('"',Fe,ze,'" in ',y,"?",y,".",Fe,ze,":",y,".",Fe);return _.optional(function(){v.assert(S,Me+" in "+D,"invalid "+C+"."+Fe+ze+", must be one of "+Object.keys(pr))}),Me}var te=M("src","RGB"),ve=M("dst","RGB");_.optional(function(){var Fe=v.constants.invalidBlendCombinations;v.assert(S,Fe+".indexOf("+te+'+", "+'+ve+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var _e=S.def(D,"[",te,"]"),Ce=S.def(D,"[",M("src","Alpha"),"]"),ge=S.def(D,"[",ve,"]"),Be=S.def(D,"[",M("dst","Alpha"),"]");return[_e,ge,Ce,Be]});case Xd:return L(function(v){if(typeof v=="string")return _.commandParameter(v,W,"invalid "+C,m.commandStr),[W[v],W[v]];if(typeof v=="object")return _.commandParameter(v.rgb,W,C+".rgb",m.commandStr),_.commandParameter(v.alpha,W,C+".alpha",m.commandStr),[W[v.rgb],W[v.alpha]];_.commandRaise("invalid blend.equation",m.commandStr)},function(v,S,y){var D=v.constants.blendEquations,M=S.def(),te=S.def(),ve=v.cond("typeof ",y,'==="string"');return _.optional(function(){function _e(Ce,ge,Be){v.assert(Ce,Be+" in "+D,"invalid "+ge+", must be one of "+Object.keys(W))}_e(ve.then,C,y),v.assert(ve.else,y+"&&typeof "+y+'==="object"',"invalid "+C),_e(ve.else,C+".rgb",y+".rgb"),_e(ve.else,C+".alpha",y+".alpha")}),ve.then(M,"=",te,"=",D,"[",y,"];"),ve.else(M,"=",D,"[",y,".rgb];",te,"=",D,"[",y,".alpha];"),S(ve),[M,te]});case ch:return L(function(v){return _.command(Jt(v)&&v.length===4,"blend.color must be a 4d array",m.commandStr),Vt(4,function(S){return+v[S]})},function(v,S,y){return _.optional(function(){v.assert(S,v.shared.isArrayLike+"("+y+")&&"+y+".length===4","blend.color must be a 4d array")}),Vt(4,function(D){return S.def("+",y,"[",D,"]")})});case xh:return L(function(v){return _.commandType(v,"number",A,m.commandStr),v|0},function(v,S,y){return _.optional(function(){v.assert(S,"typeof "+y+'==="number"',"invalid stencil.mask")}),S.def(y,"|0")});case ec:return L(function(v){_.commandType(v,"object",A,m.commandStr);var S=v.cmp||"keep",y=v.ref||0,D="mask"in v?v.mask:-1;return _.commandParameter(S,ga,C+".cmp",m.commandStr),_.commandType(y,"number",C+".ref",m.commandStr),_.commandType(D,"number",C+".mask",m.commandStr),[ga[S],y,D]},function(v,S,y){var D=v.constants.compareFuncs;_.optional(function(){function _e(){v.assert(S,Array.prototype.join.call(arguments,""),"invalid stencil.func")}_e(y+"&&typeof ",y,'==="object"'),_e('!("cmp" in ',y,")||(",y,".cmp in ",D,")")});var M=S.def('"cmp" in ',y,"?",D,"[",y,".cmp]",":",nn),te=S.def(y,".ref|0"),ve=S.def('"mask" in ',y,"?",y,".mask|0:-1");return[M,te,ve]});case tc:case cs:return L(function(v){_.commandType(v,"object",A,m.commandStr);var S=v.fail||"keep",y=v.zfail||"keep",D=v.zpass||"keep";return _.commandParameter(S,an,C+".fail",m.commandStr),_.commandParameter(y,an,C+".zfail",m.commandStr),_.commandParameter(D,an,C+".zpass",m.commandStr),[C===cs?Pn:ys,an[S],an[y],an[D]]},function(v,S,y){var D=v.constants.stencilOps;_.optional(function(){v.assert(S,y+"&&typeof "+y+'==="object"',"invalid "+C)});function M(te){return _.optional(function(){v.assert(S,'!("'+te+'" in '+y+")||("+y+"."+te+" in "+D+")","invalid "+C+"."+te+", must be one of "+Object.keys(an))}),S.def('"',te,'" in ',y,"?",D,"[",y,".",te,"]:",nn)}return[C===cs?Pn:ys,M("fail"),M("zfail"),M("zpass")]});case Jd:return L(function(v){_.commandType(v,"object",A,m.commandStr);var S=v.factor|0,y=v.units|0;return _.commandType(S,"number",A+".factor",m.commandStr),_.commandType(y,"number",A+".units",m.commandStr),[S,y]},function(v,S,y){_.optional(function(){v.assert(S,y+"&&typeof "+y+'==="object"',"invalid "+C)});var D=S.def(y,".factor|0"),M=S.def(y,".units|0");return[D,M]});case gh:return L(function(v){var S=0;return v==="front"?S=ys:v==="back"&&(S=Pn),_.command(!!S,A,m.commandStr),S},function(v,S,y){return _.optional(function(){v.assert(S,y+'==="front"||'+y+'==="back"',"invalid cull.face")}),S.def(y,'==="front"?',ys,":",Pn)});case Zd:return L(function(v){return _.command(typeof v=="number"&&v>=H.lineWidthDims[0]&&v<=H.lineWidthDims[1],"invalid line width, must be a positive number between "+H.lineWidthDims[0]+" and "+H.lineWidthDims[1],m.commandStr),v},function(v,S,y){return _.optional(function(){v.assert(S,"typeof "+y+'==="number"&&'+y+">="+H.lineWidthDims[0]+"&&"+y+"<="+H.lineWidthDims[1],"invalid line width")}),y});case Kd:return L(function(v){return _.commandParameter(v,cc,A,m.commandStr),cc[v]},function(v,S,y){return _.optional(function(){v.assert(S,y+'==="cw"||'+y+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),S.def(y+'==="cw"?'+Ih+":"+dc)});case Yd:return L(function(v){return _.command(Jt(v)&&v.length===4,"color.mask must be length 4 array",m.commandStr),v.map(function(S){return!!S})},function(v,S,y){return _.optional(function(){v.assert(S,v.shared.isArrayLike+"("+y+")&&"+y+".length===4","invalid color.mask")}),Vt(4,function(D){return"!!"+y+"["+D+"]"})});case Qd:return L(function(v){_.command(typeof v=="object"&&v,A,m.commandStr);var S="value"in v?v.value:1,y=!!v.invert;return _.command(typeof S=="number"&&S>=0&&S<=1,"sample.coverage.value must be a number between 0 and 1",m.commandStr),[S,y]},function(v,S,y){_.optional(function(){v.assert(S,y+"&&typeof "+y+'==="object"',"invalid sample.coverage")});var D=S.def('"value" in ',y,"?+",y,".value:1"),M=S.def("!!",y,".invert");return[D,M]})}}),N}function pt(b,m){var E=b.static,P=b.dynamic,N={};return Object.keys(E).forEach(function(C){var A=E[C],L;if(typeof A=="number"||typeof A=="boolean")L=ii(function(){return A});else if(typeof A=="function"){var v=A._reglType;v==="texture2d"||v==="textureCube"?L=ii(function(S){return S.link(A)}):v==="framebuffer"||v==="framebufferCube"?(_.command(A.color.length>0,'missing color attachment for framebuffer sent to uniform "'+C+'"',m.commandStr),L=ii(function(S){return S.link(A.color[0])})):_.commandRaise('invalid data for uniform "'+C+'"',m.commandStr)}else Jt(A)?L=ii(function(S){var y=S.global.def("[",Vt(A.length,function(D){return _.command(typeof A[D]=="number"||typeof A[D]=="boolean","invalid uniform "+C,S.commandStr),A[D]}),"]");return y}):_.commandRaise('invalid or missing data for uniform "'+C+'"',m.commandStr);L.value=A,N[C]=L}),Object.keys(P).forEach(function(C){var A=P[C];N[C]=Ui(A,function(L,v){return L.invoke(v,A)})}),N}function li(b,m){var E=b.static,P=b.dynamic,N={};return Object.keys(E).forEach(function(C){var A=E[C],L=p.id(C),v=new F;if(Wo(A))v.state=fa,v.buffer=J.getBuffer(J.create(A,pa,!1,!0)),v.type=0;else{var S=J.getBuffer(A);if(S)v.state=fa,v.buffer=S,v.type=0;else if(_.command(typeof A=="object"&&A,"invalid data for attribute "+C,m.commandStr),"constant"in A){var y=A.constant;v.buffer="null",v.state=Ud,typeof y=="number"?v.x=y:(_.command(Jt(y)&&y.length>0&&y.length<=4,"invalid constant for attribute "+C,m.commandStr),ua.forEach(function(ge,Be){Be<y.length&&(v[ge]=y[Be])}))}else{Wo(A.buffer)?S=J.getBuffer(J.create(A.buffer,pa,!1,!0)):S=J.getBuffer(A.buffer),_.command(!!S,'missing buffer for attribute "'+C+'"',m.commandStr);var D=A.offset|0;_.command(D>=0,'invalid offset for attribute "'+C+'"',m.commandStr);var M=A.stride|0;_.command(M>=0&&M<256,'invalid stride for attribute "'+C+'", must be integer betweeen [0, 255]',m.commandStr);var te=A.size|0;_.command(!("size"in A)||te>0&&te<=4,'invalid size for attribute "'+C+'", must be 1,2,3,4',m.commandStr);var ve=!!A.normalized,_e=0;"type"in A&&(_.commandParameter(A.type,En,"invalid type for attribute "+C,m.commandStr),_e=En[A.type]);var Ce=A.divisor|0;_.optional(function(){"divisor"in A&&(_.command(Ce===0||ce,'cannot specify divisor for attribute "'+C+'", instancing not supported',m.commandStr),_.command(Ce>=0,'invalid divisor for attribute "'+C+'"',m.commandStr));var ge=m.commandStr,Be=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(A).forEach(function(Fe){_.command(Be.indexOf(Fe)>=0,'unknown parameter "'+Fe+'" for attribute pointer "'+C+'" (valid parameters are '+Be+")",ge)})}),v.buffer=S,v.state=fa,v.size=te,v.normalized=ve,v.type=_e||S.dtype,v.offset=D,v.stride=M,v.divisor=Ce}}N[C]=ii(function(ge,Be){var Fe=ge.attribCache;if(L in Fe)return Fe[L];var ze={isStream:!1};return Object.keys(v).forEach(function(Me){ze[Me]=v[Me]}),v.buffer&&(ze.buffer=ge.link(v.buffer),ze.type=ze.type||ze.buffer+".dtype"),Fe[L]=ze,ze})}),Object.keys(P).forEach(function(C){var A=P[C];function L(v,S){var y=v.invoke(S,A),D=v.shared,M=v.constants,te=D.isBufferArgs,ve=D.buffer;_.optional(function(){v.assert(S,y+"&&(typeof "+y+'==="object"||typeof '+y+'==="function")&&('+te+"("+y+")||"+ve+".getBuffer("+y+")||"+ve+".getBuffer("+y+".buffer)||"+te+"("+y+'.buffer)||("constant" in '+y+"&&(typeof "+y+'.constant==="number"||'+D.isArrayLike+"("+y+".constant))))",'invalid dynamic attribute "'+C+'"')});var _e={isStream:S.def(!1)},Ce=new F;Ce.state=fa,Object.keys(Ce).forEach(function(ze){_e[ze]=S.def(""+Ce[ze])});var ge=_e.buffer,Be=_e.type;S("if(",te,"(",y,")){",_e.isStream,"=true;",ge,"=",ve,".createStream(",pa,",",y,");",Be,"=",ge,".dtype;","}else{",ge,"=",ve,".getBuffer(",y,");","if(",ge,"){",Be,"=",ge,".dtype;",'}else if("constant" in ',y,"){",_e.state,"=",Ud,";","if(typeof "+y+'.constant === "number"){',_e[ua[0]],"=",y,".constant;",ua.slice(1).map(function(ze){return _e[ze]}).join("="),"=0;","}else{",ua.map(function(ze,Me){return _e[ze]+"="+y+".constant.length>"+Me+"?"+y+".constant["+Me+"]:0;"}).join(""),"}}else{","if(",te,"(",y,".buffer)){",ge,"=",ve,".createStream(",pa,",",y,".buffer);","}else{",ge,"=",ve,".getBuffer(",y,".buffer);","}",Be,'="type" in ',y,"?",M.glTypes,"[",y,".type]:",ge,".dtype;",_e.normalized,"=!!",y,".normalized;");function Fe(ze){S(_e[ze],"=",y,".",ze,"|0;")}return Fe("size"),Fe("offset"),Fe("stride"),Fe("divisor"),S("}}"),S.exit("if(",_e.isStream,"){",ve,".destroyStream(",ge,");","}"),_e}N[C]=Ui(A,L)}),N}function Ht(b){var m=b.static,E=b.dynamic,P={};return Object.keys(m).forEach(function(N){var C=m[N];P[N]=ii(function(A,L){return typeof C=="number"||typeof C=="boolean"?""+C:A.link(C)})}),Object.keys(E).forEach(function(N){var C=E[N];P[N]=Ui(C,function(A,L){return A.invoke(L,C)})}),P}function ri(b,m,E,P,N){var C=b.static,A=b.dynamic;_.optional(function(){var Fe=[Cn,fs,hs,Ln,On,Do,Rn,No,us,ms].concat(Ye);function ze(Me){Object.keys(Me).forEach(function($e){_.command(Fe.indexOf($e)>=0,'unknown parameter "'+$e+'"',N.commandStr)})}ze(C),ze(A)});var L=st(b,m),v=Re(b),S=et(b,v,N),y=Wt(b,N),D=Yt(b,N),M=ft(b,N,L);function te(Fe){var ze=S[Fe];ze&&(D[Fe]=ze)}te(Pr),te(Ne(Fo));var ve=Object.keys(D).length>0,_e={framebuffer:v,draw:y,shader:M,state:D,dirty:ve,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_e.profile=ke(b),_e.uniforms=pt(E,N),_e.drawVAO=_e.scopeVAO=y.vao,!_e.drawVAO&&M.program&&!L&&w.angle_instanced_arrays&&y.static.elements){var Ce=!0,ge=M.program.attributes.map(function(Fe){var ze=m.static[Fe];return Ce=Ce&&!!ze,ze});if(Ce&&ge.length>0){var Be=he.getVAO(he.createVAO({attributes:ge,elements:y.static.elements}));_e.drawVAO=new _i(null,null,null,function(Fe,ze){return Fe.link(Be)}),_e.useVAO=!0}}return L?_e.useVAO=!0:_e.attributes=li(m,N),_e.context=Ht(P),_e}function di(b,m,E){var P=b.shared,N=P.context,C=b.scope();Object.keys(E).forEach(function(A){m.save(N,"."+A);var L=E[A],v=L.append(b,m);Array.isArray(v)?C(N,".",A,"=[",v.join(),"];"):C(N,".",A,"=",v,";")}),m(C)}function ci(b,m,E,P){var N=b.shared,C=N.gl,A=N.framebuffer,L;Pe&&(L=m.def(N.extensions,".webgl_draw_buffers"));var v=b.constants,S=v.drawBuffer,y=v.backBuffer,D;E?D=E.append(b,m):D=m.def(A,".next"),P||m("if(",D,"!==",A,".cur){"),m("if(",D,"){",C,".bindFramebuffer(",Oh,",",D,".framebuffer);"),Pe&&m(L,".drawBuffersWEBGL(",S,"[",D,".colorAttachments.length]);"),m("}else{",C,".bindFramebuffer(",Oh,",null);"),Pe&&m(L,".drawBuffersWEBGL(",y,");"),m("}",A,".cur=",D,";"),P||m("}")}function wi(b,m,E){var P=b.shared,N=P.gl,C=b.current,A=b.next,L=P.current,v=P.next,S=b.cond(L,".dirty");Ye.forEach(function(y){var D=Ne(y);if(!(D in E.state)){var M,te;if(D in A){M=A[D],te=C[D];var ve=Vt(Le[D].length,function(Ce){return S.def(M,"[",Ce,"]")});S(b.cond(ve.map(function(Ce,ge){return Ce+"!=="+te+"["+ge+"]"}).join("||")).then(N,".",Z[D],"(",ve,");",ve.map(function(Ce,ge){return te+"["+ge+"]="+Ce}).join(";"),";"))}else{M=S.def(v,".",D);var _e=b.cond(M,"!==",L,".",D);S(_e),D in Q?_e(b.cond(M).then(N,".enable(",Q[D],");").else(N,".disable(",Q[D],");"),L,".",D,"=",M,";"):_e(N,".",Z[D],"(",M,");",L,".",D,"=",M,";")}}}),Object.keys(E.state).length===0&&S(L,".dirty=false;"),m(S)}function Ai(b,m,E,P){var N=b.shared,C=b.current,A=N.current,L=N.gl;Fh(Object.keys(E)).forEach(function(v){var S=E[v];if(!(P&&!P(S))){var y=S.append(b,m);if(Q[v]){var D=Q[v];sn(S)?y?m(L,".enable(",D,");"):m(L,".disable(",D,");"):m(b.cond(y).then(L,".enable(",D,");").else(L,".disable(",D,");")),m(A,".",v,"=",y,";")}else if(Jt(y)){var M=C[v];m(L,".",Z[v],"(",y,");",y.map(function(te,ve){return M+"["+ve+"]="+te}).join(";"),";")}else m(L,".",Z[v],"(",y,");",A,".",v,"=",y,";")}})}function Qt(b,m){ce&&(b.instancing=m.def(b.shared.extensions,".angle_instanced_arrays"))}function lt(b,m,E,P,N){var C=b.shared,A=b.stats,L=C.current,v=C.timer,S=E.profile;function y(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var D,M;function te(Fe){D=m.def(),Fe(D,"=",y(),";"),typeof N=="string"?Fe(A,".count+=",N,";"):Fe(A,".count++;"),le&&(P?(M=m.def(),Fe(M,"=",v,".getNumPendingQueries();")):Fe(v,".beginQuery(",A,");"))}function ve(Fe){Fe(A,".cpuTime+=",y(),"-",D,";"),le&&(P?Fe(v,".pushScopeStats(",M,",",v,".getNumPendingQueries(),",A,");"):Fe(v,".endQuery();"))}function _e(Fe){var ze=m.def(L,".profile");m(L,".profile=",Fe,";"),m.exit(L,".profile=",ze,";")}var Ce;if(S){if(sn(S)){S.enable?(te(m),ve(m.exit),_e("true")):_e("false");return}Ce=S.append(b,m),_e(Ce)}else Ce=m.def(L,".profile");var ge=b.block();te(ge),m("if(",Ce,"){",ge,"}");var Be=b.block();ve(Be),m.exit("if(",Ce,"){",Be,"}")}function Ii(b,m,E,P,N){var C=b.shared;function A(v){switch(v){case zo:case $o:case jo:return 2;case Mo:case Go:case Ho:return 3;case Bo:case Uo:case Vo:return 4;default:return 1}}function L(v,S,y){var D=C.gl,M=m.def(v,".location"),te=m.def(C.attributes,"[",M,"]"),ve=y.state,_e=y.buffer,Ce=[y.x,y.y,y.z,y.w],ge=["buffer","normalized","offset","stride"];function Be(){m("if(!",te,".buffer){",D,".enableVertexAttribArray(",M,");}");var ze=y.type,Me;if(y.size?Me=m.def(y.size,"||",S):Me=S,m("if(",te,".type!==",ze,"||",te,".size!==",Me,"||",ge.map(function(tt){return te+"."+tt+"!=="+y[tt]}).join("||"),"){",D,".bindBuffer(",pa,",",_e,".buffer);",D,".vertexAttribPointer(",[M,Me,ze,y.normalized,y.stride,y.offset],");",te,".type=",ze,";",te,".size=",Me,";",ge.map(function(tt){return te+"."+tt+"="+y[tt]+";"}).join(""),"}"),ce){var $e=y.divisor;m("if(",te,".divisor!==",$e,"){",b.instancing,".vertexAttribDivisorANGLE(",[M,$e],");",te,".divisor=",$e,";}")}}function Fe(){m("if(",te,".buffer){",D,".disableVertexAttribArray(",M,");",te,".buffer=null;","}if(",ua.map(function(ze,Me){return te+"."+ze+"!=="+Ce[Me]}).join("||"),"){",D,".vertexAttrib4f(",M,",",Ce,");",ua.map(function(ze,Me){return te+"."+ze+"="+Ce[Me]+";"}).join(""),"}")}ve===fa?Be():ve===Ud?Fe():(m("if(",ve,"===",fa,"){"),Be(),m("}else{"),Fe(),m("}"))}P.forEach(function(v){var S=v.name,y=E.attributes[S],D;if(y){if(!N(y))return;D=y.append(b,m)}else{if(!N(Dh))return;var M=b.scopeAttrib(S);_.optional(function(){b.assert(m,M+".state","missing attribute "+S)}),D={},Object.keys(new F).forEach(function(te){D[te]=m.def(M,".",te)})}L(b.link(v),A(v.info.type),D)})}function At(b,m,E,P,N,C){for(var A=b.shared,L=A.gl,v,S=0;S<P.length;++S){var y=P[S],D=y.name,M=y.info.type,te=E.uniforms[D],ve=b.link(y),_e=ve+".location",Ce;if(te){if(!N(te))continue;if(sn(te)){var ge=te.value;if(_.command(ge!==null&&typeof ge!="undefined",'missing uniform "'+D+'"',b.commandStr),M===_s||M===bs){_.command(typeof ge=="function"&&(M===_s&&(ge._reglType==="texture2d"||ge._reglType==="framebuffer")||M===bs&&(ge._reglType==="textureCube"||ge._reglType==="framebufferCube")),"invalid texture for uniform "+D,b.commandStr);var Be=b.link(ge._texture||ge.color[0]._texture);m(L,".uniform1i(",_e,",",Be+".bind());"),m.exit(Be,".unbind();")}else if(M===ps||M===gs||M===vs){_.optional(function(){_.command(Jt(ge),"invalid matrix for uniform "+D,b.commandStr),_.command(M===ps&&ge.length===4||M===gs&&ge.length===9||M===vs&&ge.length===16,"invalid length for matrix uniform "+D,b.commandStr)});var Fe=b.global.def("new Float32Array(["+Array.prototype.slice.call(ge)+"])"),ze=2;M===gs?ze=3:M===vs&&(ze=4),m(L,".uniformMatrix",ze,"fv(",_e,",false,",Fe,");")}else{switch(M){case ac:_.commandType(ge,"number","uniform "+D,b.commandStr),v="1f";break;case zo:_.command(Jt(ge)&&ge.length===2,"uniform "+D,b.commandStr),v="2f";break;case Mo:_.command(Jt(ge)&&ge.length===3,"uniform "+D,b.commandStr),v="3f";break;case Bo:_.command(Jt(ge)&&ge.length===4,"uniform "+D,b.commandStr),v="4f";break;case oc:_.commandType(ge,"boolean","uniform "+D,b.commandStr),v="1i";break;case sc:_.commandType(ge,"number","uniform "+D,b.commandStr),v="1i";break;case jo:_.command(Jt(ge)&&ge.length===2,"uniform "+D,b.commandStr),v="2i";break;case $o:_.command(Jt(ge)&&ge.length===2,"uniform "+D,b.commandStr),v="2i";break;case Ho:_.command(Jt(ge)&&ge.length===3,"uniform "+D,b.commandStr),v="3i";break;case Go:_.command(Jt(ge)&&ge.length===3,"uniform "+D,b.commandStr),v="3i";break;case Vo:_.command(Jt(ge)&&ge.length===4,"uniform "+D,b.commandStr),v="4i";break;case Uo:_.command(Jt(ge)&&ge.length===4,"uniform "+D,b.commandStr),v="4i";break}m(L,".uniform",v,"(",_e,",",Jt(ge)?Array.prototype.slice.call(ge):ge,");")}continue}else Ce=te.append(b,m)}else{if(!N(Dh))continue;Ce=m.def(A.uniforms,"[",p.id(D),"]")}M===_s?(_(!Array.isArray(Ce),"must specify a scalar prop for textures"),m("if(",Ce,"&&",Ce,'._reglType==="framebuffer"){',Ce,"=",Ce,".color[0];","}")):M===bs&&(_(!Array.isArray(Ce),"must specify a scalar prop for cube maps"),m("if(",Ce,"&&",Ce,'._reglType==="framebufferCube"){',Ce,"=",Ce,".color[0];","}")),_.optional(function(){function Pi(sr,Uh){b.assert(m,sr,'bad data or missing for uniform "'+D+'".  '+Uh)}function vr(sr){_(!Array.isArray(Ce),"must not specify an array type for uniform"),Pi("typeof "+Ce+'==="'+sr+'"',"invalid type, expected "+sr)}function Zi(sr,Uh){Array.isArray(Ce)?_(Ce.length===sr,"must have length "+sr):Pi(A.isArrayLike+"("+Ce+")&&"+Ce+".length==="+sr,"invalid vector, should have length "+sr,b.commandStr)}function Gh(sr){_(!Array.isArray(Ce),"must not specify a value type"),Pi("typeof "+Ce+'==="function"&&'+Ce+'._reglType==="texture'+(sr===Ah?"2d":"Cube")+'"',"invalid texture type",b.commandStr)}switch(M){case sc:vr("number");break;case $o:Zi(2);break;case Go:Zi(3);break;case Uo:Zi(4);break;case ac:vr("number");break;case zo:Zi(2);break;case Mo:Zi(3);break;case Bo:Zi(4);break;case oc:vr("boolean");break;case jo:Zi(2);break;case Ho:Zi(3);break;case Vo:Zi(4);break;case ps:Zi(4);break;case gs:Zi(9);break;case vs:Zi(16);break;case _s:Gh(Ah);break;case bs:Gh(U_);break}});var Me=1;switch(M){case _s:case bs:var $e=m.def(Ce,"._texture");m(L,".uniform1i(",_e,",",$e,".bind());"),m.exit($e,".unbind();");continue;case sc:case oc:v="1i";break;case $o:case jo:v="2i",Me=2;break;case Go:case Ho:v="3i",Me=3;break;case Uo:case Vo:v="4i",Me=4;break;case ac:v="1f";break;case zo:v="2f",Me=2;break;case Mo:v="3f",Me=3;break;case Bo:v="4f",Me=4;break;case ps:v="Matrix2fv";break;case gs:v="Matrix3fv";break;case vs:v="Matrix4fv";break}if(v.charAt(0)==="M"){m(L,".uniform",v,"(",_e,",");var tt=Math.pow(M-ps+2,2),Nt=b.global.def("new Float32Array(",tt,")");Array.isArray(Ce)?m("false,(",Vt(tt,function(Pi){return Nt+"["+Pi+"]="+Ce[Pi]}),",",Nt,")"):m("false,(Array.isArray(",Ce,")||",Ce," instanceof Float32Array)?",Ce,":(",Vt(tt,function(Pi){return Nt+"["+Pi+"]="+Ce+"["+Pi+"]"}),",",Nt,")"),m(");")}else if(Me>1){for(var Si=[],Fr=[],Dr=0;Dr<Me;++Dr)Array.isArray(Ce)?Fr.push(Ce[Dr]):Fr.push(m.def(Ce+"["+Dr+"]")),C&&Si.push(m.def());C&&m("if(!",b.batchId,"||",Si.map(function(Pi,vr){return Pi+"!=="+Fr[vr]}).join("||"),"){",Si.map(function(Pi,vr){return Pi+"="+Fr[vr]+";"}).join("")),m(L,".uniform",v,"(",_e,",",Fr.join(","),");"),C&&m("}")}else{if(_(!Array.isArray(Ce),"uniform value must not be an array"),C){var Nr=m.def();m("if(!",b.batchId,"||",Nr,"!==",Ce,"){",Nr,"=",Ce,";")}m(L,".uniform",v,"(",_e,",",Ce,");"),C&&m("}")}}}function Qe(b,m,E,P){var N=b.shared,C=N.gl,A=N.draw,L=P.draw;function v(){var Me=L.elements,$e,tt=m;return Me?((Me.contextDep&&P.contextDynamic||Me.propDep)&&(tt=E),$e=Me.append(b,tt),L.elementsActive&&tt("if("+$e+")"+C+".bindBuffer("+nc+","+$e+".buffer.buffer);")):($e=tt.def(),tt($e,"=",A,".",Ln,";","if(",$e,"){",C,".bindBuffer(",nc,",",$e,".buffer.buffer);}","else if(",N.vao,".currentVAO){",$e,"=",b.shared.elements+".getElements("+N.vao,".currentVAO.elements);",ie?"":"if("+$e+")"+C+".bindBuffer("+nc+","+$e+".buffer.buffer);","}")),$e}function S(){var Me=L.count,$e,tt=m;return Me?((Me.contextDep&&P.contextDynamic||Me.propDep)&&(tt=E),$e=Me.append(b,tt),_.optional(function(){Me.MISSING&&b.assert(m,"false","missing vertex count"),Me.DYNAMIC&&b.assert(tt,$e+">=0","missing vertex count")})):($e=tt.def(A,".",Rn),_.optional(function(){b.assert(tt,$e+">=0","missing vertex count")})),$e}var y=v();function D(Me){var $e=L[Me];return $e?$e.contextDep&&P.contextDynamic||$e.propDep?$e.append(b,E):$e.append(b,m):m.def(A,".",Me)}var M=D(On),te=D(Do),ve=S();if(typeof ve=="number"){if(ve===0)return}else E("if(",ve,"){"),E.exit("}");var _e,Ce;ce&&(_e=D(No),Ce=b.instancing);var ge=y+".type",Be=L.elements&&sn(L.elements)&&!L.vaoActive;function Fe(){function Me(){E(Ce,".drawElementsInstancedANGLE(",[M,ve,ge,te+"<<(("+ge+"-"+ah+")>>1)",_e],");")}function $e(){E(Ce,".drawArraysInstancedANGLE(",[M,te,ve,_e],");")}y&&y!=="null"?Be?Me():(E("if(",y,"){"),Me(),E("}else{"),$e(),E("}")):$e()}function ze(){function Me(){E(C+".drawElements("+[M,ve,ge,te+"<<(("+ge+"-"+ah+")>>1)"]+");")}function $e(){E(C+".drawArrays("+[M,te,ve]+");")}y&&y!=="null"?Be?Me():(E("if(",y,"){"),Me(),E("}else{"),$e(),E("}")):$e()}ce&&(typeof _e!="number"||_e>=0)?typeof _e=="string"?(E("if(",_e,">0){"),Fe(),E("}else if(",_e,"<0){"),ze(),E("}")):Fe():ze()}function ht(b,m,E,P,N){var C=nt(),A=C.proc("body",N);return _.optional(function(){C.commandStr=m.commandStr,C.command=C.link(m.commandStr)}),ce&&(C.instancing=A.def(C.shared.extensions,".angle_instanced_arrays")),b(C,A,E,P),C.compile().body}function _t(b,m,E,P){Qt(b,m),E.useVAO?E.drawVAO?m(b.shared.vao,".setVAO(",E.drawVAO.append(b,m),");"):m(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(m(b.shared.vao,".setVAO(null);"),Ii(b,m,E,P.attributes,function(){return!0})),At(b,m,E,P.uniforms,function(){return!0},!1),Qe(b,m,m,E)}function ei(b,m){var E=b.proc("draw",1);Qt(b,E),di(b,E,m.context),ci(b,E,m.framebuffer),wi(b,E,m),Ai(b,E,m.state),lt(b,E,m,!1,!0);var P=m.shader.progVar.append(b,E);if(E(b.shared.gl,".useProgram(",P,".program);"),m.shader.program)_t(b,E,m,m.shader.program);else{E(b.shared.vao,".setVAO(null);");var N=b.global.def("{}"),C=E.def(P,".id"),A=E.def(N,"[",C,"]");E(b.cond(A).then(A,".call(this,a0);").else(A,"=",N,"[",C,"]=",b.link(function(L){return ht(_t,b,m,L,1)}),"(",P,");",A,".call(this,a0);"))}Object.keys(m.state).length>0&&E(b.shared.current,".dirty=true;"),b.shared.vao&&E(b.shared.vao,".setVAO(null);")}function gr(b,m,E,P){b.batchId="a1",Qt(b,m);function N(){return!0}Ii(b,m,E,P.attributes,N),At(b,m,E,P.uniforms,N,!1),Qe(b,m,m,E)}function Fn(b,m,E,P){Qt(b,m);var N=E.contextDep,C=m.def(),A="a0",L="a1",v=m.def();b.shared.props=v,b.batchId=C;var S=b.scope(),y=b.scope();m(S.entry,"for(",C,"=0;",C,"<",L,";++",C,"){",v,"=",A,"[",C,"];",y,"}",S.exit);function D(ge){return ge.contextDep&&N||ge.propDep}function M(ge){return!D(ge)}if(E.needsContext&&di(b,y,E.context),E.needsFramebuffer&&ci(b,y,E.framebuffer),Ai(b,y,E.state,D),E.profile&&D(E.profile)&&lt(b,y,E,!1,!0),P)E.useVAO?E.drawVAO?D(E.drawVAO)?y(b.shared.vao,".setVAO(",E.drawVAO.append(b,y),");"):S(b.shared.vao,".setVAO(",E.drawVAO.append(b,S),");"):S(b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"):(S(b.shared.vao,".setVAO(null);"),Ii(b,S,E,P.attributes,M),Ii(b,y,E,P.attributes,D)),At(b,S,E,P.uniforms,M,!1),At(b,y,E,P.uniforms,D,!0),Qe(b,S,y,E);else{var te=b.global.def("{}"),ve=E.shader.progVar.append(b,y),_e=y.def(ve,".id"),Ce=y.def(te,"[",_e,"]");y(b.shared.gl,".useProgram(",ve,".program);","if(!",Ce,"){",Ce,"=",te,"[",_e,"]=",b.link(function(ge){return ht(gr,b,E,ge,2)}),"(",ve,");}",Ce,".call(this,a0[",C,"],",C,");")}}function x(b,m){var E=b.proc("batch",2);b.batchId="0",Qt(b,E);var P=!1,N=!0;Object.keys(m.context).forEach(function(te){P=P||m.context[te].propDep}),P||(di(b,E,m.context),N=!1);var C=m.framebuffer,A=!1;C?(C.propDep?P=A=!0:C.contextDep&&P&&(A=!0),A||ci(b,E,C)):ci(b,E,null),m.state.viewport&&m.state.viewport.propDep&&(P=!0);function L(te){return te.contextDep&&P||te.propDep}wi(b,E,m),Ai(b,E,m.state,function(te){return!L(te)}),(!m.profile||!L(m.profile))&&lt(b,E,m,!1,"a1"),m.contextDep=P,m.needsContext=N,m.needsFramebuffer=A;var v=m.shader.progVar;if(v.contextDep&&P||v.propDep)Fn(b,E,m,null);else{var S=v.append(b,E);if(E(b.shared.gl,".useProgram(",S,".program);"),m.shader.program)Fn(b,E,m,m.shader.program);else{E(b.shared.vao,".setVAO(null);");var y=b.global.def("{}"),D=E.def(S,".id"),M=E.def(y,"[",D,"]");E(b.cond(M).then(M,".call(this,a0,a1);").else(M,"=",y,"[",D,"]=",b.link(function(te){return ht(Fn,b,m,te,2)}),"(",S,");",M,".call(this,a0,a1);"))}}Object.keys(m.state).length>0&&E(b.shared.current,".dirty=true;"),b.shared.vao&&E(b.shared.vao,".setVAO(null);")}function V(b,m){var E=b.proc("scope",3);b.batchId="a2";var P=b.shared,N=P.current;di(b,E,m.context),m.framebuffer&&m.framebuffer.append(b,E),Fh(Object.keys(m.state)).forEach(function(A){var L=m.state[A],v=L.append(b,E);Jt(v)?v.forEach(function(S,y){E.set(b.next[A],"["+y+"]",S)}):E.set(P.next,"."+A,v)}),lt(b,E,m,!0,!0),[Ln,Do,Rn,No,On].forEach(function(A){var L=m.draw[A];L&&E.set(P.draw,"."+A,""+L.append(b,E))}),Object.keys(m.uniforms).forEach(function(A){var L=m.uniforms[A].append(b,E);Array.isArray(L)&&(L="["+L.join()+"]"),E.set(P.uniforms,"["+p.id(A)+"]",L)}),Object.keys(m.attributes).forEach(function(A){var L=m.attributes[A].append(b,E),v=b.scopeAttrib(A);Object.keys(new F).forEach(function(S){E.set(v,"."+S,L[S])})}),m.scopeVAO&&E.set(P.vao,".targetVAO",m.scopeVAO.append(b,E));function C(A){var L=m.shader[A];L&&E.set(P.shader,"."+A,L.append(b,E))}C(fs),C(hs),Object.keys(m.state).length>0&&(E(N,".dirty=true;"),E.exit(N,".dirty=true;")),E("a1(",b.shared.context,",a0,",b.batchId,");")}function G(b){if(!(typeof b!="object"||Jt(b))){for(var m=Object.keys(b),E=0;E<m.length;++E)if(Pt.isDynamic(b[m[E]]))return!0;return!1}}function De(b,m,E){var P=m.static[E];if(!P||!G(P))return;var N=b.global,C=Object.keys(P),A=!1,L=!1,v=!1,S=b.global.def("{}");C.forEach(function(D){var M=P[D];if(Pt.isDynamic(M)){typeof M=="function"&&(M=P[D]=Pt.unbox(M));var te=Ui(M,null);A=A||te.thisDep,v=v||te.propDep,L=L||te.contextDep}else{switch(N(S,".",D,"="),typeof M){case"number":N(M);break;case"string":N('"',M,'"');break;case"object":Array.isArray(M)&&N("[",M.join(),"]");break;default:N(b.link(M));break}N(";")}});function y(D,M){C.forEach(function(te){var ve=P[te];if(Pt.isDynamic(ve)){var _e=D.invoke(M,ve);M(S,".",te,"=",_e,";")}})}m.dynamic[E]=new Pt.DynamicVariable(Po,{thisDep:A,contextDep:L,propDep:v,ref:S,append:y}),delete m.static[E]}function ut(b,m,E,P,N){var C=nt();C.stats=C.link(N),Object.keys(m.static).forEach(function(L){De(C,m,L)}),B_.forEach(function(L){De(C,b,L)});var A=ri(b,m,E,P,C);return ei(C,A),V(C,A),x(C,A),r(C.compile(),{destroy:function(){A.shader.program.destroy()}})}return{next:Ie,current:Le,procs:function(){var b=nt(),m=b.proc("poll"),E=b.proc("refresh"),P=b.block();m(P),E(P);var N=b.shared,C=N.gl,A=N.next,L=N.current;P(L,".dirty=false;"),ci(b,m),ci(b,E,null,!0);var v;ce&&(v=b.link(ce)),w.oes_vertex_array_object&&E(b.link(w.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var S=0;S<H.maxAttributes;++S){var y=E.def(N.attributes,"[",S,"]"),D=b.cond(y,".buffer");D.then(C,".enableVertexAttribArray(",S,");",C,".bindBuffer(",pa,",",y,".buffer.buffer);",C,".vertexAttribPointer(",S,",",y,".size,",y,".type,",y,".normalized,",y,".stride,",y,".offset);").else(C,".disableVertexAttribArray(",S,");",C,".vertexAttrib4f(",S,",",y,".x,",y,".y,",y,".z,",y,".w);",y,".buffer=null;"),E(D),ce&&E(v,".vertexAttribDivisorANGLE(",S,",",y,".divisor);")}return E(b.shared.vao,".currentVAO=null;",b.shared.vao,".setVAO(",b.shared.vao,".targetVAO);"),Object.keys(Q).forEach(function(M){var te=Q[M],ve=P.def(A,".",M),_e=b.block();_e("if(",ve,"){",C,".enable(",te,")}else{",C,".disable(",te,")}",L,".",M,"=",ve,";"),E(_e),m("if(",ve,"!==",L,".",M,"){",_e,"}")}),Object.keys(Z).forEach(function(M){var te=Z[M],ve=Le[M],_e,Ce,ge=b.block();if(ge(C,".",te,"("),Jt(ve)){var Be=ve.length;_e=b.global.def(A,".",M),Ce=b.global.def(L,".",M),ge(Vt(Be,function(Fe){return _e+"["+Fe+"]"}),");",Vt(Be,function(Fe){return Ce+"["+Fe+"]="+_e+"["+Fe+"];"}).join("")),m("if(",Vt(Be,function(Fe){return _e+"["+Fe+"]!=="+Ce+"["+Fe+"]"}).join("||"),"){",ge,"}")}else _e=P.def(A,".",M),Ce=P.def(L,".",M),ge(_e,");",L,".",M,"=",_e,";"),m("if(",_e,"!==",Ce,"){",ge,"}");E(ge)}),b.compile()}(),compile:ut}}function nb(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ab=34918,sb=34919,Nh=35007,ob=function(f,p){if(!p.ext_disjoint_timer_query)return null;var w=[];function H(){return w.pop()||p.ext_disjoint_timer_query.createQueryEXT()}function J(ce){w.push(ce)}var j=[];function X(ce){var Pe=H();p.ext_disjoint_timer_query.beginQueryEXT(Nh,Pe),j.push(Pe),le(j.length-1,j.length,ce)}function oe(){p.ext_disjoint_timer_query.endQueryEXT(Nh)}function se(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var he=[];function pe(){return he.pop()||new se}function me(ce){he.push(ce)}var ye=[];function le(ce,Pe,ie){var Le=pe();Le.startQueryIndex=ce,Le.endQueryIndex=Pe,Le.sum=0,Le.stats=ie,ye.push(Le)}var ue=[],F=[];function W(){var ce,Pe,ie=j.length;if(ie!==0){F.length=Math.max(F.length,ie+1),ue.length=Math.max(ue.length,ie+1),ue[0]=0,F[0]=0;var Le=0;for(ce=0,Pe=0;Pe<j.length;++Pe){var Ie=j[Pe];p.ext_disjoint_timer_query.getQueryObjectEXT(Ie,sb)?(Le+=p.ext_disjoint_timer_query.getQueryObjectEXT(Ie,ab),J(Ie)):j[ce++]=Ie,ue[Pe+1]=Le,F[Pe+1]=ce}for(j.length=ce,ce=0,Pe=0;Pe<ye.length;++Pe){var Ye=ye[Pe],Q=Ye.startQueryIndex,Z=Ye.endQueryIndex;Ye.sum+=ue[Z]-ue[Q];var Ne=F[Q],xe=F[Z];xe===Ne?(Ye.stats.gpuTime+=Ye.sum/1e6,me(Ye)):(Ye.startQueryIndex=Ne,Ye.endQueryIndex=xe,ye[ce++]=Ye)}ye.length=ce}}return{beginQuery:X,endQuery:oe,pushScopeStats:le,update:W,getNumPendingQueries:function(){return j.length},clear:function(){w.push.apply(w,j);for(var ce=0;ce<w.length;ce++)p.ext_disjoint_timer_query.deleteQueryEXT(w[ce]);j.length=0,w.length=0},restore:function(){j.length=0,w.length=0}}},lb=16384,db=256,cb=1024,ub=34962,zh="webglcontextlost",Mh="webglcontextrestored",Bh=1,fb=2,hb=3;function $h(f,p){for(var w=0;w<f.length;++w)if(f[w]===p)return w;return-1}function mb(f){var p=wn(f);if(!p)return null;var w=p.gl,H=w.getContextAttributes(),J=w.isContextLost(),j=Jr(w,p);if(!j)return null;var X=Ri(),oe=nb(),se=j.extensions,he=ob(w,se),pe=Zt(),me=w.drawingBufferWidth,ye=w.drawingBufferHeight,le={tick:0,time:0,viewportWidth:me,viewportHeight:ye,framebufferWidth:me,framebufferHeight:ye,drawingBufferWidth:me,drawingBufferHeight:ye,pixelRatio:p.pixelRatio},ue={},F={elements:null,primitive:4,count:-1,offset:0,instances:-1},W=ev(w,se),ce=gv(w,oe,p,Le),Pe=kv(w,se,ce,oe),ie=k_(w,se,W,oe,ce,Pe,F);function Le(Qe){return ie.destroyBuffer(Qe)}var Ie=R_(w,X,oe,p),Ye=a_(w,se,W,function(){Ne.procs.poll()},le,oe,p),Q=s_(w,se,W,oe,p),Z=A_(w,se,W,Ye,Q,oe),Ne=rb(w,X,se,W,ce,Pe,Ye,Z,ue,ie,Ie,F,le,he,p),xe=D_(w,Z,Ne.procs.poll,le,H,se,W),de=Ne.next,Ee=w.canvas,Ae=[],ot=[],nt=[],ke=[p.onDestroy],Re=null;function et(){if(Ae.length===0){he&&he.update(),Re=null;return}Re=ti.next(et),Ai();for(var Qe=Ae.length-1;Qe>=0;--Qe){var ht=Ae[Qe];ht&&ht(le,null,0)}w.flush(),he&&he.update()}function st(){!Re&&Ae.length>0&&(Re=ti.next(et))}function ft(){Re&&(ti.cancel(et),Re=null)}function Wt(Qe){Qe.preventDefault(),J=!0,ft(),ot.forEach(function(ht){ht()})}function Yt(Qe){w.getError(),J=!1,j.restore(),Ie.restore(),ce.restore(),Ye.restore(),Q.restore(),Z.restore(),ie.restore(),he&&he.restore(),Ne.procs.refresh(),st(),nt.forEach(function(ht){ht()})}Ee&&(Ee.addEventListener(zh,Wt,!1),Ee.addEventListener(Mh,Yt,!1));function pt(){Ae.length=0,ft(),Ee&&(Ee.removeEventListener(zh,Wt),Ee.removeEventListener(Mh,Yt)),Ie.clear(),Z.clear(),Q.clear(),ie.clear(),Ye.clear(),Pe.clear(),ce.clear(),he&&he.clear(),ke.forEach(function(Qe){Qe()})}function li(Qe){_(!!Qe,"invalid args to regl({...})"),_.type(Qe,"object","invalid args to regl({...})");function ht(N){var C=r({},N);delete C.uniforms,delete C.attributes,delete C.context,delete C.vao,"stencil"in C&&C.stencil.op&&(C.stencil.opBack=C.stencil.opFront=C.stencil.op,delete C.stencil.op);function A(L){if(L in C){var v=C[L];delete C[L],Object.keys(v).forEach(function(S){C[L+"."+S]=v[S]})}}return A("blend"),A("depth"),A("cull"),A("stencil"),A("polygonOffset"),A("scissor"),A("sample"),"vao"in N&&(C.vao=N.vao),C}function _t(N,C){var A={},L={};return Object.keys(N).forEach(function(v){var S=N[v];if(Pt.isDynamic(S)){L[v]=Pt.unbox(S,v);return}else if(C&&Array.isArray(S)){for(var y=0;y<S.length;++y)if(Pt.isDynamic(S[y])){L[v]=Pt.unbox(S,v);return}}A[v]=S}),{dynamic:L,static:A}}var ei=_t(Qe.context||{},!0),gr=_t(Qe.uniforms||{},!0),Fn=_t(Qe.attributes||{},!1),x=_t(ht(Qe),!1),V={gpuTime:0,cpuTime:0,count:0},G=Ne.compile(x,Fn,gr,ei,V),De=G.draw,ut=G.batch,b=G.scope,m=[];function E(N){for(;m.length<N;)m.push(null);return m}function P(N,C){var A;if(J&&_.raise("context lost"),typeof N=="function")return b.call(this,null,N,0);if(typeof C=="function")if(typeof N=="number")for(A=0;A<N;++A)b.call(this,null,C,A);else if(Array.isArray(N))for(A=0;A<N.length;++A)b.call(this,N[A],C,A);else return b.call(this,N,C,0);else if(typeof N=="number"){if(N>0)return ut.call(this,E(N|0),N|0)}else if(Array.isArray(N)){if(N.length)return ut.call(this,N,N.length)}else return De.call(this,N)}return r(P,{stats:V,destroy:function(){G.destroy()}})}var Ht=Z.setFBO=li({framebuffer:Pt.define.call(null,Bh,"framebuffer")});function ri(Qe,ht){var _t=0;Ne.procs.poll();var ei=ht.color;ei&&(w.clearColor(+ei[0]||0,+ei[1]||0,+ei[2]||0,+ei[3]||0),_t|=lb),"depth"in ht&&(w.clearDepth(+ht.depth),_t|=db),"stencil"in ht&&(w.clearStencil(ht.stencil|0),_t|=cb),_(!!_t,"called regl.clear with no buffer specified"),w.clear(_t)}function di(Qe){if(_(typeof Qe=="object"&&Qe,"regl.clear() takes an object as input"),"framebuffer"in Qe)if(Qe.framebuffer&&Qe.framebuffer_reglType==="framebufferCube")for(var ht=0;ht<6;++ht)Ht(r({framebuffer:Qe.framebuffer.faces[ht]},Qe),ri);else Ht(Qe,ri);else ri(null,Qe)}function ci(Qe){_.type(Qe,"function","regl.frame() callback must be a function"),Ae.push(Qe);function ht(){var _t=$h(Ae,Qe);_(_t>=0,"cannot cancel a frame twice");function ei(){var gr=$h(Ae,ei);Ae[gr]=Ae[Ae.length-1],Ae.length-=1,Ae.length<=0&&ft()}Ae[_t]=ei}return st(),{cancel:ht}}function wi(){var Qe=de.viewport,ht=de.scissor_box;Qe[0]=Qe[1]=ht[0]=ht[1]=0,le.viewportWidth=le.framebufferWidth=le.drawingBufferWidth=Qe[2]=ht[2]=w.drawingBufferWidth,le.viewportHeight=le.framebufferHeight=le.drawingBufferHeight=Qe[3]=ht[3]=w.drawingBufferHeight}function Ai(){le.tick+=1,le.time=lt(),wi(),Ne.procs.poll()}function Qt(){Ye.refresh(),wi(),Ne.procs.refresh(),he&&he.update()}function lt(){return(Zt()-pe)/1e3}Qt();function Ii(Qe,ht){_.type(ht,"function","listener callback must be a function");var _t;switch(Qe){case"frame":return ci(ht);case"lost":_t=ot;break;case"restore":_t=nt;break;case"destroy":_t=ke;break;default:_.raise("invalid event, must be one of frame,lost,restore,destroy")}return _t.push(ht),{cancel:function(){for(var ei=0;ei<_t.length;++ei)if(_t[ei]===ht){_t[ei]=_t[_t.length-1],_t.pop();return}}}}var At=r(li,{clear:di,prop:Pt.define.bind(null,Bh),context:Pt.define.bind(null,fb),this:Pt.define.bind(null,hb),draw:li({}),buffer:function(Qe){return ce.create(Qe,ub,!1,!1)},elements:function(Qe){return Pe.create(Qe,!1)},texture:Ye.create2D,cube:Ye.createCube,renderbuffer:Q.create,framebuffer:Z.create,framebufferCube:Z.createCube,vao:ie.createVAO,attributes:H,frame:ci,on:Ii,limits:W,hasExtension:function(Qe){return W.extensions.indexOf(Qe.toLowerCase())>=0},read:xe,destroy:pt,_gl:w,_refresh:Qt,poll:function(){Ai(),he&&he.update()},now:lt,stats:oe});return p.onDone(null,At),At}return mb})})(xg);var X1=xg.exports;const q1=bg(X1);function hl(i,e){return i==null||e==null?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function Y1(i,e){return i==null||e==null?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function Tu(i){let e,t,r;i.length!==2?(e=hl,t=(o,l)=>hl(i(o),l),r=(o,l)=>i(o)-l):(e=i===hl||i===Y1?i:K1,t=i,r=i);function n(o,l,d=0,c=o.length){if(d<c){if(e(l,l)!==0)return c;do{const u=d+c>>>1;t(o[u],l)<0?d=u+1:c=u}while(d<c)}return d}function a(o,l,d=0,c=o.length){if(d<c){if(e(l,l)!==0)return c;do{const u=d+c>>>1;t(o[u],l)<=0?d=u+1:c=u}while(d<c)}return d}function s(o,l,d=0,c=o.length){const u=n(o,l,d,c-1);return u>d&&r(o[u-1],l)>-r(o[u],l)?u-1:u}return{left:n,center:s,right:a}}function K1(){return 0}function Z1(i){return i===null?NaN:+i}const J1=Tu(hl),Q1=J1.right;Tu(Z1).center;function Xs(i,e){let t,r;for(const n of i)n!=null&&(t===void 0?n>=n&&(t=r=n):(t>n&&(t=n),r<n&&(r=n)));return[t,r]}class ew extends Map{constructor(e,t=rw){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(om(this,e))}has(e){return super.has(om(this,e))}set(e,t){return super.set(tw(this,e),t)}delete(e){return super.delete(iw(this,e))}}function om({_intern:i,_key:e},t){const r=e(t);return i.has(r)?i.get(r):t}function tw({_intern:i,_key:e},t){const r=e(t);return i.has(r)?i.get(r):(i.set(r,t),t)}function iw({_intern:i,_key:e},t){const r=e(t);return i.has(r)&&(t=i.get(r),i.delete(r)),t}function rw(i){return i!==null&&typeof i=="object"?i.valueOf():i}function nw(i){return i}function aw(i,e,...t){return sw(i,nw,e,t)}function sw(i,e,t,r){return function n(a,s){if(s>=r.length)return t(a);const o=new ew,l=r[s++];let d=-1;for(const c of a){const u=l(c,++d,a),h=o.get(u);h?h.push(c):o.set(u,[c])}for(const[c,u]of o)o.set(c,n(u,s));return e(o)}(i,0)}const ow=Math.sqrt(50),lw=Math.sqrt(10),dw=Math.sqrt(2);function Al(i,e,t){const r=(e-i)/Math.max(0,t),n=Math.floor(Math.log10(r)),a=r/Math.pow(10,n),s=a>=ow?10:a>=lw?5:a>=dw?2:1;let o,l,d;return n<0?(d=Math.pow(10,-n)/s,o=Math.round(i*d),l=Math.round(e*d),o/d<i&&++o,l/d>e&&--l,d=-d):(d=Math.pow(10,n)*s,o=Math.round(i/d),l=Math.round(e/d),o*d<i&&++o,l*d>e&&--l),l<o&&.5<=t&&t<2?Al(i,e,t*2):[o,l,d]}function cw(i,e,t){if(e=+e,i=+i,t=+t,!(t>0))return[];if(i===e)return[i];const r=e<i,[n,a,s]=r?Al(e,i,t):Al(i,e,t);if(!(a>=n))return[];const o=a-n+1,l=new Array(o);if(r)if(s<0)for(let d=0;d<o;++d)l[d]=(a-d)/-s;else for(let d=0;d<o;++d)l[d]=(a-d)*s;else if(s<0)for(let d=0;d<o;++d)l[d]=(n+d)/-s;else for(let d=0;d<o;++d)l[d]=(n+d)*s;return l}function Wc(i,e,t){return e=+e,i=+i,t=+t,Al(i,e,t)[2]}function Xc(i,e,t){e=+e,i=+i,t=+t;const r=e<i,n=r?Wc(e,i,t):Wc(i,e,t);return(r?-1:1)*(n<0?1/-n:n)}function uw(i,e=fw){const t=[];let r,n=!1;for(const a of i)n&&t.push(e(r,a)),r=a,n=!0;return t}function fw(i,e){return[i,e]}function qc(i,e,t){i=+i,e=+e,t=(n=arguments.length)<2?(e=i,i=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((e-i)/t))|0,a=new Array(n);++r<n;)a[r]=i+r*t;return a}function Hl(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i);break}return this}function hw(i){return function(){return i}}function mw(i){return+i}var lm=[0,1];function yr(i){return i}function Yc(i,e){return(e-=i=+i)?function(t){return(t-i)/e}:hw(isNaN(e)?NaN:.5)}function pw(i,e){var t;return i>e&&(t=i,i=e,e=t),function(r){return Math.max(i,Math.min(e,r))}}function gw(i,e,t){var r=i[0],n=i[1],a=e[0],s=e[1];return n<r?(r=Yc(n,r),a=t(s,a)):(r=Yc(r,n),a=t(a,s)),function(o){return a(r(o))}}function vw(i,e,t){var r=Math.min(i.length,e.length)-1,n=new Array(r),a=new Array(r),s=-1;for(i[r]<i[0]&&(i=i.slice().reverse(),e=e.slice().reverse());++s<r;)n[s]=Yc(i[s],i[s+1]),a[s]=t(e[s],e[s+1]);return function(o){var l=Q1(i,o,1,r)-1;return a[l](n[l](o))}}function Vl(i,e){return e.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function Au(){var i=lm,e=lm,t=jl,r,n,a,s=yr,o,l,d;function c(){var h=Math.min(i.length,e.length);return s!==yr&&(s=pw(i[0],i[h-1])),o=h>2?vw:gw,l=d=null,u}function u(h){return h==null||isNaN(h=+h)?a:(l||(l=o(i.map(r),e,t)))(r(s(h)))}return u.invert=function(h){return s(n((d||(d=o(e,i.map(r),dr)))(h)))},u.domain=function(h){return arguments.length?(i=Array.from(h,mw),c()):i.slice()},u.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},u.rangeRound=function(h){return e=Array.from(h),t=Rx,c()},u.clamp=function(h){return arguments.length?(s=h?!0:yr,c()):s!==yr},u.interpolate=function(h){return arguments.length?(t=h,c()):t},u.unknown=function(h){return arguments.length?(a=h,u):a},function(h,g){return r=h,n=g,c()}}function wg(){return Au()(yr,yr)}function _w(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function Il(i,e){if((t=(i=e?i.toExponential(e-1):i.toExponential()).indexOf("e"))<0)return null;var t,r=i.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+i.slice(t+1)]}function Ga(i){return i=Il(Math.abs(i)),i?i[1]:NaN}function bw(i,e){return function(t,r){for(var n=t.length,a=[],s=0,o=i[0],l=0;n>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(t.substring(n-=o,n+o)),!((l+=o+1)>r));)o=i[s=(s+1)%i.length];return a.reverse().join(e)}}function yw(i){return function(e){return e.replace(/[0-9]/g,function(t){return i[+t]})}}var xw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kl(i){if(!(e=xw.exec(i)))throw new Error("invalid format: "+i);var e;return new Iu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kl.prototype=Iu.prototype;function Iu(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}Iu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ww(i){e:for(var e=i.length,t=1,r=-1,n;t<e;++t)switch(i[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+i[t])break e;r>0&&(r=0);break}return r>0?i.slice(0,r)+i.slice(n+1):i}var Sg;function Sw(i,e){var t=Il(i,e);if(!t)return i+"";var r=t[0],n=t[1],a=n-(Sg=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Il(i,Math.max(0,e+a-1))[0]}function dm(i,e){var t=Il(i,e);if(!t)return i+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const cm={"%":(i,e)=>(i*100).toFixed(e),b:i=>Math.round(i).toString(2),c:i=>i+"",d:_w,e:(i,e)=>i.toExponential(e),f:(i,e)=>i.toFixed(e),g:(i,e)=>i.toPrecision(e),o:i=>Math.round(i).toString(8),p:(i,e)=>dm(i*100,e),r:dm,s:Sw,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function um(i){return i}var fm=Array.prototype.map,hm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ew(i){var e=i.grouping===void 0||i.thousands===void 0?um:bw(fm.call(i.grouping,Number),i.thousands+""),t=i.currency===void 0?"":i.currency[0]+"",r=i.currency===void 0?"":i.currency[1]+"",n=i.decimal===void 0?".":i.decimal+"",a=i.numerals===void 0?um:yw(fm.call(i.numerals,String)),s=i.percent===void 0?"%":i.percent+"",o=i.minus===void 0?"":i.minus+"",l=i.nan===void 0?"NaN":i.nan+"";function d(u){u=kl(u);var h=u.fill,g=u.align,k=u.sign,U=u.symbol,I=u.zero,O=u.width,$=u.comma,R=u.precision,T=u.trim,B=u.type;B==="n"?($=!0,B="g"):cm[B]||(R===void 0&&(R=12),T=!0,B="g"),(I||h==="0"&&g==="=")&&(I=!0,h="0",g="=");var ee=U==="$"?t:U==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",re=U==="$"?r:/[%p]/.test(B)?s:"",Se=cm[B],Te=/[defgprs%]/.test(B);R=R===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function Ke(fe){var Ge=ee,He=re,z,we,K;if(B==="c")He=Se(fe)+He,fe="";else{fe=+fe;var ne=fe<0||1/fe<0;if(fe=isNaN(fe)?l:Se(Math.abs(fe),R),T&&(fe=ww(fe)),ne&&+fe==0&&k!=="+"&&(ne=!1),Ge=(ne?k==="("?k:o:k==="-"||k==="("?"":k)+Ge,He=(B==="s"?hm[8+Sg/3]:"")+He+(ne&&k==="("?")":""),Te){for(z=-1,we=fe.length;++z<we;)if(K=fe.charCodeAt(z),48>K||K>57){He=(K===46?n+fe.slice(z+1):fe.slice(z))+He,fe=fe.slice(0,z);break}}}$&&!I&&(fe=e(fe,1/0));var qe=Ge.length+fe.length+He.length,Oe=qe<O?new Array(O-qe+1).join(h):"";switch($&&I&&(fe=e(Oe+fe,Oe.length?O-He.length:1/0),Oe=""),g){case"<":fe=Ge+fe+He+Oe;break;case"=":fe=Ge+Oe+fe+He;break;case"^":fe=Oe.slice(0,qe=Oe.length>>1)+Ge+fe+He+Oe.slice(qe);break;default:fe=Oe+Ge+fe+He;break}return a(fe)}return Ke.toString=function(){return u+""},Ke}function c(u,h){var g=d((u=kl(u),u.type="f",u)),k=Math.max(-8,Math.min(8,Math.floor(Ga(h)/3)))*3,U=Math.pow(10,-k),I=hm[8+k/3];return function(O){return g(U*O)+I}}return{format:d,formatPrefix:c}}var Zo,Eg,Tg;Tw({thousands:",",grouping:[3],currency:["$",""]});function Tw(i){return Zo=Ew(i),Eg=Zo.format,Tg=Zo.formatPrefix,Zo}function Aw(i){return Math.max(0,-Ga(Math.abs(i)))}function Iw(i,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ga(e)/3)))*3-Ga(Math.abs(i)))}function kw(i,e){return i=Math.abs(i),e=Math.abs(e)-i,Math.max(0,Ga(e)-Ga(i))+1}function Cw(i,e,t,r){var n=Xc(i,e,t),a;switch(r=kl(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(i),Math.abs(e));return r.precision==null&&!isNaN(a=Iw(n,s))&&(r.precision=a),Tg(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kw(n,Math.max(Math.abs(i),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Aw(n))&&(r.precision=a-(r.type==="%")*2);break}}return Eg(r)}function ku(i){var e=i.domain;return i.ticks=function(t){var r=e();return cw(r[0],r[r.length-1],t==null?10:t)},i.tickFormat=function(t,r){var n=e();return Cw(n[0],n[n.length-1],t==null?10:t,r)},i.nice=function(t){t==null&&(t=10);var r=e(),n=0,a=r.length-1,s=r[n],o=r[a],l,d,c=10;for(o<s&&(d=s,s=o,o=d,d=n,n=a,a=d);c-- >0;){if(d=Wc(s,o,t),d===l)return r[n]=s,r[a]=o,e(r);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;l=d}return i},i}function Ua(){var i=wg();return i.copy=function(){return Vl(i,Ua())},Hl.apply(i,arguments),ku(i)}function Lw(i,e){i=i.slice();var t=0,r=i.length-1,n=i[t],a=i[r],s;return a<n&&(s=t,t=r,r=s,s=n,n=a,a=s),i[t]=e.floor(n),i[r]=e.ceil(a),i}function mm(i){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/i))}}function pm(i){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*i}}function Ow(i){var e=1,t=i(mm(e),pm(e));return t.constant=function(r){return arguments.length?i(mm(e=+r),pm(e)):e},ku(t)}function Ag(){var i=Ow(Au());return i.copy=function(){return Vl(i,Ag()).constant(i.constant())},Hl.apply(i,arguments)}function gm(i){return function(e){return e<0?-Math.pow(-e,i):Math.pow(e,i)}}function Rw(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function Pw(i){return i<0?-i*i:i*i}function Fw(i){var e=i(yr,yr),t=1;function r(){return t===1?i(yr,yr):t===.5?i(Rw,Pw):i(gm(t),gm(1/t))}return e.exponent=function(n){return arguments.length?(t=+n,r()):t},ku(e)}function Ig(){var i=Fw(Au());return i.copy=function(){return Vl(i,Ig()).exponent(i.exponent())},Hl.apply(i,arguments),i}const hc=new Date,mc=new Date;function Ei(i,e,t,r){function n(a){return i(a=arguments.length===0?new Date:new Date(+a)),a}return n.floor=a=>(i(a=new Date(+a)),a),n.ceil=a=>(i(a=new Date(a-1)),e(a,1),i(a),a),n.round=a=>{const s=n(a),o=n.ceil(a);return a-s<o-a?s:o},n.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),n.range=(a,s,o)=>{const l=[];if(a=n.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let d;do l.push(d=new Date(+a)),e(a,o),i(a);while(d<a&&a<s);return l},n.filter=a=>Ei(s=>{if(s>=s)for(;i(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),t&&(n.count=(a,s)=>(hc.setTime(+a),mc.setTime(+s),i(hc),i(mc),Math.floor(t(hc,mc))),n.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?n.filter(r?s=>r(s)%a===0:s=>n.count(0,s)%a===0):n)),n}const Cl=Ei(()=>{},(i,e)=>{i.setTime(+i+e)},(i,e)=>e-i);Cl.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?Ei(e=>{e.setTime(Math.floor(e/i)*i)},(e,t)=>{e.setTime(+e+t*i)},(e,t)=>(t-e)/i):Cl);Cl.range;const Gr=1e3,Qi=Gr*60,Ur=Qi*60,Wr=Ur*24,Cu=Wr*7,vm=Wr*30,pc=Wr*365,Gn=Ei(i=>{i.setTime(i-i.getMilliseconds())},(i,e)=>{i.setTime(+i+e*Gr)},(i,e)=>(e-i)/Gr,i=>i.getUTCSeconds());Gn.range;const Wl=Ei(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*Gr)},(i,e)=>{i.setTime(+i+e*Qi)},(i,e)=>(e-i)/Qi,i=>i.getMinutes());Wl.range;const Dw=Ei(i=>{i.setUTCSeconds(0,0)},(i,e)=>{i.setTime(+i+e*Qi)},(i,e)=>(e-i)/Qi,i=>i.getUTCMinutes());Dw.range;const Xl=Ei(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*Gr-i.getMinutes()*Qi)},(i,e)=>{i.setTime(+i+e*Ur)},(i,e)=>(e-i)/Ur,i=>i.getHours());Xl.range;const Nw=Ei(i=>{i.setUTCMinutes(0,0,0)},(i,e)=>{i.setTime(+i+e*Ur)},(i,e)=>(e-i)/Ur,i=>i.getUTCHours());Nw.range;const Ja=Ei(i=>i.setHours(0,0,0,0),(i,e)=>i.setDate(i.getDate()+e),(i,e)=>(e-i-(e.getTimezoneOffset()-i.getTimezoneOffset())*Qi)/Wr,i=>i.getDate()-1);Ja.range;const Lu=Ei(i=>{i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCDate(i.getUTCDate()+e)},(i,e)=>(e-i)/Wr,i=>i.getUTCDate()-1);Lu.range;const zw=Ei(i=>{i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCDate(i.getUTCDate()+e)},(i,e)=>(e-i)/Wr,i=>Math.floor(i/Wr));zw.range;function Yn(i){return Ei(e=>{e.setDate(e.getDate()-(e.getDay()+7-i)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qi)/Cu)}const io=Yn(0),Ll=Yn(1),Mw=Yn(2),Bw=Yn(3),ja=Yn(4),$w=Yn(5),Gw=Yn(6);io.range;Ll.range;Mw.range;Bw.range;ja.range;$w.range;Gw.range;function Kn(i){return Ei(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-i)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Cu)}const kg=Kn(0),Ol=Kn(1),Uw=Kn(2),jw=Kn(3),Ha=Kn(4),Hw=Kn(5),Vw=Kn(6);kg.range;Ol.range;Uw.range;jw.range;Ha.range;Hw.range;Vw.range;const ql=Ei(i=>{i.setDate(1),i.setHours(0,0,0,0)},(i,e)=>{i.setMonth(i.getMonth()+e)},(i,e)=>e.getMonth()-i.getMonth()+(e.getFullYear()-i.getFullYear())*12,i=>i.getMonth());ql.range;const Ww=Ei(i=>{i.setUTCDate(1),i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCMonth(i.getUTCMonth()+e)},(i,e)=>e.getUTCMonth()-i.getUTCMonth()+(e.getUTCFullYear()-i.getUTCFullYear())*12,i=>i.getUTCMonth());Ww.range;const wr=Ei(i=>{i.setMonth(0,1),i.setHours(0,0,0,0)},(i,e)=>{i.setFullYear(i.getFullYear()+e)},(i,e)=>e.getFullYear()-i.getFullYear(),i=>i.getFullYear());wr.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:Ei(e=>{e.setFullYear(Math.floor(e.getFullYear()/i)*i),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*i)});wr.range;const qn=Ei(i=>{i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCFullYear(i.getUTCFullYear()+e)},(i,e)=>e.getUTCFullYear()-i.getUTCFullYear(),i=>i.getUTCFullYear());qn.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:Ei(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/i)*i),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*i)});qn.range;function Xw(i,e,t,r,n,a){const s=[[Gn,1,Gr],[Gn,5,5*Gr],[Gn,15,15*Gr],[Gn,30,30*Gr],[a,1,Qi],[a,5,5*Qi],[a,15,15*Qi],[a,30,30*Qi],[n,1,Ur],[n,3,3*Ur],[n,6,6*Ur],[n,12,12*Ur],[r,1,Wr],[r,2,2*Wr],[t,1,Cu],[e,1,vm],[e,3,3*vm],[i,1,pc]];function o(d,c,u){const h=c<d;h&&([d,c]=[c,d]);const g=u&&typeof u.range=="function"?u:l(d,c,u),k=g?g.range(d,+c+1):[];return h?k.reverse():k}function l(d,c,u){const h=Math.abs(c-d)/u,g=Tu(([,,I])=>I).right(s,h);if(g===s.length)return i.every(Xc(d/pc,c/pc,u));if(g===0)return Cl.every(Math.max(Xc(d,c,u),1));const[k,U]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return k.every(U)}return[o,l]}const[qw,Yw]=Xw(wr,ql,io,Ja,Xl,Wl);function gc(i){if(0<=i.y&&i.y<100){var e=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return e.setFullYear(i.y),e}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function vc(i){if(0<=i.y&&i.y<100){var e=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return e.setUTCFullYear(i.y),e}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function ws(i,e,t){return{y:i,m:e,d:t,H:0,M:0,S:0,L:0}}function Kw(i){var e=i.dateTime,t=i.date,r=i.time,n=i.periods,a=i.days,s=i.shortDays,o=i.months,l=i.shortMonths,d=Ss(n),c=Es(n),u=Ss(a),h=Es(a),g=Ss(s),k=Es(s),U=Ss(o),I=Es(o),O=Ss(l),$=Es(l),R={a:ne,A:qe,b:Oe,B:Xe,c:null,d:Sm,e:Sm,f:b2,g:C2,G:O2,H:g2,I:v2,j:_2,L:Cg,m:y2,M:x2,p:it,q:rt,Q:Am,s:Im,S:w2,u:S2,U:E2,V:T2,w:A2,W:I2,x:null,X:null,y:k2,Y:L2,Z:R2,"%":Tm},T={a:Bt,A:Tt,b:Ct,B:Rt,c:null,d:Em,e:Em,f:N2,g:W2,G:q2,H:P2,I:F2,j:D2,L:Og,m:z2,M:M2,p:wt,q:$t,Q:Am,s:Im,S:B2,u:$2,U:G2,V:U2,w:j2,W:H2,x:null,X:null,y:V2,Y:X2,Z:Y2,"%":Tm},B={a:Ke,A:fe,b:Ge,B:He,c:z,d:xm,e:xm,f:f2,g:ym,G:bm,H:wm,I:wm,j:l2,L:u2,m:o2,M:d2,p:Te,q:s2,Q:m2,s:p2,S:c2,u:t2,U:i2,V:r2,w:e2,W:n2,x:we,X:K,y:ym,Y:bm,Z:a2,"%":h2};R.x=ee(t,R),R.X=ee(r,R),R.c=ee(e,R),T.x=ee(t,T),T.X=ee(r,T),T.c=ee(e,T);function ee(Ve,dt){return function(gt){var be=[],Mt=-1,Lt=0,ai=Ve.length,si,at,bt;for(gt instanceof Date||(gt=new Date(+gt));++Mt<ai;)Ve.charCodeAt(Mt)===37&&(be.push(Ve.slice(Lt,Mt)),(at=_m[si=Ve.charAt(++Mt)])!=null?si=Ve.charAt(++Mt):at=si==="e"?" ":"0",(bt=dt[si])&&(si=bt(gt,at)),be.push(si),Lt=Mt+1);return be.push(Ve.slice(Lt,Mt)),be.join("")}}function re(Ve,dt){return function(gt){var be=ws(1900,void 0,1),Mt=Se(be,Ve,gt+="",0),Lt,ai;if(Mt!=gt.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(dt&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Lt=vc(ws(be.y,0,1)),ai=Lt.getUTCDay(),Lt=ai>4||ai===0?Ol.ceil(Lt):Ol(Lt),Lt=Lu.offset(Lt,(be.V-1)*7),be.y=Lt.getUTCFullYear(),be.m=Lt.getUTCMonth(),be.d=Lt.getUTCDate()+(be.w+6)%7):(Lt=gc(ws(be.y,0,1)),ai=Lt.getDay(),Lt=ai>4||ai===0?Ll.ceil(Lt):Ll(Lt),Lt=Ja.offset(Lt,(be.V-1)*7),be.y=Lt.getFullYear(),be.m=Lt.getMonth(),be.d=Lt.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),ai="Z"in be?vc(ws(be.y,0,1)).getUTCDay():gc(ws(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(ai+5)%7:be.w+be.U*7-(ai+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,vc(be)):gc(be)}}function Se(Ve,dt,gt,be){for(var Mt=0,Lt=dt.length,ai=gt.length,si,at;Mt<Lt;){if(be>=ai)return-1;if(si=dt.charCodeAt(Mt++),si===37){if(si=dt.charAt(Mt++),at=B[si in _m?dt.charAt(Mt++):si],!at||(be=at(Ve,gt,be))<0)return-1}else if(si!=gt.charCodeAt(be++))return-1}return be}function Te(Ve,dt,gt){var be=d.exec(dt.slice(gt));return be?(Ve.p=c.get(be[0].toLowerCase()),gt+be[0].length):-1}function Ke(Ve,dt,gt){var be=g.exec(dt.slice(gt));return be?(Ve.w=k.get(be[0].toLowerCase()),gt+be[0].length):-1}function fe(Ve,dt,gt){var be=u.exec(dt.slice(gt));return be?(Ve.w=h.get(be[0].toLowerCase()),gt+be[0].length):-1}function Ge(Ve,dt,gt){var be=O.exec(dt.slice(gt));return be?(Ve.m=$.get(be[0].toLowerCase()),gt+be[0].length):-1}function He(Ve,dt,gt){var be=U.exec(dt.slice(gt));return be?(Ve.m=I.get(be[0].toLowerCase()),gt+be[0].length):-1}function z(Ve,dt,gt){return Se(Ve,e,dt,gt)}function we(Ve,dt,gt){return Se(Ve,t,dt,gt)}function K(Ve,dt,gt){return Se(Ve,r,dt,gt)}function ne(Ve){return s[Ve.getDay()]}function qe(Ve){return a[Ve.getDay()]}function Oe(Ve){return l[Ve.getMonth()]}function Xe(Ve){return o[Ve.getMonth()]}function it(Ve){return n[+(Ve.getHours()>=12)]}function rt(Ve){return 1+~~(Ve.getMonth()/3)}function Bt(Ve){return s[Ve.getUTCDay()]}function Tt(Ve){return a[Ve.getUTCDay()]}function Ct(Ve){return l[Ve.getUTCMonth()]}function Rt(Ve){return o[Ve.getUTCMonth()]}function wt(Ve){return n[+(Ve.getUTCHours()>=12)]}function $t(Ve){return 1+~~(Ve.getUTCMonth()/3)}return{format:function(Ve){var dt=ee(Ve+="",R);return dt.toString=function(){return Ve},dt},parse:function(Ve){var dt=re(Ve+="",!1);return dt.toString=function(){return Ve},dt},utcFormat:function(Ve){var dt=ee(Ve+="",T);return dt.toString=function(){return Ve},dt},utcParse:function(Ve){var dt=re(Ve+="",!0);return dt.toString=function(){return Ve},dt}}}var _m={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,Zw=/^%/,Jw=/[\\^$*+?|[\]().{}]/g;function Dt(i,e,t){var r=i<0?"-":"",n=(r?-i:i)+"",a=n.length;return r+(a<t?new Array(t-a+1).join(e)+n:n)}function Qw(i){return i.replace(Jw,"\\$&")}function Ss(i){return new RegExp("^(?:"+i.map(Qw).join("|")+")","i")}function Es(i){return new Map(i.map((e,t)=>[e.toLowerCase(),t]))}function e2(i,e,t){var r=Ci.exec(e.slice(t,t+1));return r?(i.w=+r[0],t+r[0].length):-1}function t2(i,e,t){var r=Ci.exec(e.slice(t,t+1));return r?(i.u=+r[0],t+r[0].length):-1}function i2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.U=+r[0],t+r[0].length):-1}function r2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.V=+r[0],t+r[0].length):-1}function n2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.W=+r[0],t+r[0].length):-1}function bm(i,e,t){var r=Ci.exec(e.slice(t,t+4));return r?(i.y=+r[0],t+r[0].length):-1}function ym(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function a2(i,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(i.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function s2(i,e,t){var r=Ci.exec(e.slice(t,t+1));return r?(i.q=r[0]*3-3,t+r[0].length):-1}function o2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.m=r[0]-1,t+r[0].length):-1}function xm(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.d=+r[0],t+r[0].length):-1}function l2(i,e,t){var r=Ci.exec(e.slice(t,t+3));return r?(i.m=0,i.d=+r[0],t+r[0].length):-1}function wm(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.H=+r[0],t+r[0].length):-1}function d2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.M=+r[0],t+r[0].length):-1}function c2(i,e,t){var r=Ci.exec(e.slice(t,t+2));return r?(i.S=+r[0],t+r[0].length):-1}function u2(i,e,t){var r=Ci.exec(e.slice(t,t+3));return r?(i.L=+r[0],t+r[0].length):-1}function f2(i,e,t){var r=Ci.exec(e.slice(t,t+6));return r?(i.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function h2(i,e,t){var r=Zw.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function m2(i,e,t){var r=Ci.exec(e.slice(t));return r?(i.Q=+r[0],t+r[0].length):-1}function p2(i,e,t){var r=Ci.exec(e.slice(t));return r?(i.s=+r[0],t+r[0].length):-1}function Sm(i,e){return Dt(i.getDate(),e,2)}function g2(i,e){return Dt(i.getHours(),e,2)}function v2(i,e){return Dt(i.getHours()%12||12,e,2)}function _2(i,e){return Dt(1+Ja.count(wr(i),i),e,3)}function Cg(i,e){return Dt(i.getMilliseconds(),e,3)}function b2(i,e){return Cg(i,e)+"000"}function y2(i,e){return Dt(i.getMonth()+1,e,2)}function x2(i,e){return Dt(i.getMinutes(),e,2)}function w2(i,e){return Dt(i.getSeconds(),e,2)}function S2(i){var e=i.getDay();return e===0?7:e}function E2(i,e){return Dt(io.count(wr(i)-1,i),e,2)}function Lg(i){var e=i.getDay();return e>=4||e===0?ja(i):ja.ceil(i)}function T2(i,e){return i=Lg(i),Dt(ja.count(wr(i),i)+(wr(i).getDay()===4),e,2)}function A2(i){return i.getDay()}function I2(i,e){return Dt(Ll.count(wr(i)-1,i),e,2)}function k2(i,e){return Dt(i.getFullYear()%100,e,2)}function C2(i,e){return i=Lg(i),Dt(i.getFullYear()%100,e,2)}function L2(i,e){return Dt(i.getFullYear()%1e4,e,4)}function O2(i,e){var t=i.getDay();return i=t>=4||t===0?ja(i):ja.ceil(i),Dt(i.getFullYear()%1e4,e,4)}function R2(i){var e=i.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dt(e/60|0,"0",2)+Dt(e%60,"0",2)}function Em(i,e){return Dt(i.getUTCDate(),e,2)}function P2(i,e){return Dt(i.getUTCHours(),e,2)}function F2(i,e){return Dt(i.getUTCHours()%12||12,e,2)}function D2(i,e){return Dt(1+Lu.count(qn(i),i),e,3)}function Og(i,e){return Dt(i.getUTCMilliseconds(),e,3)}function N2(i,e){return Og(i,e)+"000"}function z2(i,e){return Dt(i.getUTCMonth()+1,e,2)}function M2(i,e){return Dt(i.getUTCMinutes(),e,2)}function B2(i,e){return Dt(i.getUTCSeconds(),e,2)}function $2(i){var e=i.getUTCDay();return e===0?7:e}function G2(i,e){return Dt(kg.count(qn(i)-1,i),e,2)}function Rg(i){var e=i.getUTCDay();return e>=4||e===0?Ha(i):Ha.ceil(i)}function U2(i,e){return i=Rg(i),Dt(Ha.count(qn(i),i)+(qn(i).getUTCDay()===4),e,2)}function j2(i){return i.getUTCDay()}function H2(i,e){return Dt(Ol.count(qn(i)-1,i),e,2)}function V2(i,e){return Dt(i.getUTCFullYear()%100,e,2)}function W2(i,e){return i=Rg(i),Dt(i.getUTCFullYear()%100,e,2)}function X2(i,e){return Dt(i.getUTCFullYear()%1e4,e,4)}function q2(i,e){var t=i.getUTCDay();return i=t>=4||t===0?Ha(i):Ha.ceil(i),Dt(i.getUTCFullYear()%1e4,e,4)}function Y2(){return"+0000"}function Tm(){return"%"}function Am(i){return+i}function Im(i){return Math.floor(+i/1e3)}var va,Tr;K2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K2(i){return va=Kw(i),Tr=va.format,va.parse,va.utcFormat,va.utcParse,va}function Z2(i){return new Date(i)}function J2(i){return i instanceof Date?+i:+new Date(+i)}function Pg(i,e,t,r,n,a,s,o,l,d){var c=wg(),u=c.invert,h=c.domain,g=d(".%L"),k=d(":%S"),U=d("%I:%M"),I=d("%I %p"),O=d("%a %d"),$=d("%b %d"),R=d("%B"),T=d("%Y");function B(ee){return(l(ee)<ee?g:o(ee)<ee?k:s(ee)<ee?U:a(ee)<ee?I:r(ee)<ee?n(ee)<ee?O:$:t(ee)<ee?R:T)(ee)}return c.invert=function(ee){return new Date(u(ee))},c.domain=function(ee){return arguments.length?h(Array.from(ee,J2)):h().map(Z2)},c.ticks=function(ee){var re=h();return i(re[0],re[re.length-1],ee==null?10:ee)},c.tickFormat=function(ee,re){return re==null?B:d(re)},c.nice=function(ee){var re=h();return(!ee||typeof ee.range!="function")&&(ee=e(re[0],re[re.length-1],ee==null?10:ee)),ee?h(Lw(re,ee)):c},c.copy=function(){return Vl(c,Pg(i,e,t,r,n,a,s,o,l,d))},c}function Q2(){return Hl.apply(Pg(qw,Yw,wr,ql,io,Ja,Xl,Wl,Gn,Tr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var km=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var i=0,e=arguments.length;e--;)i+=arguments[e]*arguments[e];return Math.sqrt(i)});function eS(){var i=new km(9);return km!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Cm(i,e,t){var r=e[0],n=e[1],a=e[2],s=e[3],o=e[4],l=e[5],d=e[6],c=e[7],u=e[8],h=t[0],g=t[1];return i[0]=r,i[1]=n,i[2]=a,i[3]=s,i[4]=o,i[5]=l,i[6]=h*r+g*s+d,i[7]=h*n+g*o+c,i[8]=h*a+g*l+u,i}function _c(i,e,t){var r=t[0],n=t[1];return i[0]=r*e[0],i[1]=r*e[1],i[2]=r*e[2],i[3]=n*e[3],i[4]=n*e[4],i[5]=n*e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i}function tS(i,e,t){return i[0]=2/e,i[1]=0,i[2]=0,i[3]=0,i[4]=-2/t,i[5]=0,i[6]=-1,i[7]=1,i[8]=1,i}var Ou={exports:{}};Ou.exports;(function(i){(function(e,t,r){function n(l){var d=this,c=o();d.next=function(){var u=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=u-(d.c=u|0)},d.c=1,d.s0=c(" "),d.s1=c(" "),d.s2=c(" "),d.s0-=c(l),d.s0<0&&(d.s0+=1),d.s1-=c(l),d.s1<0&&(d.s1+=1),d.s2-=c(l),d.s2<0&&(d.s2+=1),c=null}function a(l,d){return d.c=l.c,d.s0=l.s0,d.s1=l.s1,d.s2=l.s2,d}function s(l,d){var c=new n(l),u=d&&d.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,u&&(typeof u=="object"&&a(u,c),h.state=function(){return a(c,{})}),h}function o(){var l=4022871197,d=function(c){c=String(c);for(var u=0;u<c.length;u++){l+=c.charCodeAt(u);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return d}t&&t.exports?t.exports=s:this.alea=s})(bi,i)})(Ou);var iS=Ou.exports,Ru={exports:{}};Ru.exports;(function(i){(function(e,t,r){function n(o){var l=this,d="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var u=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^u^u>>>8},o===(o|0)?l.x=o:d+=o;for(var c=0;c<d.length+64;c++)l.x^=d.charCodeAt(c)|0,l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var d=new n(o),c=l&&l.state,u=function(){return(d.next()>>>0)/4294967296};return u.double=function(){do var h=d.next()>>>11,g=(d.next()>>>0)/4294967296,k=(h+g)/(1<<21);while(k===0);return k},u.int32=d.next,u.quick=u,c&&(typeof c=="object"&&a(c,d),u.state=function(){return a(d,{})}),u}t&&t.exports?t.exports=s:this.xor128=s})(bi,i)})(Ru);var rS=Ru.exports,Pu={exports:{}};Pu.exports;(function(i){(function(e,t,r){function n(o){var l=this,d="";l.next=function(){var u=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(u^u<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:d+=o;for(var c=0;c<d.length+64;c++)l.x^=d.charCodeAt(c)|0,c==d.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var d=new n(o),c=l&&l.state,u=function(){return(d.next()>>>0)/4294967296};return u.double=function(){do var h=d.next()>>>11,g=(d.next()>>>0)/4294967296,k=(h+g)/(1<<21);while(k===0);return k},u.int32=d.next,u.quick=u,c&&(typeof c=="object"&&a(c,d),u.state=function(){return a(d,{})}),u}t&&t.exports?t.exports=s:this.xorwow=s})(bi,i)})(Pu);var nS=Pu.exports,Fu={exports:{}};Fu.exports;(function(i){(function(e,t,r){function n(o){var l=this;l.next=function(){var c=l.x,u=l.i,h,g;return h=c[u],h^=h>>>7,g=h^h<<24,h=c[u+1&7],g^=h^h>>>10,h=c[u+3&7],g^=h^h>>>3,h=c[u+4&7],g^=h^h<<7,h=c[u+7&7],h=h^h<<13,g^=h^h<<9,c[u]=g,l.i=u+1&7,g};function d(c,u){var h,g=[];if(u===(u|0))g[0]=u;else for(u=""+u,h=0;h<u.length;++h)g[h&7]=g[h&7]<<15^u.charCodeAt(h)+g[h+1&7]<<13;for(;g.length<8;)g.push(0);for(h=0;h<8&&g[h]===0;++h);for(h==8?g[7]=-1:g[h],c.x=g,c.i=0,h=256;h>0;--h)c.next()}d(l,o)}function a(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var d=new n(o),c=l&&l.state,u=function(){return(d.next()>>>0)/4294967296};return u.double=function(){do var h=d.next()>>>11,g=(d.next()>>>0)/4294967296,k=(h+g)/(1<<21);while(k===0);return k},u.int32=d.next,u.quick=u,c&&(c.x&&a(c,d),u.state=function(){return a(d,{})}),u}t&&t.exports?t.exports=s:this.xorshift7=s})(bi,i)})(Fu);var aS=Fu.exports,Du={exports:{}};Du.exports;(function(i){(function(e,t,r){function n(o){var l=this;l.next=function(){var c=l.w,u=l.X,h=l.i,g,k;return l.w=c=c+1640531527|0,k=u[h+34&127],g=u[h=h+1&127],k^=k<<13,g^=g<<17,k^=k>>>15,g^=g>>>12,k=u[h]=k^g,l.i=h,k+(c^c>>>16)|0};function d(c,u){var h,g,k,U,I,O=[],$=128;for(u===(u|0)?(g=u,u=null):(u=u+"\0",g=0,$=Math.max($,u.length)),k=0,U=-32;U<$;++U)u&&(g^=u.charCodeAt((U+32)%u.length)),U===0&&(I=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,U>=0&&(I=I+1640531527|0,h=O[U&127]^=g+I,k=h==0?k+1:0);for(k>=128&&(O[(u&&u.length||0)&127]=-1),k=127,U=4*128;U>0;--U)g=O[k+34&127],h=O[k=k+1&127],g^=g<<13,h^=h<<17,g^=g>>>15,h^=h>>>12,O[k]=g^h;c.w=I,c.X=O,c.i=k}d(l,o)}function a(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var d=new n(o),c=l&&l.state,u=function(){return(d.next()>>>0)/4294967296};return u.double=function(){do var h=d.next()>>>11,g=(d.next()>>>0)/4294967296,k=(h+g)/(1<<21);while(k===0);return k},u.int32=d.next,u.quick=u,c&&(c.X&&a(c,d),u.state=function(){return a(d,{})}),u}t&&t.exports?t.exports=s:this.xor4096=s})(bi,i)})(Du);var sS=Du.exports,Nu={exports:{}};Nu.exports;(function(i){(function(e,t,r){function n(o){var l=this,d="";l.next=function(){var u=l.b,h=l.c,g=l.d,k=l.a;return u=u<<25^u>>>7^h,h=h-g|0,g=g<<24^g>>>8^k,k=k-u|0,l.b=u=u<<20^u>>>12^h,l.c=h=h-g|0,l.d=g<<16^h>>>16^k,l.a=k-u|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):d+=o;for(var c=0;c<d.length+20;c++)l.b^=d.charCodeAt(c)|0,l.next()}function a(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var d=new n(o),c=l&&l.state,u=function(){return(d.next()>>>0)/4294967296};return u.double=function(){do var h=d.next()>>>11,g=(d.next()>>>0)/4294967296,k=(h+g)/(1<<21);while(k===0);return k},u.int32=d.next,u.quick=u,c&&(typeof c=="object"&&a(c,d),u.state=function(){return a(d,{})}),u}t&&t.exports?t.exports=s:this.tychei=s})(bi,i)})(Nu);var oS=Nu.exports,Fg={exports:{}};const lS={},dS=Object.freeze(Object.defineProperty({__proto__:null,default:lS},Symbol.toStringTag,{value:"Module"})),cS=yg(dS);(function(i){(function(e,t,r){var n=256,a=6,s=52,o="random",l=r.pow(n,a),d=r.pow(2,s),c=d*2,u=n-1,h;function g(T,B,ee){var re=[];B=B==!0?{entropy:!0}:B||{};var Se=O(I(B.entropy?[T,R(t)]:T==null?$():T,3),re),Te=new k(re),Ke=function(){for(var fe=Te.g(a),Ge=l,He=0;fe<d;)fe=(fe+He)*n,Ge*=n,He=Te.g(1);for(;fe>=c;)fe/=2,Ge/=2,He>>>=1;return(fe+He)/Ge};return Ke.int32=function(){return Te.g(4)|0},Ke.quick=function(){return Te.g(4)/4294967296},Ke.double=Ke,O(R(Te.S),t),(B.pass||ee||function(fe,Ge,He,z){return z&&(z.S&&U(z,Te),fe.state=function(){return U(Te,{})}),He?(r[o]=fe,Ge):fe})(Ke,Se,"global"in B?B.global:this==r,B.state)}function k(T){var B,ee=T.length,re=this,Se=0,Te=re.i=re.j=0,Ke=re.S=[];for(ee||(T=[ee++]);Se<n;)Ke[Se]=Se++;for(Se=0;Se<n;Se++)Ke[Se]=Ke[Te=u&Te+T[Se%ee]+(B=Ke[Se])],Ke[Te]=B;(re.g=function(fe){for(var Ge,He=0,z=re.i,we=re.j,K=re.S;fe--;)Ge=K[z=u&z+1],He=He*n+K[u&(K[z]=K[we=u&we+Ge])+(K[we]=Ge)];return re.i=z,re.j=we,He})(n)}function U(T,B){return B.i=T.i,B.j=T.j,B.S=T.S.slice(),B}function I(T,B){var ee=[],re=typeof T,Se;if(B&&re=="object")for(Se in T)try{ee.push(I(T[Se],B-1))}catch(Te){}return ee.length?ee:re=="string"?T:T+"\0"}function O(T,B){for(var ee=T+"",re,Se=0;Se<ee.length;)B[u&Se]=u&(re^=B[u&Se]*19)+ee.charCodeAt(Se++);return R(B)}function $(){try{var T;return h&&(T=h.randomBytes)?T=T(n):(T=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(T)),R(T)}catch(re){var B=e.navigator,ee=B&&B.plugins;return[+new Date,e,ee,e.screen,R(t)]}}function R(T){return String.fromCharCode.apply(0,T)}if(O(r.random(),t),i.exports){i.exports=g;try{h=cS}catch(T){}}else r["seed"+o]=g})(typeof self!="undefined"?self:bi,[],Math)})(Fg);var uS=Fg.exports,fS=iS,hS=rS,mS=nS,pS=aS,gS=sS,vS=oS,Zn=uS;Zn.alea=fS;Zn.xor128=hS;Zn.xorwow=mS;Zn.xorshift7=pS;Zn.xor4096=gS;Zn.tychei=vS;var _S=Zn;const bS=bg(_S);function yS(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,wS(r.key),r)}}function zu(i,e,t){return e&&yS(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function Dg(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Kc(i,e)}function Kc(i,e){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Kc(i,e)}function xS(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function wS(i){var e=xS(i,"string");return typeof e=="symbol"?e:String(e)}var Yl=function(){function i(){}var e=i.prototype;return e._seed=function(r,n){if(r===(r||0))return r;for(var a=""+r,s=0,o=0;o<a.length;++o)s^=a.charCodeAt(o)|0;return s},i}(),Lm=function(i){Dg(e,i);function e(r,n){var a;return a=i.call(this)||this,a._rng=void 0,a.seed(r,n),a}var t=e.prototype;return t.next=function(){return this._rng()},t.seed=function(n,a){this._rng=n},t.clone=function(n,a){return new e(this._rng,a)},zu(e,[{key:"name",get:function(){return"function"}}]),e}(Yl),Om=function(){var i=[].slice.call(arguments),e=i,t=e[0],r=t===void 0?"default":t;switch(typeof r){case"object":if(r instanceof Yl)return r;break;case"function":return new Lm(r);case"number":case"string":default:return new Lm(bS.apply(void 0,i))}throw new Error('invalid RNG "'+r+'"')},SS=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),function(){return i.next()*(t-e)+e}};function fr(i){return new ES(i)}var ES=function(e){var t=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(t.n))return t;throw new Error("Expected number to be an integer, got "+t.n)},this.isPositive=function(){if(t.n>0)return t;throw new Error("Expected number to be positive, got "+t.n)},this.lessThan=function(r){if(t.n<r)return t;throw new Error("Expected number to be less than "+r+", got "+t.n)},this.greaterThanOrEqual=function(r){if(t.n>=r)return t;throw new Error("Expected number to be greater than or equal to "+r+", got "+t.n)},this.greaterThan=function(r){if(t.n>r)return t;throw new Error("Expected number to be greater than "+r+", got "+t.n)},this.n=e},TS=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),t===void 0&&(t=e===void 0?1:e,e=0),fr(e).isInt(),fr(t).isInt(),function(){return Math.floor(i.next()*(t-e+1)+e)}},AS=function(i){return function(){return i.next()>=.5}},IS=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),function(){var r,n,a;do r=i.next()*2-1,n=i.next()*2-1,a=r*r+n*n;while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},kS=function(i,e,t){e===void 0&&(e=0),t===void 0&&(t=1);var r=i.normal(e,t);return function(){return Math.exp(r())}},CS=function(i,e){return e===void 0&&(e=.5),fr(e).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(i.next()+e)}},LS=function(i,e,t){return e===void 0&&(e=1),t===void 0&&(t=.5),fr(e).isInt().isPositive(),fr(t).greaterThanOrEqual(0).lessThan(1),function(){for(var r=0,n=0;r++<e;)i.next()<t&&n++;return n}},OS=function(i,e){e===void 0&&(e=.5),fr(e).greaterThan(0).lessThan(1);var t=1/Math.log(1-e);return function(){return Math.floor(1+Math.log(i.next())*t)}},RS=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],PS=function(e){return RS[e]},FS=.9189385332046727,DS=function(i,e){if(e===void 0&&(e=1),fr(e).isPositive(),e<10){var t=Math.exp(-e);return function(){for(var l=t,d=0,c=i.next();c>l;)c=c-l,l=e*l/++d;return d}}else{var r=Math.sqrt(e),n=.931+2.53*r,a=-.059+.02483*n,s=1.1239+1.1328/(n-3.4),o=.9277-3.6224/(n-2);return function(){for(;;){var l=void 0,d=i.next();if(d<=.86*o)return l=d/o-.43,Math.floor((2*a/(.5-Math.abs(l))+n)*l+e+.445);d>=o?l=i.next()-.5:(l=d/o-.93,l=(l<0?-.5:.5)-l,d=i.next()*o);var c=.5-Math.abs(l);if(!(c<.013&&d>c)){var u=Math.floor((2*a/c+n)*l+e+.445);if(d=d*s/(a/(c*c)+n),u>=10){var h=(u+.5)*Math.log(e/u)-e-FS+u-(.08333333333333333-(.002777777777777778-1/(1260*u*u))/(u*u))/u;if(Math.log(d*r)<=h)return u}else if(u>=0){var g,k=(g=PS(u))!=null?g:0;if(Math.log(d)<=u*Math.log(e)-e-k)return u}}}}}},NS=function(i,e){return e===void 0&&(e=1),fr(e).isPositive(),function(){return-Math.log(1-i.next())/e}},zS=function(i,e){return e===void 0&&(e=1),fr(e).isInt().greaterThanOrEqual(0),function(){for(var t=0,r=0;r<e;++r)t+=i.next();return t}},MS=function(i,e){e===void 0&&(e=1),fr(e).isInt().isPositive();var t=i.irwinHall(e);return function(){return t()/e}},BS=function(i,e){e===void 0&&(e=1),fr(e).greaterThanOrEqual(0);var t=1/e;return function(){return 1/Math.pow(1-i.next(),t)}},$S=function(i){Dg(e,i);function e(){return i.apply(this,arguments)||this}var t=e.prototype;return t.next=function(){return Math.random()},t.seed=function(n,a){},t.clone=function(){return new e},zu(e,[{key:"name",get:function(){return"default"}}]),e}(Yl),Ng=function(){function i(t){var r=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return r._rng.next()},this.float=function(n,a){return r.uniform(n,a)()},this.int=function(n,a){return r.uniformInt(n,a)()},this.integer=function(n,a){return r.uniformInt(n,a)()},this.bool=function(){return r.uniformBoolean()()},this.boolean=function(){return r.uniformBoolean()()},this.uniform=function(n,a){return r._memoize("uniform",SS,n,a)},this.uniformInt=function(n,a){return r._memoize("uniformInt",TS,n,a)},this.uniformBoolean=function(){return r._memoize("uniformBoolean",AS)},this.normal=function(n,a){return IS(r,n,a)},this.logNormal=function(n,a){return kS(r,n,a)},this.bernoulli=function(n){return CS(r,n)},this.binomial=function(n,a){return LS(r,n,a)},this.geometric=function(n){return OS(r,n)},this.poisson=function(n){return DS(r,n)},this.exponential=function(n){return NS(r,n)},this.irwinHall=function(n){return zS(r,n)},this.bates=function(n){return MS(r,n)},this.pareto=function(n){return BS(r,n)},t&&t instanceof Yl?this.use(t):this.use(new $S),this._cache={}}var e=i.prototype;return e.clone=function(){var r=[].slice.call(arguments);return r.length?new i(Om.apply(void 0,r)):new i(this.rng.clone())},e.use=function(){this._rng=Om.apply(void 0,[].slice.call(arguments))},e.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},e.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},e.choice=function(r){if(!Array.isArray(r))throw new Error("Random.choice expected input to be an array, got "+typeof r);var n=r==null?void 0:r.length;if(n>0){var a=this.uniformInt(0,n-1)();return r[a]}else return},e._memoize=function(r,n){var a=[].slice.call(arguments,2),s=""+a.join(";"),o=this._cache[r];return(o===void 0||o.key!==s)&&(o={key:s,distribution:n.apply(void 0,[this].concat(a))},this._cache[r]=o),o.distribution},zu(i,[{key:"rng",get:function(){return this._rng}}]),i}();new Ng;const Zc={capture:!0,passive:!1};function Jc(i){i.preventDefault(),i.stopImmediatePropagation()}function zg(i){var e=i.document.documentElement,t=hi(i).on("dragstart.drag",Jc,Zc);"onselectstart"in e?t.on("selectstart.drag",Jc,Zc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Mg(i,e){var t=i.document.documentElement,r=hi(i).on("dragstart.drag",null);e&&(r.on("click.drag",Jc,Zc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Jo=i=>()=>i;function GS(i,{sourceEvent:e,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function jr(i,e,t){this.k=i,this.x=e,this.y=t}jr.prototype={constructor:jr,scale:function(i){return i===1?this:new jr(this.k*i,this.x,this.y)},translate:function(i,e){return i===0&e===0?this:new jr(this.k,this.x+this.k*i,this.y+this.k*e)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zs=new jr(1,0,0);jr.prototype;function bc(i){i.stopImmediatePropagation()}function Ts(i){i.preventDefault(),i.stopImmediatePropagation()}function US(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function jS(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function Rm(){return this.__zoom||zs}function HS(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function VS(){return navigator.maxTouchPoints||"ontouchstart"in this}function WS(i,e,t){var r=i.invertX(e[0][0])-t[0][0],n=i.invertX(e[1][0])-t[1][0],a=i.invertY(e[0][1])-t[0][1],s=i.invertY(e[1][1])-t[1][1];return i.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function XS(){var i=US,e=jS,t=WS,r=HS,n=VS,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=$x,d=$l("start","zoom","end"),c,u,h,g=500,k=150,U=0,I=10;function O(z){z.property("__zoom",Rm).on("wheel.zoom",Se,{passive:!1}).on("mousedown.zoom",Te).on("dblclick.zoom",Ke).filter(n).on("touchstart.zoom",fe).on("touchmove.zoom",Ge).on("touchend.zoom touchcancel.zoom",He).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(z,we,K,ne){var qe=z.selection?z.selection():z;qe.property("__zoom",Rm),z!==qe?B(z,we,K,ne):qe.interrupt().each(function(){ee(this,arguments).event(ne).start().zoom(null,typeof we=="function"?we.apply(this,arguments):we).end()})},O.scaleBy=function(z,we,K,ne){O.scaleTo(z,function(){var qe=this.__zoom.k,Oe=typeof we=="function"?we.apply(this,arguments):we;return qe*Oe},K,ne)},O.scaleTo=function(z,we,K,ne){O.transform(z,function(){var qe=e.apply(this,arguments),Oe=this.__zoom,Xe=K==null?T(qe):typeof K=="function"?K.apply(this,arguments):K,it=Oe.invert(Xe),rt=typeof we=="function"?we.apply(this,arguments):we;return t(R($(Oe,rt),Xe,it),qe,s)},K,ne)},O.translateBy=function(z,we,K,ne){O.transform(z,function(){return t(this.__zoom.translate(typeof we=="function"?we.apply(this,arguments):we,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),s)},null,ne)},O.translateTo=function(z,we,K,ne,qe){O.transform(z,function(){var Oe=e.apply(this,arguments),Xe=this.__zoom,it=ne==null?T(Oe):typeof ne=="function"?ne.apply(this,arguments):ne;return t(zs.translate(it[0],it[1]).scale(Xe.k).translate(typeof we=="function"?-we.apply(this,arguments):-we,typeof K=="function"?-K.apply(this,arguments):-K),Oe,s)},ne,qe)};function $(z,we){return we=Math.max(a[0],Math.min(a[1],we)),we===z.k?z:new jr(we,z.x,z.y)}function R(z,we,K){var ne=we[0]-K[0]*z.k,qe=we[1]-K[1]*z.k;return ne===z.x&&qe===z.y?z:new jr(z.k,ne,qe)}function T(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function B(z,we,K,ne){z.on("start.zoom",function(){ee(this,arguments).event(ne).start()}).on("interrupt.zoom end.zoom",function(){ee(this,arguments).event(ne).end()}).tween("zoom",function(){var qe=this,Oe=arguments,Xe=ee(qe,Oe).event(ne),it=e.apply(qe,Oe),rt=K==null?T(it):typeof K=="function"?K.apply(qe,Oe):K,Bt=Math.max(it[1][0]-it[0][0],it[1][1]-it[0][1]),Tt=qe.__zoom,Ct=typeof we=="function"?we.apply(qe,Oe):we,Rt=l(Tt.invert(rt).concat(Bt/Tt.k),Ct.invert(rt).concat(Bt/Ct.k));return function(wt){if(wt===1)wt=Ct;else{var $t=Rt(wt),Ve=Bt/$t[2];wt=new jr(Ve,rt[0]-$t[0]*Ve,rt[1]-$t[1]*Ve)}Xe.zoom(null,wt)}})}function ee(z,we,K){return!K&&z.__zooming||new re(z,we)}function re(z,we){this.that=z,this.args=we,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,we),this.taps=0}re.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,we){return this.mouse&&z!=="mouse"&&(this.mouse[1]=we.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=we.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=we.invert(this.touch1[0])),this.that.__zoom=we,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var we=hi(this.that).datum();d.call(z,this.that,new GS(z,{sourceEvent:this.sourceEvent,target:O,type:z,transform:this.that.__zoom,dispatch:d}),we)}};function Se(z,...we){if(!i.apply(this,arguments))return;var K=ee(this,we).event(z),ne=this.__zoom,qe=Math.max(a[0],Math.min(a[1],ne.k*Math.pow(2,r.apply(this,arguments)))),Oe=Br(z);if(K.wheel)(K.mouse[0][0]!==Oe[0]||K.mouse[0][1]!==Oe[1])&&(K.mouse[1]=ne.invert(K.mouse[0]=Oe)),clearTimeout(K.wheel);else{if(ne.k===qe)return;K.mouse=[Oe,ne.invert(Oe)],Ra(this),K.start()}Ts(z),K.wheel=setTimeout(Xe,k),K.zoom("mouse",t(R($(ne,qe),K.mouse[0],K.mouse[1]),K.extent,s));function Xe(){K.wheel=null,K.end()}}function Te(z,...we){if(h||!i.apply(this,arguments))return;var K=z.currentTarget,ne=ee(this,we,!0).event(z),qe=hi(z.view).on("mousemove.zoom",rt,!0).on("mouseup.zoom",Bt,!0),Oe=Br(z,K),Xe=z.clientX,it=z.clientY;zg(z.view),bc(z),ne.mouse=[Oe,this.__zoom.invert(Oe)],Ra(this),ne.start();function rt(Tt){if(Ts(Tt),!ne.moved){var Ct=Tt.clientX-Xe,Rt=Tt.clientY-it;ne.moved=Ct*Ct+Rt*Rt>U}ne.event(Tt).zoom("mouse",t(R(ne.that.__zoom,ne.mouse[0]=Br(Tt,K),ne.mouse[1]),ne.extent,s))}function Bt(Tt){qe.on("mousemove.zoom mouseup.zoom",null),Mg(Tt.view,ne.moved),Ts(Tt),ne.event(Tt).end()}}function Ke(z,...we){if(i.apply(this,arguments)){var K=this.__zoom,ne=Br(z.changedTouches?z.changedTouches[0]:z,this),qe=K.invert(ne),Oe=K.k*(z.shiftKey?.5:2),Xe=t(R($(K,Oe),ne,qe),e.apply(this,we),s);Ts(z),o>0?hi(this).transition().duration(o).call(B,Xe,ne,z):hi(this).call(O.transform,Xe,ne,z)}}function fe(z,...we){if(i.apply(this,arguments)){var K=z.touches,ne=K.length,qe=ee(this,we,z.changedTouches.length===ne).event(z),Oe,Xe,it,rt;for(bc(z),Xe=0;Xe<ne;++Xe)it=K[Xe],rt=Br(it,this),rt=[rt,this.__zoom.invert(rt),it.identifier],qe.touch0?!qe.touch1&&qe.touch0[2]!==rt[2]&&(qe.touch1=rt,qe.taps=0):(qe.touch0=rt,Oe=!0,qe.taps=1+!!c);c&&(c=clearTimeout(c)),Oe&&(qe.taps<2&&(u=rt[0],c=setTimeout(function(){c=null},g)),Ra(this),qe.start())}}function Ge(z,...we){if(this.__zooming){var K=ee(this,we).event(z),ne=z.changedTouches,qe=ne.length,Oe,Xe,it,rt;for(Ts(z),Oe=0;Oe<qe;++Oe)Xe=ne[Oe],it=Br(Xe,this),K.touch0&&K.touch0[2]===Xe.identifier?K.touch0[0]=it:K.touch1&&K.touch1[2]===Xe.identifier&&(K.touch1[0]=it);if(Xe=K.that.__zoom,K.touch1){var Bt=K.touch0[0],Tt=K.touch0[1],Ct=K.touch1[0],Rt=K.touch1[1],wt=(wt=Ct[0]-Bt[0])*wt+(wt=Ct[1]-Bt[1])*wt,$t=($t=Rt[0]-Tt[0])*$t+($t=Rt[1]-Tt[1])*$t;Xe=$(Xe,Math.sqrt(wt/$t)),it=[(Bt[0]+Ct[0])/2,(Bt[1]+Ct[1])/2],rt=[(Tt[0]+Rt[0])/2,(Tt[1]+Rt[1])/2]}else if(K.touch0)it=K.touch0[0],rt=K.touch0[1];else return;K.zoom("touch",t(R(Xe,it,rt),K.extent,s))}}function He(z,...we){if(this.__zooming){var K=ee(this,we).event(z),ne=z.changedTouches,qe=ne.length,Oe,Xe;for(bc(z),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),Oe=0;Oe<qe;++Oe)Xe=ne[Oe],K.touch0&&K.touch0[2]===Xe.identifier?delete K.touch0:K.touch1&&K.touch1[2]===Xe.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(Xe=Br(Xe,this),Math.hypot(u[0]-Xe[0],u[1]-Xe[1])<I)){var it=hi(this).on("dblclick.zoom");it&&it.apply(this,arguments)}}}return O.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:Jo(+z),O):r},O.filter=function(z){return arguments.length?(i=typeof z=="function"?z:Jo(!!z),O):i},O.touchable=function(z){return arguments.length?(n=typeof z=="function"?z:Jo(!!z),O):n},O.extent=function(z){return arguments.length?(e=typeof z=="function"?z:Jo([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),O):e},O.scaleExtent=function(z){return arguments.length?(a[0]=+z[0],a[1]=+z[1],O):[a[0],a[1]]},O.translateExtent=function(z){return arguments.length?(s[0][0]=+z[0][0],s[1][0]=+z[1][0],s[0][1]=+z[0][1],s[1][1]=+z[1][1],O):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},O.constrain=function(z){return arguments.length?(t=z,O):t},O.duration=function(z){return arguments.length?(o=+z,O):o},O.interpolate=function(z){return arguments.length?(l=z,O):l},O.on=function(){var z=d.on.apply(d,arguments);return z===d?O:z},O.clickDistance=function(z){return arguments.length?(U=(z=+z)*z,O):Math.sqrt(U)},O.tapDistance=function(z){return arguments.length?(I=+z,O):I},O}const Bg="#b3b3b3",qS=.1,$g=4,Gg="#666666",YS=.1,Ug=1,KS="#222222",vt={disableSimulation:!1,spaceSize:4096,nodeSizeScale:1,linkWidthScale:1,arrowSizeScale:1,renderLinks:!0,curvedLinks:!1,curvedLinkSegments:19,curvedLinkWeight:.8,curvedLinkControlPointDistance:.5,arrowLinks:!0,linkVisibilityDistanceRange:[50,150],linkVisibilityMinTransparency:.25,hoveredNodeRingColor:"white",focusedNodeRingColor:"white",useQuadtree:!1,simulation:{decay:1e3,gravity:0,center:0,repulsion:.1,repulsionTheta:1.7,repulsionQuadtreeLevels:12,linkSpring:1,linkDistance:2,linkDistRandomVariationRange:[1,1.2],repulsionFromMouse:2,friction:.85},showFPSMonitor:!1,pixelRatio:2,scaleNodesOnZoom:!0,disableZoom:!1,fitViewOnInit:!0,fitViewDelay:250,nodeSamplingDistance:150},ZS=.7,JS=.95,Pm=3,jg=i=>typeof i=="function",Hg=i=>Array.isArray(i),QS=i=>i instanceof Object,e3=i=>i instanceof Object?i.constructor.name!=="Function"&&i.constructor.name!=="Object":!1,Fm=i=>QS(i)&&!Hg(i)&&!jg(i)&&!e3(i);function Ms(i,e,t){return jg(e)?e(i,t):e}function Va(i){var e;let t;if(Hg(i))t=i;else{const r=Hr(i),n=r==null?void 0:r.rgb();t=[(n==null?void 0:n.r)||0,(n==null?void 0:n.g)||0,(n==null?void 0:n.b)||0,(e=r==null?void 0:r.opacity)!==null&&e!==void 0?e:1]}return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function pn(i,e){let t=new Float32Array;return i({framebuffer:e})(()=>{t=i.read()}),t}function t3(i,e,t){return Math.min(Math.max(i,e),t)}class i3{constructor(){this.disableSimulation=vt.disableSimulation,this.backgroundColor=KS,this.spaceSize=vt.spaceSize,this.nodeColor=Bg,this.nodeGreyoutOpacity=qS,this.nodeSize=$g,this.nodeSizeScale=vt.nodeSizeScale,this.renderHighlightedNodeRing=!0,this.highlightedNodeRingColor=void 0,this.renderHoveredNodeRing=!0,this.hoveredNodeRingColor=vt.hoveredNodeRingColor,this.focusedNodeRingColor=vt.focusedNodeRingColor,this.linkColor=Gg,this.linkGreyoutOpacity=YS,this.linkWidth=Ug,this.linkWidthScale=vt.linkWidthScale,this.renderLinks=vt.renderLinks,this.curvedLinks=vt.curvedLinks,this.curvedLinkSegments=vt.curvedLinkSegments,this.curvedLinkWeight=vt.curvedLinkWeight,this.curvedLinkControlPointDistance=vt.curvedLinkControlPointDistance,this.linkArrows=vt.arrowLinks,this.linkArrowsSizeScale=vt.arrowSizeScale,this.linkVisibilityDistanceRange=vt.linkVisibilityDistanceRange,this.linkVisibilityMinTransparency=vt.linkVisibilityMinTransparency,this.useQuadtree=vt.useQuadtree,this.simulation={decay:vt.simulation.decay,gravity:vt.simulation.gravity,center:vt.simulation.center,repulsion:vt.simulation.repulsion,repulsionTheta:vt.simulation.repulsionTheta,repulsionQuadtreeLevels:vt.simulation.repulsionQuadtreeLevels,linkSpring:vt.simulation.linkSpring,linkDistance:vt.simulation.linkDistance,linkDistRandomVariationRange:vt.simulation.linkDistRandomVariationRange,repulsionFromMouse:vt.simulation.repulsionFromMouse,friction:vt.simulation.friction,onStart:void 0,onTick:void 0,onEnd:void 0,onPause:void 0,onRestart:void 0},this.events={onClick:void 0,onMouseMove:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onZoomStart:void 0,onZoom:void 0,onZoomEnd:void 0},this.showFPSMonitor=vt.showFPSMonitor,this.pixelRatio=vt.pixelRatio,this.scaleNodesOnZoom=vt.scaleNodesOnZoom,this.initialZoomLevel=void 0,this.disableZoom=vt.disableZoom,this.fitViewOnInit=vt.fitViewOnInit,this.fitViewDelay=vt.fitViewDelay,this.fitViewByNodesInRect=void 0,this.randomSeed=void 0,this.nodeSamplingDistance=vt.nodeSamplingDistance}init(e){Object.keys(e).forEach(t=>{this.deepMergeConfig(this.getConfig(),e,t)})}deepMergeConfig(e,t,r){Fm(e[r])&&Fm(t[r])?Object.keys(t[r]).forEach(n=>{this.deepMergeConfig(e[r],t[r],n)}):e[r]=t[r]}getConfig(){return this}}class yn{constructor(e,t,r,n,a){this.reglInstance=e,this.config=t,this.store=r,this.data=n,a&&(this.points=a)}}var r3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,n3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.xy,1.0,0.0);gl_Position=vec4(0.0,0.0,0.0,1.0);gl_PointSize=1.0;}`,a3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D centermass;uniform float center;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec4 centermassValues=texture2D(centermass,vec2(0.0));vec2 centermassPosition=centermassValues.xy/centermassValues.b;vec2 distVector=centermassPosition-pointPosition.xy;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*center*dist*0.01;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;function Oi(i){return{buffer:i.buffer(new Float32Array([-1,-1,1,-1,-1,1,1,1])),size:2}}function Fa(i,e){const t=new Float32Array(e*e*2);for(let n=0;n<e;n++)for(let a=0;a<e;a++){const s=n*e*2+a*2;t[s+0]=a,t[s+1]=n}return{buffer:i.buffer(t),size:2}}function ni(i){var e;i&&!((e=i==null?void 0:i._framebuffer)===null||e===void 0)&&e.framebuffer&&i.destroy()}function Qo(i){var e;i&&!((e=i==null?void 0:i._buffer)===null||e===void 0)&&e.buffer&&i.destroy()}var Wa=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;void main(){gl_FragColor=vec4(0.0);}`,zi=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 quad;varying vec2 index;void main(){index=(quad+1.0)/2.0;gl_Position=vec4(quad,0,1);}`;class s3 extends yn{create(){const{reglInstance:e}=this;this.centermassFbo=e.framebuffer({color:e.texture({data:new Float32Array(4).fill(0),shape:[1,1,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:r,data:n,points:a}=this;this.clearCentermassCommand=e({frag:Wa,vert:zi,framebuffer:this.centermassFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)}}),this.calculateCentermassCommand=e({frag:r3,vert:n3,framebuffer:()=>this.centermassFbo,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:Fa(e,r.pointsTextureSize)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,pointsTextureSize:()=>r.pointsTextureSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.runCommand=e({frag:a3,vert:zi,framebuffer:()=>a==null?void 0:a.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,centermass:()=>this.centermassFbo,center:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.center},alpha:()=>r.alpha}})}run(){var e,t,r;(e=this.clearCentermassCommand)===null||e===void 0||e.call(this),(t=this.calculateCentermassCommand)===null||t===void 0||t.call(this),(r=this.runCommand)===null||r===void 0||r.call(this)}destroy(){ni(this.centermassFbo)}}var o3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float gravity;uniform float spaceSize;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 centerPosition=vec2(spaceSize/2.0);vec2 distVector=centerPosition-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*gravity*dist*0.1;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;class l3 extends yn{initPrograms(){const{reglInstance:e,config:t,store:r,points:n}=this;this.runCommand=e({frag:o3,vert:zi,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,gravity:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.gravity},spaceSize:()=>r.adjustedSpaceSize,alpha:()=>r.alpha}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}}function d3(i){return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform float linkSpring;
uniform float linkDistance;
uniform vec2 linkDistRandomVariationRange;

uniform sampler2D linkFirstIndicesAndAmount;
uniform sampler2D linkIndices;
uniform sampler2D linkBiasAndStrength;
uniform sampler2D linkRandomDistanceFbo;

uniform float pointsTextureSize;
uniform float linksTextureSize;
uniform float alpha;

varying vec2 index;

const float MAX_LINKS = ${i}.0;

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 velocity = vec4(0.0);

  vec4 linkFirstIJAndAmount = texture2D(linkFirstIndicesAndAmount, index);
  float iCount = linkFirstIJAndAmount.r;
  float jCount = linkFirstIJAndAmount.g;
  float linkAmount = linkFirstIJAndAmount.b;
  if (linkAmount > 0.0) {
    for (float i = 0.0; i < MAX_LINKS; i += 1.0) {
      if (i < linkAmount) {
        if (iCount >= linksTextureSize) {
          iCount = 0.0;
          jCount += 1.0;
        }
        vec2 linkTextureIndex = (vec2(iCount, jCount) + 0.5) / linksTextureSize;
        vec4 connectedPointIndex = texture2D(linkIndices, linkTextureIndex);
        vec4 biasAndStrength = texture2D(linkBiasAndStrength, linkTextureIndex);
        vec4 randomMinDistance = texture2D(linkRandomDistanceFbo, linkTextureIndex);
        float bias = biasAndStrength.r;
        float strength = biasAndStrength.g;
        float randomMinLinkDist = randomMinDistance.r * (linkDistRandomVariationRange.g - linkDistRandomVariationRange.r) + linkDistRandomVariationRange.r;
        randomMinLinkDist *= linkDistance;

        iCount += 1.0;

        vec4 connectedPointPosition = texture2D(position, (connectedPointIndex.rg + 0.5) / pointsTextureSize);
        float x = connectedPointPosition.x - (pointPosition.x + velocity.x);
        float y = connectedPointPosition.y - (pointPosition.y + velocity.y);
        float l = sqrt(x * x + y * y);
        l = max(l, randomMinLinkDist * 0.99);
        l = (l - randomMinLinkDist) / l;
        l *= linkSpring * alpha;
        l *= strength;
        l *= bias;
        x *= l;
        y *= l;
        velocity.x += x;
        velocity.y += y;
      }
    }
  }

  gl_FragColor = vec4(velocity.rg, 0.0, 0.0);
}
  `}var qs;(function(i){i.OUTGOING="outgoing",i.INCOMING="incoming"})(qs||(qs={}));class Dm extends yn{constructor(){super(...arguments),this.linkFirstIndicesAndAmount=new Float32Array,this.indices=new Float32Array,this.maxPointDegree=0}create(e){const{reglInstance:t,store:{pointsTextureSize:r,linksTextureSize:n},data:a}=this;if(!r||!n)return;this.linkFirstIndicesAndAmount=new Float32Array(r*r*4),this.indices=new Float32Array(n*n*4);const s=new Float32Array(n*n*4),o=new Float32Array(n*n*4),l=e===qs.INCOMING?a.groupedSourceToTargetLinks:a.groupedTargetToSourceLinks;this.maxPointDegree=0;let d=0;l.forEach((c,u)=>{this.linkFirstIndicesAndAmount[u*4+0]=d%n,this.linkFirstIndicesAndAmount[u*4+1]=Math.floor(d/n),this.linkFirstIndicesAndAmount[u*4+2]=c.size,c.forEach(h=>{var g,k;this.indices[d*4+0]=h%r,this.indices[d*4+1]=Math.floor(h/r);const U=(g=a.degree[a.getInputIndexBySortedIndex(h)])!==null&&g!==void 0?g:0,I=(k=a.degree[a.getInputIndexBySortedIndex(u)])!==null&&k!==void 0?k:0,O=U/(U+I);let $=1/Math.min(U,I);$=Math.sqrt($),s[d*4+0]=O,s[d*4+1]=$,o[d*4]=this.store.getRandomFloat(0,1),d+=1}),this.maxPointDegree=Math.max(this.maxPointDegree,c.size)}),this.linkFirstIndicesAndAmountFbo=t.framebuffer({color:t.texture({data:this.linkFirstIndicesAndAmount,shape:[r,r,4],type:"float"}),depth:!1,stencil:!1}),this.indicesFbo=t.framebuffer({color:t.texture({data:this.indices,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1}),this.biasAndStrengthFbo=t.framebuffer({color:t.texture({data:s,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1}),this.randomDistanceFbo=t.framebuffer({color:t.texture({data:o,shape:[n,n,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:r,points:n}=this;this.runCommand=e({frag:()=>d3(this.maxPointDegree),vert:zi,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,linkSpring:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.linkSpring},linkDistance:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.linkDistance},linkDistRandomVariationRange:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.linkDistRandomVariationRange},linkFirstIndicesAndAmount:()=>this.linkFirstIndicesAndAmountFbo,linkIndices:()=>this.indicesFbo,linkBiasAndStrength:()=>this.biasAndStrengthFbo,linkRandomDistanceFbo:()=>this.randomDistanceFbo,pointsTextureSize:()=>r.pointsTextureSize,linksTextureSize:()=>r.linksTextureSize,alpha:()=>r.alpha}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}destroy(){ni(this.linkFirstIndicesAndAmountFbo),ni(this.indicesFbo),ni(this.biasAndStrengthFbo),ni(this.randomDistanceFbo)}}var Vg=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,Wg=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float levelTextureSize;uniform float cellSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.rg,1.0,0.0);float n=floor(pointPosition.x/cellSize);float m=floor(pointPosition.y/cellSize);vec2 levelPosition=2.0*(vec2(n,m)+0.5)/levelTextureSize-1.0;gl_Position=vec4(levelPosition,0.0,1.0);gl_PointSize=1.0;}`,c3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform float level;uniform float levels;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;uniform float spaceSize;uniform float theta;varying vec2 index;const float MAX_LEVELS_NUM=14.0;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);float x=pointPosition.x;float y=pointPosition.y;float left=0.0;float top=0.0;float right=spaceSize;float bottom=spaceSize;float n_left=0.0;float n_top=0.0;float n_right=0.0;float n_bottom=0.0;float cellSize=0.0;for(float i=0.0;i<MAX_LEVELS_NUM;i+=1.0){if(i<=level){left+=cellSize*n_left;top+=cellSize*n_top;right-=cellSize*n_right;bottom-=cellSize*n_bottom;cellSize=pow(2.0,levels-i-1.0);float dist_left=x-left;n_left=max(0.0,floor(dist_left/cellSize-theta));float dist_top=y-top;n_top=max(0.0,floor(dist_top/cellSize-theta));float dist_right=right-x;n_right=max(0.0,floor(dist_right/cellSize-theta));float dist_bottom=bottom-y;n_bottom=max(0.0,floor(dist_bottom/cellSize-theta));}}vec4 velocity=vec4(vec2(0.0),1.0,0.0);for(float i=0.0;i<12.0;i+=1.0){for(float j=0.0;j<4.0;j+=1.0){float n=left+cellSize*j;float m=top+cellSize*n_top+cellSize*i;if(n<(left+n_left*cellSize)&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+cellSize*i;m=top+cellSize*j;if(n<(right-n_right*cellSize)&&m<(top+n_top*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=right-n_right*cellSize+cellSize*j;m=top+cellSize*i;if(n<right&&m<(bottom-n_bottom*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+n_left*cellSize+cellSize*i;m=bottom-n_bottom*cellSize+cellSize*j;if(n<right&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}}}gl_FragColor=velocity;}`,u3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform sampler2D randomValues;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;varying vec2 index;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);vec4 random=texture2D(randomValues,index);vec4 velocity=vec4(0.0);velocity.xy+=calcAdd(pointPosition.xy/levelTextureSize,pointPosition.xy);velocity.xy+=velocity.xy*random.rg;gl_FragColor=velocity;}`;class f3 extends yn{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){const{reglInstance:e,store:t}=this;if(!t.pointsTextureSize)return;this.quadtreeLevels=Math.log2(t.adjustedSpaceSize);for(let n=0;n<this.quadtreeLevels;n+=1){const a=Math.pow(2,n+1);this.levelsFbos.set(`level[${n}]`,e.framebuffer({shape:[a,a],colorType:"float",depth:!1,stencil:!1}))}const r=new Float32Array(t.pointsTextureSize*t.pointsTextureSize*4);for(let n=0;n<t.pointsTextureSize*t.pointsTextureSize;++n)r[n*4]=t.getRandomFloat(-1,1)*1e-5,r[n*4+1]=t.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=e.framebuffer({color:e.texture({data:r,shape:[t.pointsTextureSize,t.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:e,config:t,store:r,data:n,points:a}=this;this.clearLevelsCommand=e({frag:Wa,vert:zi,framebuffer:(s,o)=>o.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)}}),this.calculateLevelsCommand=e({frag:Vg,vert:Wg,framebuffer:(s,o)=>o.levelFbo,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:Fa(e,r.pointsTextureSize)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,pointsTextureSize:()=>r.pointsTextureSize,levelTextureSize:(s,o)=>o.levelTextureSize,cellSize:(s,o)=>o.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceCommand=e({frag:c3,vert:zi,framebuffer:()=>a==null?void 0:a.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,level:(s,o)=>o.level,levels:this.quadtreeLevels,levelFbo:(s,o)=>o.levelFbo,levelTextureSize:(s,o)=>o.levelTextureSize,alpha:()=>r.alpha,repulsion:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.repulsion},spaceSize:()=>r.adjustedSpaceSize,theta:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.repulsionTheta}},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceFromItsOwnCentermassCommand=e({frag:u3,vert:zi,framebuffer:()=>a==null?void 0:a.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>a==null?void 0:a.previousPositionFbo,randomValues:()=>this.randomValuesFbo,levelFbo:(s,o)=>o.levelFbo,levelTextureSize:(s,o)=>o.levelTextureSize,alpha:()=>r.alpha,repulsion:()=>{var s;return(s=t.simulation)===null||s===void 0?void 0:s.repulsion},spaceSize:()=>r.adjustedSpaceSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.clearVelocityCommand=e({frag:Wa,vert:zi,framebuffer:()=>a==null?void 0:a.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)}})}run(){var e,t,r,n,a;const{store:s}=this;for(let o=0;o<this.quadtreeLevels;o+=1){(e=this.clearLevelsCommand)===null||e===void 0||e.call(this,{levelFbo:this.levelsFbos.get(`level[${o}]`)});const l=Math.pow(2,o+1),d=s.adjustedSpaceSize/l;(t=this.calculateLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${o}]`),levelTextureSize:l,cellSize:d})}(r=this.clearVelocityCommand)===null||r===void 0||r.call(this);for(let o=0;o<this.quadtreeLevels;o+=1){const l=Math.pow(2,o+1);(n=this.forceCommand)===null||n===void 0||n.call(this,{levelFbo:this.levelsFbos.get(`level[${o}]`),levelTextureSize:l,level:o}),o===this.quadtreeLevels-1&&((a=this.forceFromItsOwnCentermassCommand)===null||a===void 0||a.call(this,{levelFbo:this.levelsFbos.get(`level[${o}]`),levelTextureSize:l,level:o}))}}destroy(){ni(this.randomValuesFbo),this.levelsFbos.forEach(e=>{ni(e)}),this.levelsFbos.clear()}}function h3(i,e){i=Math.min(i,e);const t=e-i,r=`
    float dist = sqrt(l);
    if (dist > 0.0) {
      float c = alpha * repulsion * centermass.b;
      addVelocity += calcAdd(vec2(x, y), l, c);
      addVelocity += addVelocity * random.rg;
    }
  `;function n(a){if(a>=e)return r;{const s=Math.pow(2,a+1),o=new Array(a+1-t).fill(0).map((d,c)=>`pow(2.0, ${a-(c+t)}.0) * i${c+t}`).join("+"),l=new Array(a+1-t).fill(0).map((d,c)=>`pow(2.0, ${a-(c+t)}.0) * j${c+t}`).join("+");return`
      for (float ij${a} = 0.0; ij${a} < 4.0; ij${a} += 1.0) {
        float i${a} = 0.0;
        float j${a} = 0.0;
        if (ij${a} == 1.0 || ij${a} == 3.0) i${a} = 1.0;
        if (ij${a} == 2.0 || ij${a} == 3.0) j${a} = 1.0;
        float i = pow(2.0, ${i}.0) * n / width${a+1} + ${o};
        float j = pow(2.0, ${i}.0) * m / width${a+1} + ${l};
        float groupPosX = (i + 0.5) / ${s}.0;
        float groupPosY = (j + 0.5) / ${s}.0;
        
        vec4 centermass = texture2D(level[${a}], vec2(groupPosX, groupPosY));
        if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {
          float x = centermass.r / centermass.b - pointPosition.r;
          float y = centermass.g / centermass.b - pointPosition.g;
          float l = x * x + y * y;
          if ((width${a+1} * width${a+1}) / theta < l) {
            ${r}
          } else {
            ${n(a+1)}
          }
        }
      }
      `}}return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform sampler2D randomValues;
uniform float spaceSize;
uniform float repulsion;
uniform float theta;
uniform float alpha;
uniform sampler2D level[${e}];
varying vec2 index;

vec2 calcAdd(vec2 xy, float l, float c) {
  float distanceMin2 = 1.0;
  if (l < distanceMin2) l = sqrt(distanceMin2 * l);
  float add = c / l;
  return add * xy;
}

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 random = texture2D(randomValues, index);

  float width0 = spaceSize;

  vec2 velocity = vec2(0.0);
  vec2 addVelocity = vec2(0.0);

  ${new Array(e).fill(0).map((a,s)=>`float width${s+1} = width${s} / 2.0;`).join(`
`)}

  for (float n = 0.0; n < pow(2.0, ${t}.0); n += 1.0) {
    for (float m = 0.0; m < pow(2.0, ${t}.0); m += 1.0) {
      ${n(t)}
    }
  }

  velocity -= addVelocity;

  gl_FragColor = vec4(velocity, 0.0, 0.0);
}
`}class m3 extends yn{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){const{reglInstance:e,store:t}=this;if(!t.pointsTextureSize)return;this.quadtreeLevels=Math.log2(t.adjustedSpaceSize);for(let n=0;n<this.quadtreeLevels;n+=1){const a=Math.pow(2,n+1);this.levelsFbos.set(`level[${n}]`,e.framebuffer({color:e.texture({data:new Float32Array(a*a*4),shape:[a,a,4],type:"float"}),depth:!1,stencil:!1}))}const r=new Float32Array(t.pointsTextureSize*t.pointsTextureSize*4);for(let n=0;n<t.pointsTextureSize*t.pointsTextureSize;++n)r[n*4]=t.getRandomFloat(-1,1)*1e-5,r[n*4+1]=t.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=e.framebuffer({color:e.texture({data:r,shape:[t.pointsTextureSize,t.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){var e,t;const{reglInstance:r,config:n,store:a,data:s,points:o}=this;this.clearLevelsCommand=r({frag:Wa,vert:zi,framebuffer:(l,d)=>d.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(r)}}),this.calculateLevelsCommand=r({frag:Vg,vert:Wg,framebuffer:(l,d)=>d.levelFbo,primitive:"points",count:()=>s.nodes.length,attributes:{indexes:Fa(r,a.pointsTextureSize)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,pointsTextureSize:()=>a.pointsTextureSize,levelTextureSize:(l,d)=>d.levelTextureSize,cellSize:(l,d)=>d.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.quadtreeCommand=r({frag:h3((t=(e=n.simulation)===null||e===void 0?void 0:e.repulsionQuadtreeLevels)!==null&&t!==void 0?t:this.quadtreeLevels,this.quadtreeLevels),vert:zi,framebuffer:()=>o==null?void 0:o.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(r)},uniforms:on({position:()=>o==null?void 0:o.previousPositionFbo,randomValues:()=>this.randomValuesFbo,spaceSize:()=>a.adjustedSpaceSize,repulsion:()=>{var l;return(l=n.simulation)===null||l===void 0?void 0:l.repulsion},theta:()=>{var l;return(l=n.simulation)===null||l===void 0?void 0:l.repulsionTheta},alpha:()=>a.alpha},Object.fromEntries(this.levelsFbos))})}run(){var e,t,r;const{store:n}=this;for(let a=0;a<this.quadtreeLevels;a+=1){(e=this.clearLevelsCommand)===null||e===void 0||e.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`)});const s=Math.pow(2,a+1),o=n.adjustedSpaceSize/s;(t=this.calculateLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:s,cellSize:o})}(r=this.quadtreeCommand)===null||r===void 0||r.call(this)}destroy(){ni(this.randomValuesFbo),this.levelsFbos.forEach(e=>{ni(e)}),this.levelsFbos.clear()}}var p3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float repulsion;uniform vec2 mousePos;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 mouse=mousePos;vec2 distVector=mouse-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));dist=max(dist,10.0);float angle=atan(distVector.y,distVector.x);float addV=100.0*repulsion/(dist*dist);velocity.rg-=addV*vec2(cos(angle),sin(angle));gl_FragColor=velocity;}`;class g3 extends yn{initPrograms(){const{reglInstance:e,config:t,store:r,points:n}=this;this.runCommand=e({frag:p3,vert:zi,framebuffer:()=>n==null?void 0:n.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>n==null?void 0:n.previousPositionFbo,mousePos:()=>r.mousePosition,repulsion:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.repulsionFromMouse}}})}run(){var e;(e=this.runCommand)===null||e===void 0||e.call(this)}}var v3=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Xg={exports:{}};(function(i,e){(function(t,r){i.exports=r()})(v3,function(){var t=`<div class="gl-box">
  <svg viewBox="0 0 55 60">
    <text x="27" y="56" class="gl-fps">00 FPS</text>
    <text x="28" y="8" class="gl-mem"></text>
    <rect x="0" y="14" rx="4" ry="4" width="55" height="32"></rect>
    <polyline class="gl-chart"></polyline>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-cpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-cpu" stroke-dasharray="0 27"/>
    <path d="M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z"/>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-gpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-gpu" stroke-dasharray="0 27"/>
    <path d="M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z"/>
  </svg>
</div>`,r=`#gl-bench {
  position:absolute;
  left:0;
  top:0;
  z-index:1000;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

#gl-bench div {
  position: relative;
  display: block;
  margin: 4px;
  padding: 0 7px 0 10px;
  background: #6c6;
  border-radius: 15px;
  cursor: pointer;
  opacity: 0.9;
}

#gl-bench svg {
  height: 60px;
  margin: 0 -1px;
}

#gl-bench text {
  font-size: 12px;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: 700;
  dominant-baseline: middle;
  text-anchor: middle;
}

#gl-bench .gl-mem {
  font-size: 9px;
}

#gl-bench line {
  stroke-width: 5;
  stroke: #112211;
  stroke-linecap: round;
}

#gl-bench polyline {
  fill: none;
  stroke: #112211;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 3.5;
}

#gl-bench rect {
  fill: #448844;
}

#gl-bench .opacity {
  stroke: #448844;
}
`;class n{constructor(s,o={}){this.css=r,this.svg=t,this.paramLogger=()=>{},this.chartLogger=()=>{},this.chartLen=20,this.chartHz=20,this.names=[],this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=new Array(this.chartLen),this.now=()=>performance&&performance.now?performance.now():Date.now(),this.updateUI=()=>{[].forEach.call(this.nodes["gl-gpu-svg"],h=>{h.style.display=this.trackGPU?"inline":"none"})},Object.assign(this,o),this.detected=0,this.finished=[],this.isFramebuffer=0,this.frameId=0;let l,d=0,c,u=h=>{++d<20?l=requestAnimationFrame(u):(this.detected=Math.ceil(1e3*d/(h-c)/70),cancelAnimationFrame(l)),c||(c=h)};if(requestAnimationFrame(u),s){const h=(k,U)=>Y(this,null,function*(){return Promise.resolve(setTimeout(()=>{s.getError();const I=this.now()-k;U.forEach((O,$)=>{O&&(this.gpuAccums[$]+=I)})},0))}),g=(k,U,I)=>function(){const O=U.now();k.apply(I,arguments),U.trackGPU&&U.finished.push(h(O,U.activeAccums.slice(0)))};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(k=>{s[k]&&(s[k]=g(s[k],this,s))}),s.getExtension=((k,U)=>function(){let I=k.apply(s,arguments);return I&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(O=>{I[O]&&(I[O]=g(I[O],U,I))}),I})(s.getExtension,this)}if(!this.withoutUI){this.dom||(this.dom=document.body);let h=document.createElement("div");h.id="gl-bench",this.dom.appendChild(h),this.dom.insertAdjacentHTML("afterbegin",'<style id="gl-bench-style">'+this.css+"</style>"),this.dom=h,this.dom.addEventListener("click",()=>{this.trackGPU=!this.trackGPU,this.updateUI()}),this.paramLogger=((g,k,U)=>{const I=["gl-cpu","gl-gpu","gl-mem","gl-fps","gl-gpu-svg","gl-chart"],O=Object.assign({},I);return I.forEach($=>O[$]=k.getElementsByClassName($)),this.nodes=O,($,R,T,B,ee,re,Se)=>{O["gl-cpu"][$].style.strokeDasharray=(R*.27).toFixed(0)+" 100",O["gl-gpu"][$].style.strokeDasharray=(T*.27).toFixed(0)+" 100",O["gl-mem"][$].innerHTML=U[$]?U[$]:B?"mem: "+B.toFixed(0)+"mb":"",O["gl-fps"][$].innerHTML=ee.toFixed(0)+" FPS",g(U[$],R,T,B,ee,re,Se)}})(this.paramLogger,this.dom,this.names),this.chartLogger=((g,k)=>{let U={"gl-chart":k.getElementsByClassName("gl-chart")};return(I,O,$)=>{let R="",T=O.length;for(let B=0;B<T;B++){let ee=($+B+1)%T;O[ee]!=null&&(R=R+" "+(55*B/(T-1)).toFixed(1)+","+(45-O[ee]*22/60/this.detected).toFixed(1))}U["gl-chart"][I].setAttribute("points",R),g(this.names[I],O,$)}})(this.chartLogger,this.dom)}}addUI(s){this.names.indexOf(s)==-1&&(this.names.push(s),this.dom&&(this.dom.insertAdjacentHTML("beforeend",this.svg),this.updateUI()),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(s){this.frameId++;const o=s||this.now();if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=o;else{let l=o-this.paramTime;if(l>=1e3){const d=this.frameId-this.paramFrame,c=d/l*1e3;for(let u=0;u<this.names.length;u++){const h=this.cpuAccums[u]/l*100,g=this.gpuAccums[u]/l*100,k=performance&&performance.memory?performance.memory.usedJSHeapSize/(1<<20):0;this.paramLogger(u,h,g,k,c,l,d),this.cpuAccums[u]=0,Promise.all(this.finished).then(()=>{this.gpuAccums[u]=0,this.finished=[]})}this.paramFrame=this.frameId,this.paramTime=o}}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=o,this.circularId=0;else{let l=o-this.chartTime,d=this.chartHz*l/1e3;for(;--d>0&&this.detected;){const u=(this.frameId-this.chartFrame)/l*1e3;this.chart[this.circularId%this.chartLen]=u;for(let h=0;h<this.names.length;h++)this.chartLogger(h,this.chart,this.circularId);this.circularId++,this.chartFrame=this.frameId,this.chartTime=o}}}begin(s){this.updateAccums(s)}end(s){this.updateAccums(s)}updateAccums(s){let o=this.names.indexOf(s);o==-1&&(o=this.names.length,this.addUI(s));const l=this.now(),d=l-this.t0;for(let c=0;c<o+1;c++)this.activeAccums[c]&&(this.cpuAccums[c]+=d);this.activeAccums[o]=!this.activeAccums[o],this.t0=l}}return n})})(Xg);var _3=Xg.exports;const b3=`
  #gl-bench {
    position:absolute;
    right:0;
    top:0;
    z-index:1000;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  #gl-bench div {
    position: relative;
    display: block;
    margin: 4px;
    padding: 0 7px 0 10px;
    background: #5f69de;
    border-radius: 15px;
    cursor: pointer;
    opacity: 0.9;
  }
  #gl-bench svg {
    height: 60px;
    margin: 0 -1px;
  }
  #gl-bench text {
    font-size: 12px;
    font-family: Helvetica,Arial,sans-serif;
    font-weight: 700;
    dominant-baseline: middle;
    text-anchor: middle;
  }
  #gl-bench .gl-mem {
    font-size: 9px;
  }
  #gl-bench line {
    stroke-width: 5;
    stroke: #112211;
    stroke-linecap: round;
  }
  #gl-bench polyline {
    fill: none;
    stroke: #112211;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 3.5;
  }
  #gl-bench rect {
    fill: #8288e4;
  }
  #gl-bench .opacity {
    stroke: #8288e4;
  }
`;class Nm{constructor(e){this.destroy();const t=e.getContext("webgl")||e.getContext("experimental-webgl");this.bench=new _3(t,{css:b3})}begin(){var e;(e=this.bench)===null||e===void 0||e.begin("frame")}end(e){var t,r;(t=this.bench)===null||t===void 0||t.end("frame"),(r=this.bench)===null||r===void 0||r.nextFrame(e)}destroy(){this.bench=void 0,hi("#gl-bench").remove()}}class y3{constructor(){this.completeLinks=new Set,this.degree=[],this.groupedSourceToTargetLinks=new Map,this.groupedTargetToSourceLinks=new Map,this._nodes=[],this._links=[],this.idToNodeMap=new Map,this.sortedIndexToInputIndexMap=new Map,this.inputIndexToSortedIndexMap=new Map,this.idToSortedIndexMap=new Map,this.inputIndexToIdMap=new Map,this.idToIndegreeMap=new Map,this.idToOutdegreeMap=new Map}get nodes(){return this._nodes}get links(){return this._links}get linksNumber(){return this.completeLinks.size}setData(e,t){this.idToNodeMap.clear(),this.idToSortedIndexMap.clear(),this.inputIndexToIdMap.clear(),this.idToIndegreeMap.clear(),this.idToOutdegreeMap.clear(),e.forEach((n,a)=>{this.idToNodeMap.set(n.id,n),this.inputIndexToIdMap.set(a,n.id),this.idToIndegreeMap.set(n.id,0),this.idToOutdegreeMap.set(n.id,0)}),this.completeLinks.clear(),t.forEach(n=>{const a=this.idToNodeMap.get(n.source),s=this.idToNodeMap.get(n.target);if(a!==void 0&&s!==void 0){this.completeLinks.add(n);const o=this.idToOutdegreeMap.get(a.id);o!==void 0&&this.idToOutdegreeMap.set(a.id,o+1);const l=this.idToIndegreeMap.get(s.id);l!==void 0&&this.idToIndegreeMap.set(s.id,l+1)}}),this.degree=new Array(e.length),e.forEach((n,a)=>{const s=this.idToOutdegreeMap.get(n.id),o=this.idToIndegreeMap.get(n.id);this.degree[a]=(s!=null?s:0)+(o!=null?o:0)}),this.sortedIndexToInputIndexMap.clear(),this.inputIndexToSortedIndexMap.clear(),Object.entries(this.degree).sort((n,a)=>n[1]-a[1]).forEach(([n],a)=>{const s=+n;this.sortedIndexToInputIndexMap.set(a,s),this.inputIndexToSortedIndexMap.set(s,a),this.idToSortedIndexMap.set(this.inputIndexToIdMap.get(s),a)}),this.groupedSourceToTargetLinks.clear(),this.groupedTargetToSourceLinks.clear(),t.forEach(n=>{const a=this.idToSortedIndexMap.get(n.source),s=this.idToSortedIndexMap.get(n.target);if(a!==void 0&&s!==void 0){this.groupedSourceToTargetLinks.get(a)===void 0&&this.groupedSourceToTargetLinks.set(a,new Set);const o=this.groupedSourceToTargetLinks.get(a);o==null||o.add(s),this.groupedTargetToSourceLinks.get(s)===void 0&&this.groupedTargetToSourceLinks.set(s,new Set);const l=this.groupedTargetToSourceLinks.get(s);l==null||l.add(a)}}),this._nodes=e,this._links=t}getNodeById(e){return this.idToNodeMap.get(e)}getNodeByIndex(e){return this._nodes[e]}getSortedIndexByInputIndex(e){return this.inputIndexToSortedIndexMap.get(e)}getInputIndexBySortedIndex(e){return this.sortedIndexToInputIndexMap.get(e)}getSortedIndexById(e){return e!==void 0?this.idToSortedIndexMap.get(e):void 0}getInputIndexById(e){if(e===void 0)return;const t=this.getSortedIndexById(e);if(t!==void 0)return this.getInputIndexBySortedIndex(t)}getAdjacentNodes(e){var t,r;const n=this.getSortedIndexById(e);if(n===void 0)return;const a=(t=this.groupedSourceToTargetLinks.get(n))!==null&&t!==void 0?t:[],s=(r=this.groupedTargetToSourceLinks.get(n))!==null&&r!==void 0?r:[];return[...new Set([...a,...s])].map(o=>this.getNodeByIndex(this.getInputIndexBySortedIndex(o)))}}var x3=`precision highp float;
#define GLSLIFY 1
varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float useArrow;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}void main(){float opacity=1.0;vec3 color=rgbaColor.rgb;float smoothDelta=smoothWidthRatio/2.0;if(useArrow>0.5){float end_arrow=0.5+arrowLength/2.0;float start_arrow=end_arrow-arrowLength;float arrowWidthDelta=linkWidthArrowWidthRatio/2.0;float linkOpacity=rgbaColor.a*smoothstep(0.5-arrowWidthDelta,0.5-arrowWidthDelta-smoothDelta,abs(pos.y));float arrowOpacity=1.0;if(pos.x>start_arrow&&pos.x<start_arrow+arrowLength){float xmapped=map(pos.x,start_arrow,end_arrow,0.0,1.0);arrowOpacity=rgbaColor.a*smoothstep(xmapped-smoothDelta,xmapped,map(abs(pos.y),0.5,0.0,0.0,1.0));if(linkOpacity!=arrowOpacity){linkOpacity+=arrowOpacity;}}opacity=linkOpacity;}else opacity=rgbaColor.a*smoothstep(0.5,0.5-smoothDelta,abs(pos.y));gl_FragColor=vec4(color,opacity);}`,w3=`precision highp float;
#define GLSLIFY 1
attribute vec2 position,pointA,pointB;attribute vec4 color;attribute float width;attribute float arrow;uniform sampler2D positions;uniform sampler2D particleGreyoutStatus;uniform mat3 transform;uniform float pointsTextureSize;uniform float widthScale;uniform float nodeSizeScale;uniform float arrowSizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform vec2 linkVisibilityDistanceRange;uniform float linkVisibilityMinTransparency;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;uniform float curvedWeight;uniform float curvedLinkControlPointDistance;uniform float curvedLinkSegments;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float useArrow;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}vec2 conicParametricCurve(vec2 A,vec2 B,vec2 ControlPoint,float t,float w){vec2 divident=(1.0-t)*(1.0-t)*A+2.0*(1.0-t)*t*w*ControlPoint+t*t*B;float divisor=(1.0-t)*(1.0-t)+2.0*(1.0-t)*t*w+t*t;return divident/divisor;}void main(){pos=position;vec2 pointTexturePosA=(pointA+0.5)/pointsTextureSize;vec2 pointTexturePosB=(pointB+0.5)/pointsTextureSize;vec4 greyoutStatusA=texture2D(particleGreyoutStatus,pointTexturePosA);vec4 greyoutStatusB=texture2D(particleGreyoutStatus,pointTexturePosB);vec4 pointPositionA=texture2D(positions,pointTexturePosA);vec4 pointPositionB=texture2D(positions,pointTexturePosB);vec2 a=pointPositionA.xy;vec2 b=pointPositionB.xy;vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));float linkDist=length(xBasis);float h=curvedLinkControlPointDistance;vec2 controlPoint=(a+b)/2.0+yBasis*linkDist*h;float linkDistPx=linkDist*transform[0][0];float linkWidth=width*widthScale;float k=2.0;float arrowWidth=max(5.0,linkWidth*k);arrowWidth*=arrowSizeScale;float arrowWidthPx=arrowWidth/transform[0][0];arrowLength=min(0.3,(0.866*arrowWidthPx*2.0)/linkDist);float smoothWidth=2.0;float arrowExtraWidth=arrowWidth-linkWidth;linkWidth+=smoothWidth/2.0;useArrow=arrow;if(useArrow>0.5){linkWidth+=arrowExtraWidth;}smoothWidthRatio=smoothWidth/linkWidth;linkWidthArrowWidthRatio=arrowExtraWidth/linkWidth;float linkWidthPx=linkWidth/transform[0][0];vec3 rgbColor=color.rgb;float opacity=color.a*max(linkVisibilityMinTransparency,map(linkDistPx,linkVisibilityDistanceRange.g,linkVisibilityDistanceRange.r,0.0,1.0));if(greyoutStatusA.r>0.0||greyoutStatusB.r>0.0){opacity*=greyoutOpacity;}rgbaColor=vec4(rgbColor,opacity);float t=position.x;float w=curvedWeight;float tPrev=t-1.0/curvedLinkSegments;float tNext=t+1.0/curvedLinkSegments;vec2 pointCurr=conicParametricCurve(a,b,controlPoint,t,w);vec2 pointPrev=conicParametricCurve(a,b,controlPoint,max(0.0,tPrev),w);vec2 pointNext=conicParametricCurve(a,b,controlPoint,min(tNext,1.0),w);vec2 xBasisCurved=pointNext-pointPrev;vec2 yBasisCurved=normalize(vec2(-xBasisCurved.y,xBasisCurved.x));pointCurr+=yBasisCurved*linkWidthPx*position.y;vec2 p=2.0*pointCurr/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`;const S3=i=>{const e=Ig().exponent(2).range([0,1]).domain([-1,1]),t=qc(0,i).map(n=>-.5+n/i);t.push(.5);const r=new Array(t.length*2);return t.forEach((n,a)=>{r[a*2]=[e(n*2),.5],r[a*2+1]=[e(n*2),-.5]}),r};class E3 extends yn{create(){this.updateColor(),this.updateWidth(),this.updateArrow(),this.updateCurveLineGeometry()}initPrograms(){const{reglInstance:e,config:t,store:r,data:n,points:a}=this,{pointsTextureSize:s}=r,o=[];n.completeLinks.forEach(d=>{const c=n.getSortedIndexById(d.target),u=n.getSortedIndexById(d.source),h=u%s,g=Math.floor(u/s),k=c%s,U=Math.floor(c/s);o.push([h,g]),o.push([k,U])});const l=e.buffer(o);this.drawCurveCommand=e({vert:w3,frag:x3,attributes:{position:{buffer:()=>this.curveLineBuffer,divisor:0},pointA:{buffer:()=>l,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},pointB:{buffer:()=>l,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*2,stride:Float32Array.BYTES_PER_ELEMENT*4},color:{buffer:()=>this.colorBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},width:{buffer:()=>this.widthBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1},arrow:{buffer:()=>this.arrowBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1}},uniforms:{positions:()=>a==null?void 0:a.currentPositionFbo,particleGreyoutStatus:()=>a==null?void 0:a.greyoutStatusFbo,transform:()=>r.transform,pointsTextureSize:()=>r.pointsTextureSize,nodeSizeScale:()=>t.nodeSizeScale,widthScale:()=>t.linkWidthScale,arrowSizeScale:()=>t.linkArrowsSizeScale,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize,ratio:()=>t.pixelRatio,linkVisibilityDistanceRange:()=>t.linkVisibilityDistanceRange,linkVisibilityMinTransparency:()=>t.linkVisibilityMinTransparency,greyoutOpacity:()=>t.linkGreyoutOpacity,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,curvedWeight:()=>t.curvedLinkWeight,curvedLinkControlPointDistance:()=>t.curvedLinkControlPointDistance,curvedLinkSegments:()=>{var d;return t.curvedLinks?(d=t.curvedLinkSegments)!==null&&d!==void 0?d:vt.curvedLinkSegments:1}},cull:{enable:!0,face:"back"},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},count:()=>{var d,c;return(c=(d=this.curveLineGeometry)===null||d===void 0?void 0:d.length)!==null&&c!==void 0?c:0},instances:()=>n.linksNumber,primitive:"triangle strip"})}draw(){var e;!this.colorBuffer||!this.widthBuffer||!this.curveLineBuffer||(e=this.drawCurveCommand)===null||e===void 0||e.call(this)}updateColor(){const{reglInstance:e,config:t,data:r}=this,n=[];r.completeLinks.forEach(a=>{var s;const o=(s=Ms(a,t.linkColor))!==null&&s!==void 0?s:Gg,l=Va(o);n.push(l)}),this.colorBuffer=e.buffer(n)}updateWidth(){const{reglInstance:e,config:t,data:r}=this,n=[];r.completeLinks.forEach(a=>{const s=Ms(a,t.linkWidth);n.push([s!=null?s:Ug])}),this.widthBuffer=e.buffer(n)}updateArrow(){const{reglInstance:e,config:t,data:r}=this,n=[];r.completeLinks.forEach(a=>{var s;const o=(s=Ms(a,t.linkArrows))!==null&&s!==void 0?s:vt.arrowLinks;n.push([o?1:0])}),this.arrowBuffer=e.buffer(n)}updateCurveLineGeometry(){const{reglInstance:e,config:{curvedLinks:t,curvedLinkSegments:r}}=this;this.curveLineGeometry=S3(t?r!=null?r:vt.curvedLinkSegments:1),this.curveLineBuffer=e.buffer(this.curveLineGeometry)}destroy(){Qo(this.colorBuffer),Qo(this.widthBuffer),Qo(this.arrowBuffer),Qo(this.curveLineBuffer)}}function T3(i,e,t,r){var n;if(t===0)return;const a=new Float32Array(t*t*4);for(let o=0;o<i.nodes.length;++o){const l=i.getSortedIndexByInputIndex(o),d=i.nodes[o];if(d&&l!==void 0){const c=(n=Ms(d,r,o))!==null&&n!==void 0?n:Bg,u=Va(c);a[l*4+0]=u[0],a[l*4+1]=u[1],a[l*4+2]=u[2],a[l*4+3]=u[3]}}const s=e.texture({data:a,width:t,height:t,type:"float"});return e.framebuffer({color:s,depth:!1,stencil:!1})}function A3(i,e,t){if(t===0)return;const r=new Float32Array(t*t*4).fill(i?1:0);if(i)for(const a of i)r[a*4]=0;const n=e.texture({data:r,width:t,height:t,type:"float"});return e.framebuffer({color:n,depth:!1,stencil:!1})}var I3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;varying vec3 rgbColor;varying float alpha;const float smoothing=0.9;void main(){if(alpha==0.0){discard;}float r=0.0;float delta=0.0;vec2 cxy=2.0*gl_PointCoord-1.0;r=dot(cxy,cxy);float opacity=alpha*(1.0-smoothstep(smoothing,1.0,r));gl_FragColor=vec4(rgbColor,opacity);}`,k3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 indexes;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform float ratio;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;varying vec3 rgbColor;varying float alpha;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}void main(){index=indexes;vec4 pointPosition=texture2D(positions,(index+0.5)/pointsTextureSize);vec2 point=pointPosition.rg;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);vec4 pSize=texture2D(particleSize,(index+0.5)/pointsTextureSize);float size=pSize.r*sizeScale;vec4 pColor=texture2D(particleColor,(index+0.5)/pointsTextureSize);rgbColor=pColor.rgb;gl_PointSize=pointSize(size);alpha=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,(index+0.5)/pointsTextureSize);if(greyoutStatus.r>0.0){alpha*=greyoutOpacity;}}`,C3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 selection[2];uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}void main(){vec4 pointPosition=texture2D(position,index);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,index);float size=pSize.r*sizeScale;float left=2.0*(selection[0].x-0.5*pointSize(size))/screenSize.x-1.0;float right=2.0*(selection[1].x+0.5*pointSize(size))/screenSize.x-1.0;float top=2.0*(selection[0].y-0.5*pointSize(size))/screenSize.y-1.0;float bottom=2.0*(selection[1].y+0.5*pointSize(size))/screenSize.y-1.0;gl_FragColor=vec4(0.0,0.0,pointPosition.rg);if(final.x>=left&&final.x<=right&&final.y>=top&&final.y<=bottom){gl_FragColor.r=1.0;}}`,L3=`precision mediump float;
#define GLSLIFY 1
uniform vec4 color;uniform float width;varying vec2 pos;varying float particleOpacity;const float smoothing=1.05;void main(){vec2 cxy=pos;float r=dot(cxy,cxy);float opacity=smoothstep(r,r*smoothing,1.0);float stroke=smoothstep(width,width*smoothing,r);gl_FragColor=vec4(color.rgb,opacity*stroke*color.a*particleOpacity);}`,O3=`precision mediump float;
#define GLSLIFY 1
attribute vec2 quad;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform bool scaleNodesOnZoom;uniform float pointIndex;uniform float maxPointSize;uniform vec4 color;uniform float greyoutOpacity;varying vec2 pos;varying float particleOpacity;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*transform[0][0];}else{pSize=size*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}const float relativeRingRadius=1.3;void main(){pos=quad;vec2 ij=vec2(mod(pointIndex,pointsTextureSize),floor(pointIndex/pointsTextureSize))+0.5;vec4 pointPosition=texture2D(positions,ij/pointsTextureSize);vec4 pSize=texture2D(particleSize,ij/pointsTextureSize);vec4 pColor=texture2D(particleColor,ij/pointsTextureSize);particleOpacity=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,ij/pointsTextureSize);if(greyoutStatus.r>0.0){particleOpacity*=greyoutOpacity;}float size=(pointSize(pSize.r*sizeScale)*relativeRingRadius)/transform[0][0];float radius=size*0.5;vec2 a=pointPosition.xy;vec2 b=pointPosition.xy+vec2(0.0,radius);vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));vec2 point=a+xBasis*quad.x+yBasis*radius*quad.y;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`,R3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,P3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 mousePosition;uniform bool scaleNodesOnZoom;uniform float maxPointSize;attribute vec2 indexes;varying vec4 rgba;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize*ratio);}float euclideanDistance(float x1,float x2,float y1,float y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));}void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,indexes/pointsTextureSize);float size=pSize.r*sizeScale;float pointRadius=0.5*pointSize(size);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;rgba=vec4(0.0);gl_Position=vec4(0.5,0.5,0.0,1.0);if(euclideanDistance(pointScreenPosition.x,mousePosition.x,pointScreenPosition.y,mousePosition.y)<pointRadius/ratio){float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,pSize.r,pointPosition.xy);gl_Position=vec4(-0.5,-0.5,0.0,1.0);}gl_PointSize=1.0;}`,F3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,D3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float spaceSize;uniform vec2 screenSize;uniform mat3 transform;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,1.0,pointPosition.xy);float i=(pointScreenPosition.x+0.5)/screenSize.x;float j=(pointScreenPosition.y+0.5)/screenSize.y;gl_Position=vec4(2.0*vec2(i,j)-1.0,0.0,1.0);gl_PointSize=1.0;}`;function N3(i,e,t){const r=Ms(i,e,t);return r!=null?r:$g}function z3(i,e,t,r,n){if(t===0)return;const a=i.nodes.length,s=new Float32Array(t*t*4);for(let l=0;l<a;++l){const d=i.getSortedIndexByInputIndex(l),c=i.nodes[l];if(c&&d!==void 0){const u=N3(c,r,l);s[d*4]=u,n[l]=u}}const o=e.texture({data:s,width:t,height:t,type:"float"});return e.framebuffer({color:o,depth:!1,stencil:!1})}var M3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D velocity;uniform float friction;uniform float spaceSize;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 pointVelocity=texture2D(velocity,index);pointVelocity.rg*=friction;pointPosition.rg+=pointVelocity.rg;pointPosition.r=clamp(pointPosition.r,0.0,spaceSize);pointPosition.g=clamp(pointPosition.g,0.0,spaceSize);gl_FragColor=pointPosition;}`;function B3(i,e){const t=Math.ceil(Math.sqrt(i.length));return e.framebuffer({shape:[t,t],depth:!1,stencil:!1,colorType:"float"})}function $3(i,e,t){const r=Math.ceil(Math.sqrt(i.length));if(r===0)return;const n=new Float32Array(r*r*4).fill(-1);for(const[s,o]of i.entries())o!==void 0&&(n[s*4]=o%e,n[s*4+1]=Math.floor(o/e),n[s*4+2]=0,n[s*4+3]=0);const a=t.texture({data:n,width:r,height:r,type:"float"});return t.framebuffer({color:a,depth:!1,stencil:!1})}var G3=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D trackedIndices;uniform float pointsTextureSize;varying vec2 index;void main(){vec4 trackedPointIndicies=texture2D(trackedIndices,index);if(trackedPointIndicies.r<0.0)discard;vec4 pointPosition=texture2D(position,(trackedPointIndicies.rg+0.5)/pointsTextureSize);gl_FragColor=vec4(pointPosition.rg,1.0,1.0);}`;class U3 extends yn{constructor(){super(...arguments),this.trackedPositionsById=new Map}create(){var e,t;const{reglInstance:r,store:n,data:a,config:s}=this,{pointsTextureSize:o,adjustedSpaceSize:l}=n;if(!o)return;const d=a.nodes.length,c=new Float32Array(o*o*4);s.disableSimulation||this.rescaleInitialNodePositions();for(let u=0;u<d;++u){const h=this.data.getSortedIndexByInputIndex(u),g=a.nodes[u];g&&h!==void 0&&(c[h*4+0]=(e=g.x)!==null&&e!==void 0?e:l*n.getRandomFloat(.495,.505),c[h*4+1]=(t=g.y)!==null&&t!==void 0?t:l*n.getRandomFloat(.495,.505))}this.currentPositionFbo=r.framebuffer({color:r.texture({data:c,shape:[o,o,4],type:"float"}),depth:!1,stencil:!1}),this.config.disableSimulation||(this.previousPositionFbo=r.framebuffer({color:r.texture({data:c,shape:[o,o,4],type:"float"}),depth:!1,stencil:!1}),this.velocityFbo=r.framebuffer({color:r.texture({data:new Float32Array(o*o*4).fill(0),shape:[o,o,4],type:"float"}),depth:!1,stencil:!1})),this.selectedFbo=r.framebuffer({color:r.texture({data:c,shape:[o,o,4],type:"float"}),depth:!1,stencil:!1}),this.hoveredFbo=r.framebuffer({shape:[2,2],colorType:"float",depth:!1,stencil:!1}),this.updateSize(),this.updateColor(),this.updateGreyoutStatus(),this.updateSampledNodesGrid()}initPrograms(){const{reglInstance:e,config:t,store:r,data:n}=this;t.disableSimulation||(this.updatePositionCommand=e({frag:M3,vert:zi,framebuffer:()=>this.currentPositionFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>this.previousPositionFbo,velocity:()=>this.velocityFbo,friction:()=>{var a;return(a=t.simulation)===null||a===void 0?void 0:a.friction},spaceSize:()=>r.adjustedSpaceSize}})),this.drawCommand=e({frag:I3,vert:k3,primitive:"points",count:()=>n.nodes.length,attributes:{indexes:Fa(e,r.pointsTextureSize)},uniforms:{positions:()=>this.currentPositionFbo,particleColor:()=>this.colorFbo,particleGreyoutStatus:()=>this.greyoutStatusFbo,particleSize:()=>this.sizeFbo,ratio:()=>t.pixelRatio,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize,greyoutOpacity:()=>t.nodeGreyoutOpacity,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>r.maxPointSize},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.findPointsOnAreaSelectionCommand=e({frag:C3,vert:zi,framebuffer:()=>this.selectedFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize,sizeScale:()=>t.nodeSizeScale,transform:()=>r.transform,ratio:()=>t.pixelRatio,"selection[0]":()=>r.selectedArea[0],"selection[1]":()=>r.selectedArea[1],scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>r.maxPointSize}}),this.clearHoveredFboCommand=e({frag:Wa,vert:zi,framebuffer:this.hoveredFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)}}),this.findHoveredPointCommand=e({frag:R3,vert:P3,primitive:"points",count:()=>n.nodes.length,framebuffer:()=>this.hoveredFbo,attributes:{indexes:Fa(e,r.pointsTextureSize)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,ratio:()=>t.pixelRatio,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,mousePosition:()=>r.screenMousePosition,maxPointSize:()=>r.maxPointSize},depth:{enable:!1,mask:!1}}),this.clearSampledNodesFboCommand=e({frag:Wa,vert:zi,framebuffer:()=>this.sampledNodesFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)}}),this.fillSampledNodesFboCommand=e({frag:F3,vert:D3,primitive:"points",count:()=>n.nodes.length,framebuffer:()=>this.sampledNodesFbo,attributes:{indexes:Fa(e,r.pointsTextureSize)},uniforms:{position:()=>this.currentPositionFbo,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize},depth:{enable:!1,mask:!1}}),this.drawHighlightedCommand=e({frag:L3,vert:O3,attributes:{quad:Oi(e)},primitive:"triangle strip",count:4,uniforms:{color:e.prop("color"),width:e.prop("width"),pointIndex:e.prop("pointIndex"),positions:()=>this.currentPositionFbo,particleColor:()=>this.colorFbo,particleSize:()=>this.sizeFbo,sizeScale:()=>t.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>r.adjustedSpaceSize,screenSize:()=>r.screenSize,scaleNodesOnZoom:()=>t.scaleNodesOnZoom,maxPointSize:()=>r.maxPointSize,particleGreyoutStatus:()=>this.greyoutStatusFbo,greyoutOpacity:()=>t.nodeGreyoutOpacity},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.trackPointsCommand=e({frag:G3,vert:zi,framebuffer:()=>this.trackedPositionsFbo,primitive:"triangle strip",count:4,attributes:{quad:Oi(e)},uniforms:{position:()=>this.currentPositionFbo,trackedIndices:()=>this.trackedIndicesFbo,pointsTextureSize:()=>r.pointsTextureSize}})}updateColor(){const{reglInstance:e,config:t,store:{pointsTextureSize:r},data:n}=this;r&&(this.colorFbo=T3(n,e,r,t.nodeColor))}updateGreyoutStatus(){const{reglInstance:e,store:t}=this;this.greyoutStatusFbo=A3(t.selectedIndices,e,t.pointsTextureSize)}updateSize(){const{reglInstance:e,config:t,store:{pointsTextureSize:r},data:n}=this;r&&(this.sizeByIndex=new Float32Array(n.nodes.length),this.sizeFbo=z3(n,e,r,t.nodeSize,this.sizeByIndex))}updateSampledNodesGrid(){const{store:{screenSize:e},config:{nodeSamplingDistance:t},reglInstance:r}=this,n=t!=null?t:Math.min(...e)/2,a=Math.ceil(e[0]/n),s=Math.ceil(e[1]/n);ni(this.sampledNodesFbo),this.sampledNodesFbo=r.framebuffer({shape:[a,s],depth:!1,stencil:!1,colorType:"float"})}trackPoints(){var e;!this.trackedIndicesFbo||!this.trackedPositionsFbo||(e=this.trackPointsCommand)===null||e===void 0||e.call(this)}draw(){var e,t,r;const{config:{renderHoveredNodeRing:n,renderHighlightedNodeRing:a},store:s}=this;(e=this.drawCommand)===null||e===void 0||e.call(this),(n!=null?n:a)&&s.hoveredNode&&((t=this.drawHighlightedCommand)===null||t===void 0||t.call(this,{width:.85,color:s.hoveredNodeRingColor,pointIndex:s.hoveredNode.index})),s.focusedNode&&((r=this.drawHighlightedCommand)===null||r===void 0||r.call(this,{width:.75,color:s.focusedNodeRingColor,pointIndex:s.focusedNode.index}))}updatePosition(){var e;(e=this.updatePositionCommand)===null||e===void 0||e.call(this),this.swapFbo()}findPointsOnAreaSelection(){var e;(e=this.findPointsOnAreaSelectionCommand)===null||e===void 0||e.call(this)}findHoveredPoint(){var e,t;(e=this.clearHoveredFboCommand)===null||e===void 0||e.call(this),(t=this.findHoveredPointCommand)===null||t===void 0||t.call(this)}getNodeRadiusByIndex(e){var t;return(t=this.sizeByIndex)===null||t===void 0?void 0:t[e]}trackNodesByIds(e){this.trackedIds=e.length?e:void 0,this.trackedPositionsById.clear();const t=e.map(r=>this.data.getSortedIndexById(r)).filter(r=>r!==void 0);ni(this.trackedIndicesFbo),this.trackedIndicesFbo=void 0,ni(this.trackedPositionsFbo),this.trackedPositionsFbo=void 0,t.length&&(this.trackedIndicesFbo=$3(t,this.store.pointsTextureSize,this.reglInstance),this.trackedPositionsFbo=B3(t,this.reglInstance)),this.trackPoints()}getTrackedPositions(){if(!this.trackedIds)return this.trackedPositionsById;const e=pn(this.reglInstance,this.trackedPositionsFbo);return this.trackedIds.forEach((t,r)=>{const n=e[r*4],a=e[r*4+1];n!==void 0&&a!==void 0&&this.trackedPositionsById.set(t,[n,a])}),this.trackedPositionsById}getSampledNodePositionsMap(){var e,t,r;const n=new Map;if(!this.sampledNodesFbo)return n;(e=this.clearSampledNodesFboCommand)===null||e===void 0||e.call(this),(t=this.fillSampledNodesFboCommand)===null||t===void 0||t.call(this);const a=pn(this.reglInstance,this.sampledNodesFbo);for(let s=0;s<a.length/4;s++){const o=a[s*4],l=!!a[s*4+1],d=a[s*4+2],c=a[s*4+3];if(l&&o!==void 0&&d!==void 0&&c!==void 0){const u=this.data.getInputIndexBySortedIndex(o);if(u!==void 0){const h=(r=this.data.getNodeByIndex(u))===null||r===void 0?void 0:r.id;h!==void 0&&n.set(h,[d,c])}}}return n}destroy(){ni(this.currentPositionFbo),ni(this.previousPositionFbo),ni(this.velocityFbo),ni(this.selectedFbo),ni(this.colorFbo),ni(this.sizeFbo),ni(this.greyoutStatusFbo),ni(this.hoveredFbo),ni(this.trackedIndicesFbo),ni(this.trackedPositionsFbo)}swapFbo(){const e=this.previousPositionFbo;this.previousPositionFbo=this.currentPositionFbo,this.currentPositionFbo=e}rescaleInitialNodePositions(){const{nodes:e}=this.data,{spaceSize:t}=this.config;if(e.length===0)return;const r=e.map(I=>I.x).filter(I=>I!==void 0);if(r.length===0)return;const n=e.map(I=>I.y).filter(I=>I!==void 0);if(n.length===0)return;const[a,s]=Xs(r);if(a===void 0||s===void 0)return;const[o,l]=Xs(n);if(o===void 0||l===void 0)return;const d=s-a,c=l-o,u=Math.max(d,c),h=(u-d)/2,g=(u-c)/2,k=Ua().range([0,t!=null?t:vt.spaceSize]).domain([a-h,s+h]),U=Ua().range([0,t!=null?t:vt.spaceSize]).domain([o-g,l+g]);e.forEach(I=>{I.x=k(I.x),I.y=U(I.y)})}}const Qc=.001,eu=64;class j3{constructor(){this.pointsTextureSize=0,this.linksTextureSize=0,this.alpha=1,this.transform=eS(),this.backgroundColor=[0,0,0,0],this.screenSize=[0,0],this.mousePosition=[0,0],this.screenMousePosition=[0,0],this.selectedArea=[[0,0],[0,0]],this.isSimulationRunning=!1,this.simulationProgress=0,this.selectedIndices=null,this.maxPointSize=eu,this.hoveredNode=void 0,this.focusedNode=void 0,this.adjustedSpaceSize=vt.spaceSize,this.hoveredNodeRingColor=[1,1,1,ZS],this.focusedNodeRingColor=[1,1,1,JS],this.alphaTarget=0,this.scaleNodeX=Ua(),this.scaleNodeY=Ua(),this.random=new Ng,this.alphaDecay=e=>1-Math.pow(Qc,1/e)}addRandomSeed(e){this.random=this.random.clone(e)}getRandomFloat(e,t){return this.random.float(e,t)}adjustSpaceSize(e,t){e>=t?(this.adjustedSpaceSize=t/2,console.warn(`The \`spaceSize\` has been reduced to ${this.adjustedSpaceSize} due to WebGL limits`)):this.adjustedSpaceSize=e}updateScreenSize(e,t){const{adjustedSpaceSize:r}=this;this.screenSize=[e,t],this.scaleNodeX.domain([0,r]).range([(e-r)/2,(e+r)/2]),this.scaleNodeY.domain([r,0]).range([(t-r)/2,(t+r)/2])}scaleX(e){return this.scaleNodeX(e)}scaleY(e){return this.scaleNodeY(e)}setHoveredNodeRingColor(e){const t=Va(e);this.hoveredNodeRingColor[0]=t[0],this.hoveredNodeRingColor[1]=t[1],this.hoveredNodeRingColor[2]=t[2]}setFocusedNodeRingColor(e){const t=Va(e);this.focusedNodeRingColor[0]=t[0],this.focusedNodeRingColor[1]=t[1],this.focusedNodeRingColor[2]=t[2]}setFocusedNode(e,t){e&&t!==void 0?this.focusedNode={node:e,index:t}:this.focusedNode=void 0}addAlpha(e){return(this.alphaTarget-this.alpha)*this.alphaDecay(e)}}class H3{constructor(e,t){this.eventTransform=zs,this.behavior=XS().scaleExtent([.001,1/0]).on("start",r=>{var n,a,s;this.isRunning=!0;const o=!!r.sourceEvent;(s=(a=(n=this.config)===null||n===void 0?void 0:n.events)===null||a===void 0?void 0:a.onZoomStart)===null||s===void 0||s.call(a,r,o)}).on("zoom",r=>{var n,a,s;this.eventTransform=r.transform;const{eventTransform:{x:o,y:l,k:d},store:{transform:c,screenSize:u}}=this,h=u[0],g=u[1];tS(c,h,g),Cm(c,c,[o,l]),_c(c,c,[d,d]),Cm(c,c,[h/2,g/2]),_c(c,c,[h/2,g/2]),_c(c,c,[1,-1]);const k=!!r.sourceEvent;(s=(a=(n=this.config)===null||n===void 0?void 0:n.events)===null||a===void 0?void 0:a.onZoom)===null||s===void 0||s.call(a,r,k)}).on("end",r=>{var n,a,s;this.isRunning=!1;const o=!!r.sourceEvent;(s=(a=(n=this.config)===null||n===void 0?void 0:n.events)===null||a===void 0?void 0:a.onZoomEnd)===null||s===void 0||s.call(a,r,o)}),this.isRunning=!1,this.store=e,this.config=t}getTransform(e,t,r=.1){if(e.length===0)return this.eventTransform;const{store:{screenSize:n}}=this,a=n[0],s=n[1],o=Xs(e.map(O=>O[0])),l=Xs(e.map(O=>O[1]));o[0]=this.store.scaleX(o[0]),o[1]=this.store.scaleX(o[1]),l[0]=this.store.scaleY(l[0]),l[1]=this.store.scaleY(l[1]);const d=a*(1-r*2)/(o[1]-o[0]),c=s*(1-r*2)/(l[0]-l[1]),u=t3(t!=null?t:Math.min(d,c),...this.behavior.scaleExtent()),h=(o[1]+o[0])/2,g=(l[1]+l[0])/2,k=a/2-h*u,U=s/2-g*u;return zs.translate(k,U).scale(u)}getDistanceToPoint(e){const{x:t,y:r,k:n}=this.eventTransform,a=this.getTransform([e],n),s=t-a.x,o=r-a.y;return Math.sqrt(s*s+o*o)}getMiddlePointTransform(e){const{store:{screenSize:t},eventTransform:{x:r,y:n,k:a}}=this,s=t[0],o=t[1],l=(s/2-r)/a,d=(o/2-n)/a,c=this.store.scaleX(e[0]),u=this.store.scaleY(e[1]),h=(l+c)/2,g=(d+u)/2,k=1,U=s/2-h*k,I=o/2-g*k;return zs.translate(U,I).scale(k)}convertScreenToSpacePosition(e){const{eventTransform:{x:t,y:r,k:n},store:{screenSize:a}}=this,s=a[0],o=a[1],l=(e[0]-t)/n,d=(e[1]-r)/n,c=[l,o-d];return c[0]-=(s-this.store.adjustedSpaceSize)/2,c[1]-=(o-this.store.adjustedSpaceSize)/2,c}convertSpaceToScreenPosition(e){const t=this.eventTransform.applyX(this.store.scaleX(e[0])),r=this.eventTransform.applyY(this.store.scaleY(e[1]));return[t,r]}convertSpaceToScreenRadius(e){const{config:{scaleNodesOnZoom:t},store:{maxPointSize:r},eventTransform:{k:n}}=this;let a=e*2;return t?a*=n:a*=Math.min(5,Math.max(1,n*.01)),Math.min(a,r)/2}}class V3{constructor(e,t){var r,n;this.config=new i3,this.graph=new y3,this.requestAnimationFrameId=0,this.isRightClickMouse=!1,this.store=new j3,this.zoomInstance=new H3(this.store,this.config),this.hasParticleSystemDestroyed=!1,this._findHoveredPointExecutionCount=0,this._isMouseOnCanvas=!1,this._isFirstDataAfterInit=!0,t&&this.config.init(t);const a=e.clientWidth,s=e.clientHeight;e.width=a*this.config.pixelRatio,e.height=s*this.config.pixelRatio,e.style.width===""&&e.style.height===""&&hi(e).style("width","100%").style("height","100%"),this.canvas=e,this.canvasD3Selection=hi(e),this.canvasD3Selection.on("mouseenter.cosmos",()=>{this._isMouseOnCanvas=!0}).on("mouseleave.cosmos",()=>{this._isMouseOnCanvas=!1}),this.zoomInstance.behavior.on("start.detect",o=>{this.currentEvent=o}).on("zoom.detect",o=>{!!o.sourceEvent&&this.updateMousePosition(o.sourceEvent),this.currentEvent=o}).on("end.detect",o=>{this.currentEvent=o}),this.canvasD3Selection.call(this.zoomInstance.behavior).on("click",this.onClick.bind(this)).on("mousemove",this.onMouseMove.bind(this)).on("contextmenu",this.onRightClickMouse.bind(this)),this.config.disableZoom&&this.disableZoom(),this.setZoomLevel((r=this.config.initialZoomLevel)!==null&&r!==void 0?r:1),this.reglInstance=q1({canvas:this.canvas,attributes:{antialias:!1,preserveDrawingBuffer:!0},extensions:["OES_texture_float","ANGLE_instanced_arrays"]}),this.store.maxPointSize=((n=this.reglInstance.limits.pointSizeDims[1])!==null&&n!==void 0?n:eu)/this.config.pixelRatio,this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.store.updateScreenSize(a,s),this.points=new U3(this.reglInstance,this.config,this.store,this.graph),this.lines=new E3(this.reglInstance,this.config,this.store,this.graph,this.points),this.config.disableSimulation||(this.forceGravity=new l3(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceCenter=new s3(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceManyBody=this.config.useQuadtree?new m3(this.reglInstance,this.config,this.store,this.graph,this.points):new f3(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkIncoming=new Dm(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkOutgoing=new Dm(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceMouse=new g3(this.reglInstance,this.config,this.store,this.graph,this.points)),this.store.backgroundColor=Va(this.config.backgroundColor),this.config.highlightedNodeRingColor?(this.store.setHoveredNodeRingColor(this.config.highlightedNodeRingColor),this.store.setFocusedNodeRingColor(this.config.highlightedNodeRingColor)):(this.config.hoveredNodeRingColor&&this.store.setHoveredNodeRingColor(this.config.hoveredNodeRingColor),this.config.focusedNodeRingColor&&this.store.setFocusedNodeRingColor(this.config.focusedNodeRingColor)),this.config.showFPSMonitor&&(this.fpsMonitor=new Nm(this.canvas)),this.config.randomSeed!==void 0&&this.store.addRandomSeed(this.config.randomSeed)}get progress(){return this.store.simulationProgress}get isSimulationRunning(){return this.store.isSimulationRunning}get maxPointSize(){return this.store.maxPointSize}setConfig(e){var t,r;const n=on({},this.config);this.config.init(e),n.linkColor!==this.config.linkColor&&this.lines.updateColor(),n.nodeColor!==this.config.nodeColor&&this.points.updateColor(),n.nodeSize!==this.config.nodeSize&&this.points.updateSize(),n.linkWidth!==this.config.linkWidth&&this.lines.updateWidth(),n.linkArrows!==this.config.linkArrows&&this.lines.updateArrow(),(n.curvedLinkSegments!==this.config.curvedLinkSegments||n.curvedLinks!==this.config.curvedLinks)&&this.lines.updateCurveLineGeometry(),n.backgroundColor!==this.config.backgroundColor&&(this.store.backgroundColor=Va(this.config.backgroundColor)),n.highlightedNodeRingColor!==this.config.highlightedNodeRingColor&&(this.store.setHoveredNodeRingColor(this.config.highlightedNodeRingColor),this.store.setFocusedNodeRingColor(this.config.highlightedNodeRingColor)),n.hoveredNodeRingColor!==this.config.hoveredNodeRingColor&&this.store.setHoveredNodeRingColor(this.config.hoveredNodeRingColor),n.focusedNodeRingColor!==this.config.focusedNodeRingColor&&this.store.setFocusedNodeRingColor(this.config.focusedNodeRingColor),(n.spaceSize!==this.config.spaceSize||n.simulation.repulsionQuadtreeLevels!==this.config.simulation.repulsionQuadtreeLevels)&&(this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.resizeCanvas(!0),this.update(this.store.isSimulationRunning)),n.showFPSMonitor!==this.config.showFPSMonitor&&(this.config.showFPSMonitor?this.fpsMonitor=new Nm(this.canvas):((t=this.fpsMonitor)===null||t===void 0||t.destroy(),this.fpsMonitor=void 0)),n.pixelRatio!==this.config.pixelRatio&&(this.store.maxPointSize=((r=this.reglInstance.limits.pointSizeDims[1])!==null&&r!==void 0?r:eu)/this.config.pixelRatio),n.disableZoom!==this.config.disableZoom&&(this.config.disableZoom?this.disableZoom():this.enableZoom())}setData(e,t,r=!0){const{fitViewOnInit:n,fitViewDelay:a,fitViewByNodesInRect:s,initialZoomLevel:o}=this.config;if(!e.length&&!t.length){this.destroyParticleSystem(),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0});return}this.graph.setData(e,t),this._isFirstDataAfterInit&&n&&o===void 0&&(this._fitViewOnInitTimeoutID=window.setTimeout(()=>{s?this.setZoomTransformByNodePositions(s,void 0,void 0,0):this.fitView()},a)),this._isFirstDataAfterInit=!1,this.update(r)}zoomToNodeById(e,t=700,r=Pm,n=!0){const a=this.graph.getNodeById(e);a&&this.zoomToNode(a,t,r,n)}zoomToNodeByIndex(e,t=700,r=Pm,n=!0){const a=this.graph.getNodeByIndex(e);a&&this.zoomToNode(a,t,r,n)}zoom(e,t=0){this.setZoomLevel(e,t)}setZoomLevel(e,t=0){t===0?this.canvasD3Selection.call(this.zoomInstance.behavior.scaleTo,e):this.canvasD3Selection.transition().duration(t).call(this.zoomInstance.behavior.scaleTo,e)}getZoomLevel(){return this.zoomInstance.eventTransform.k}getNodePositions(){if(this.hasParticleSystemDestroyed)return{};const e=pn(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((t,r)=>{const n=this.graph.getSortedIndexById(r.id),a=e[n*4+0],s=e[n*4+1];return a!==void 0&&s!==void 0&&(t[r.id]={x:a,y:s}),t},{})}getNodePositionsMap(){const e=new Map;if(this.hasParticleSystemDestroyed)return e;const t=pn(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((r,n)=>{const a=this.graph.getSortedIndexById(n.id),s=t[a*4+0],o=t[a*4+1];return s!==void 0&&o!==void 0&&r.set(n.id,[s,o]),r},e)}getNodePositionsArray(){const e=[];if(this.hasParticleSystemDestroyed)return[];const t=pn(this.reglInstance,this.points.currentPositionFbo);e.length=this.graph.nodes.length;for(let r=0;r<this.graph.nodes.length;r+=1){const n=this.graph.getSortedIndexByInputIndex(r),a=t[n*4+0],s=t[n*4+1];a!==void 0&&s!==void 0&&(e[r]=[a,s])}return e}fitView(e=250,t=.1){this.setZoomTransformByNodePositions(this.getNodePositionsArray(),e,void 0,t)}fitViewByNodeIds(e,t=250,r=.1){const n=this.getNodePositionsMap(),a=e.map(s=>n.get(s)).filter(s=>s!==void 0);this.setZoomTransformByNodePositions(a,t,void 0,r)}selectNodesInRange(e){if(e){const t=this.store.screenSize[1];this.store.selectedArea=[[e[0][0],t-e[1][1]],[e[1][0],t-e[0][1]]],this.points.findPointsOnAreaSelection();const r=pn(this.reglInstance,this.points.selectedFbo);this.store.selectedIndices=r.map((n,a)=>a%4===0&&n!==0?a/4:-1).filter(n=>n!==-1)}else this.store.selectedIndices=null;this.points.updateGreyoutStatus()}selectNodeById(e,t=!1){var r;if(t){const n=(r=this.graph.getAdjacentNodes(e))!==null&&r!==void 0?r:[];this.selectNodesByIds([e,...n.map(a=>a.id)])}else this.selectNodesByIds([e])}selectNodeByIndex(e,t=!1){const r=this.graph.getNodeByIndex(e);r&&this.selectNodeById(r.id,t)}selectNodesByIds(e){this.selectNodesByIndices(e==null?void 0:e.map(t=>this.graph.getSortedIndexById(t)))}selectNodesByIndices(e){e?e.length===0?this.store.selectedIndices=new Float32Array:this.store.selectedIndices=new Float32Array(e.filter(t=>t!==void 0)):this.store.selectedIndices=null,this.points.updateGreyoutStatus()}unselectNodes(){this.store.selectedIndices=null,this.points.updateGreyoutStatus()}getSelectedNodes(){const{selectedIndices:e}=this.store;if(!e)return null;const t=new Array(e.length);for(const[r,n]of e.entries())if(n!==void 0){const a=this.graph.getInputIndexBySortedIndex(n);a!==void 0&&(t[r]=this.graph.nodes[a])}return t}getAdjacentNodes(e){return this.graph.getAdjacentNodes(e)}setFocusedNodeById(e){e===void 0?this.store.setFocusedNode():this.store.setFocusedNode(this.graph.getNodeById(e),this.graph.getSortedIndexById(e))}setFocusedNodeByIndex(e){e===void 0?this.store.setFocusedNode():this.store.setFocusedNode(this.graph.getNodeByIndex(e),e)}spaceToScreenPosition(e){return this.zoomInstance.convertSpaceToScreenPosition(e)}spaceToScreenRadius(e){return this.zoomInstance.convertSpaceToScreenRadius(e)}getNodeRadiusByIndex(e){return this.points.getNodeRadiusByIndex(e)}getNodeRadiusById(e){const t=this.graph.getInputIndexById(e);if(t!==void 0)return this.points.getNodeRadiusByIndex(t)}trackNodePositionsByIds(e){this.points.trackNodesByIds(e)}trackNodePositionsByIndices(e){this.points.trackNodesByIds(e.map(t=>this.graph.getNodeByIndex(t)).filter(t=>t!==void 0).map(t=>t.id))}getTrackedNodePositionsMap(){return this.points.getTrackedPositions()}getSampledNodePositionsMap(){return this.points.getSampledNodePositionsMap()}start(e=1){var t,r;this.graph.nodes.length&&(this.store.isSimulationRunning=!0,this.store.alpha=e,this.store.simulationProgress=0,(r=(t=this.config.simulation).onStart)===null||r===void 0||r.call(t),this.stopFrames(),this.frame())}pause(){var e,t;this.store.isSimulationRunning=!1,(t=(e=this.config.simulation).onPause)===null||t===void 0||t.call(e)}restart(){var e,t;this.store.isSimulationRunning=!0,(t=(e=this.config.simulation).onRestart)===null||t===void 0||t.call(e)}step(){this.store.isSimulationRunning=!1,this.stopFrames(),this.frame()}destroy(){var e,t;window.clearTimeout(this._fitViewOnInitTimeoutID),this.stopFrames(),this.destroyParticleSystem(),(e=this.fpsMonitor)===null||e===void 0||e.destroy(),(t=document.getElementById("gl-bench-style"))===null||t===void 0||t.remove()}create(){var e,t,r,n;this.points.create(),this.lines.create(),(e=this.forceManyBody)===null||e===void 0||e.create(),(t=this.forceLinkIncoming)===null||t===void 0||t.create(qs.INCOMING),(r=this.forceLinkOutgoing)===null||r===void 0||r.create(qs.OUTGOING),(n=this.forceCenter)===null||n===void 0||n.create(),this.hasParticleSystemDestroyed=!1}destroyParticleSystem(){var e,t,r,n;this.hasParticleSystemDestroyed||(this.points.destroy(),this.lines.destroy(),(e=this.forceCenter)===null||e===void 0||e.destroy(),(t=this.forceLinkIncoming)===null||t===void 0||t.destroy(),(r=this.forceLinkOutgoing)===null||r===void 0||r.destroy(),(n=this.forceManyBody)===null||n===void 0||n.destroy(),this.reglInstance.destroy(),this.hasParticleSystemDestroyed=!0)}update(e){const{graph:t}=this;this.store.pointsTextureSize=Math.ceil(Math.sqrt(t.nodes.length)),this.store.linksTextureSize=Math.ceil(Math.sqrt(t.linksNumber*2)),this.destroyParticleSystem(),this.create(),this.initPrograms(),this.setFocusedNodeById(),this.store.hoveredNode=void 0,e?this.start():this.step()}initPrograms(){var e,t,r,n,a,s;this.points.initPrograms(),this.lines.initPrograms(),(e=this.forceGravity)===null||e===void 0||e.initPrograms(),(t=this.forceLinkIncoming)===null||t===void 0||t.initPrograms(),(r=this.forceLinkOutgoing)===null||r===void 0||r.initPrograms(),(n=this.forceMouse)===null||n===void 0||n.initPrograms(),(a=this.forceManyBody)===null||a===void 0||a.initPrograms(),(s=this.forceCenter)===null||s===void 0||s.initPrograms()}frame(){const{config:{simulation:e,renderLinks:t,disableSimulation:r},store:{alpha:n,isSimulationRunning:a}}=this;n<Qc&&a&&this.end(),this.store.pointsTextureSize&&(this.requestAnimationFrameId=window.requestAnimationFrame(s=>{var o,l,d,c,u,h,g,k,U,I,O,$,R;(o=this.fpsMonitor)===null||o===void 0||o.begin(),this.resizeCanvas(),this.findHoveredPoint(),r||(this.isRightClickMouse&&(a||this.start(.1),(l=this.forceMouse)===null||l===void 0||l.run(),this.points.updatePosition()),a&&!this.zoomInstance.isRunning&&(e.gravity&&((d=this.forceGravity)===null||d===void 0||d.run(),this.points.updatePosition()),e.center&&((c=this.forceCenter)===null||c===void 0||c.run(),this.points.updatePosition()),(u=this.forceManyBody)===null||u===void 0||u.run(),this.points.updatePosition(),this.store.linksTextureSize&&((h=this.forceLinkIncoming)===null||h===void 0||h.run(),this.points.updatePosition(),(g=this.forceLinkOutgoing)===null||g===void 0||g.run(),this.points.updatePosition()),this.store.alpha+=this.store.addAlpha((k=this.config.simulation.decay)!==null&&k!==void 0?k:vt.simulation.decay),this.isRightClickMouse&&(this.store.alpha=Math.max(this.store.alpha,.1)),this.store.simulationProgress=Math.sqrt(Math.min(1,Qc/this.store.alpha)),(I=(U=this.config.simulation).onTick)===null||I===void 0||I.call(U,this.store.alpha,(O=this.store.hoveredNode)===null||O===void 0?void 0:O.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,($=this.store.hoveredNode)===null||$===void 0?void 0:$.position)),this.points.trackPoints()),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0}),t&&this.store.linksTextureSize&&this.lines.draw(),this.points.draw(),(R=this.fpsMonitor)===null||R===void 0||R.end(s),this.currentEvent=void 0,this.frame()}))}stopFrames(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}end(){var e,t;this.store.isSimulationRunning=!1,this.store.simulationProgress=1,(t=(e=this.config.simulation).onEnd)===null||t===void 0||t.call(e)}onClick(e){var t,r,n,a;(r=(t=this.config.events).onClick)===null||r===void 0||r.call(t,(n=this.store.hoveredNode)===null||n===void 0?void 0:n.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(a=this.store.hoveredNode)===null||a===void 0?void 0:a.position,e)}updateMousePosition(e){if(!e||e.offsetX===void 0||e.offsetY===void 0)return;const t=e.offsetX,r=e.offsetY;this.store.mousePosition=this.zoomInstance.convertScreenToSpacePosition([t,r]),this.store.screenMousePosition=[t,this.store.screenSize[1]-r]}onMouseMove(e){var t,r,n,a;this.currentEvent=e,this.updateMousePosition(e),this.isRightClickMouse=e.which===3,(r=(t=this.config.events).onMouseMove)===null||r===void 0||r.call(t,(n=this.store.hoveredNode)===null||n===void 0?void 0:n.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(a=this.store.hoveredNode)===null||a===void 0?void 0:a.position,this.currentEvent)}onRightClickMouse(e){e.preventDefault()}resizeCanvas(e=!1){const t=this.canvas.width,r=this.canvas.height,n=this.canvas.clientWidth,a=this.canvas.clientHeight;if(e||t!==n*this.config.pixelRatio||r!==a*this.config.pixelRatio){const[s,o]=this.store.screenSize,{k:l}=this.zoomInstance.eventTransform,d=this.zoomInstance.convertScreenToSpacePosition([s/2,o/2]);this.store.updateScreenSize(n,a),this.canvas.width=n*this.config.pixelRatio,this.canvas.height=a*this.config.pixelRatio,this.reglInstance.poll(),this.canvasD3Selection.call(this.zoomInstance.behavior.transform,this.zoomInstance.getTransform([d],l)),this.points.updateSampledNodesGrid()}}setZoomTransformByNodePositions(e,t=250,r,n){this.resizeCanvas();const a=this.zoomInstance.getTransform(e,r,n);this.canvasD3Selection.transition().ease(U1).duration(t).call(this.zoomInstance.behavior.transform,a)}zoomToNode(e,t,r,n){const{graph:a,store:{screenSize:s}}=this,o=pn(this.reglInstance,this.points.currentPositionFbo),l=a.getSortedIndexById(e.id);if(l===void 0)return;const d=o[l*4+0],c=o[l*4+1];if(d===void 0||c===void 0)return;const u=this.zoomInstance.getDistanceToPoint([d,c]),h=n?r:Math.max(this.getZoomLevel(),r);if(u<Math.min(s[0],s[1]))this.setZoomTransformByNodePositions([[d,c]],t,h);else{const g=this.zoomInstance.getTransform([[d,c]],h),k=this.zoomInstance.getMiddlePointTransform([d,c]);this.canvasD3Selection.transition().ease($1).duration(t/2).call(this.zoomInstance.behavior.transform,k).transition().ease(G1).duration(t/2).call(this.zoomInstance.behavior.transform,g)}}disableZoom(){this.canvasD3Selection.call(this.zoomInstance.behavior).on("wheel.zoom",null)}enableZoom(){this.canvasD3Selection.call(this.zoomInstance.behavior)}findHoveredPoint(){var e,t,r,n,a;if(!this._isMouseOnCanvas)return;if(this._findHoveredPointExecutionCount<2){this._findHoveredPointExecutionCount+=1;return}this._findHoveredPointExecutionCount=0,this.points.findHoveredPoint();let s=!1,o=!1;const l=pn(this.reglInstance,this.points.hoveredFbo);if(l[1]){const c=l[0],u=this.graph.getInputIndexBySortedIndex(c),h=u!==void 0?this.graph.getNodeByIndex(u):void 0;((e=this.store.hoveredNode)===null||e===void 0?void 0:e.node)!==h&&(s=!0);const g=l[2],k=l[3];this.store.hoveredNode=h&&{node:h,index:c,position:[g,k]}}else this.store.hoveredNode&&(o=!0),this.store.hoveredNode=void 0;s&&this.store.hoveredNode&&((r=(t=this.config.events).onNodeMouseOver)===null||r===void 0||r.call(t,this.store.hoveredNode.node,this.graph.getInputIndexBySortedIndex(this.graph.getSortedIndexById(this.store.hoveredNode.node.id)),this.store.hoveredNode.position,this.currentEvent)),o&&((a=(n=this.config.events).onNodeMouseOut)===null||a===void 0||a.call(n,this.currentEvent))}}function W3(i,e){const[t,r,n,a]=[i.x,i.y+i.height,i.x+i.width,i.y],[s,o,l,d]=[e.x,e.y+e.height,e.x+e.width,e.y];return!(r<d||o<a||n<s||l<t)}const _a=6,ba=9,el=14,tu="css-label--label",qg="css-label--hidden";let As;const X3=()=>{if(As)return;As=document.createElement("style"),As.innerHTML=`
  :root {
    --css-label-background-color: #1e2428;
    --css-label-brightness: brightness(150%);
  }

  .${tu} {
    position: absolute;
    top: 0;
    left: 0;

    font-weight: 500;
    cursor: pointer;
    
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    filter: var(--css-label-brightness);
    pointer-events: none;
    background-color: var(--css-label-background-color);
    font-weight: 700;
    border-radius: 6px;
    
    transition: opacity 600ms;
    opacity: 1;
  }

  .${qg} {
    opacity: 0 !important;
  }
`;const i=document.head.getElementsByTagName("style")[0];i?document.head.insertBefore(As,i):document.head.appendChild(As)};class Yg{constructor(e,t){this.element=document.createElement("div"),this.fontWidthHeightRatio=.6,this._x=0,this._y=0,this._estimatedWidth=0,this._estimatedHeight=0,this._visible=!1,this._prevVisible=!1,this._weight=0,this._customFontSize=el,this._customColor=void 0,this._customOpacity=void 0,this._shouldBeShown=!1,this._text="",this._customPadding={left:ba,top:_a,right:ba,bottom:_a},X3(),this._container=e,this._updateClasses(),t&&this.setText(t),this.resetFontSize(),this.resetPadding()}setText(e){this._text!==e&&(this._text=e,this.element.innerHTML=e,this._measureText())}setPosition(e,t){this._x=e,this._y=t}setStyle(e){if(this._customStyle!==e&&(this._customStyle=e,this.element.style.cssText=this._customStyle,this._customColor&&(this.element.style.color=this._customColor),this._customOpacity&&(this.element.style.opacity=String(this._customOpacity)),this._customPointerEvents&&(this.element.style.pointerEvents=this._customPointerEvents),this._customFontSize&&(this.element.style.fontSize=`${this._customFontSize}px`),this._customPadding)){const{top:t,right:r,bottom:n,left:a}=this._customPadding;this.element.style.padding=`${t}px ${r}px ${n}px ${a}px`}}setClassName(e){this._customClassName!==e&&(this._customClassName=e,this._updateClasses())}setFontSize(e=el){this._customFontSize!==e&&(this.element.style.fontSize=`${e}px`,this._customFontSize=e,this._measureText())}resetFontSize(){this.element.style.fontSize=`${el}px`,this._customFontSize=el,this._measureText()}setColor(e){this._customColor!==e&&(this.element.style.color=e,this._customColor=e)}resetColor(){this.element.style.removeProperty("color"),this._customColor=void 0}setOpacity(e){this._customOpacity!==e&&(this.element.style.opacity=String(e),this._customOpacity=e)}resetOpacity(){this.element.style.removeProperty("opacity"),this._customOpacity=void 0}setPointerEvents(e){this._customPointerEvents!==e&&(this.element.style.pointerEvents=`${e}`,this._customPointerEvents=e)}resetPointerEvents(){this.element.style.removeProperty("pointer-events"),this._customPointerEvents=void 0}setPadding(e={left:ba,top:_a,right:ba,bottom:_a}){(this._customPadding.left!==e.left||this._customPadding.top!==e.top||this._customPadding.right!==e.right||this._customPadding.bottom!==e.bottom)&&(this._customPadding=e,this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._measureText())}resetPadding(){const e={left:ba,top:_a,right:ba,bottom:_a};this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._customPadding=e,this._measureText()}setForceShow(e){this._shouldBeShown=e}getForceShow(){return this._shouldBeShown}draw(){const e=this.getVisibility();e!==this._prevVisible&&(this._prevVisible===!1?this._container.appendChild(this.element):this._container.removeChild(this.element),this._updateClasses(),this._prevVisible=e),e&&(this.element.style.transform=`
        translate(-50%, -100%)
        translate3d(${this._x}px, ${this._y}px, 0)
      `)}overlaps(e){return W3({height:this._estimatedHeight,width:this._estimatedWidth,x:this._x,y:this._y},{height:e._estimatedHeight,width:e._estimatedWidth,x:e._x,y:e._y})}setVisibility(e=!0){this._visible=e}getVisibility(){return this._visible}isOnScreen(){return this._x>0&&this._y>0&&this._x<this._container.offsetWidth&&this._y<this._container.offsetHeight}setWeight(e){this._weight=e}getWeight(){return this._weight}raise(){this._container.appendChild(this.element)}destroy(){this.element.remove()}_updateClasses(){this.getVisibility()?window.requestAnimationFrame(()=>{this.element.className=`${tu} ${this._customClassName||""}`}):this.element.className=`${tu} ${this._customClassName||""} ${qg}`}_measureText(){const{left:e,top:t,right:r,bottom:n}=this._customPadding;this._estimatedWidth=this._customFontSize*this.fontWidthHeightRatio*this.element.innerHTML.length+e+r,this._estimatedHeight=this._customFontSize+t+n}}const ml="css-label--labels-container",Kg="css-label--labels-container-hidden";let Is;const q3=()=>{if(Is)return;Is=document.createElement("style"),Is.innerHTML=`
  .${ml} {
    transition: opacity 100ms;
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    top: 0%;
    pointer-events: none;
    opacity: 1;
  }
  .${Kg} {
    opacity: 0;

    div {
      pointer-events: none;
    }
  }
`;const i=document.head.getElementsByTagName("style")[0];i?document.head.insertBefore(Is,i):document.head.appendChild(Is)};class Y3{constructor(e,t){this._cssLabels=new Map,this._elementToData=new Map,q3(),this._container=e,e.addEventListener("click",this._onClick.bind(this)),this._container.className=ml,t!=null&&t.onLabelClick&&(this._onClickCallback=t.onLabelClick),t!=null&&t.padding&&(this._padding=t.padding),t!=null&&t.pointerEvents&&(this._pointerEvents=t.pointerEvents),t!=null&&t.dispatchWheelEventElement&&(this._dispatchWheelEventElement=t.dispatchWheelEventElement,this._container.addEventListener("wheel",this._onWheel.bind(this)))}setLabels(e){const t=new Map(this._cssLabels);e.forEach(r=>{const{x:n,y:a,fontSize:s,color:o,text:l,weight:d,opacity:c,shouldBeShown:u,style:h,className:g}=r;if(t.get(r.id))t.delete(r.id);else{const I=new Yg(this._container,r.text);this._cssLabels.set(r.id,I),this._elementToData.set(I.element,r)}const U=this._cssLabels.get(r.id);U&&(U.setText(l),U.setPosition(n,a),h!==void 0&&U.setStyle(h),d!==void 0&&U.setWeight(d),s!==void 0&&U.setFontSize(s),o!==void 0&&U.setColor(o),this._padding!==void 0&&U.setPadding(this._padding),this._pointerEvents!==void 0&&U.setPointerEvents(this._pointerEvents),c!==void 0&&U.setOpacity(c),u!==void 0&&U.setForceShow(u),g!==void 0&&U.setClassName(g))});for(const[r]of t){const n=this._cssLabels.get(r);n&&(this._elementToData.delete(n.element),n.destroy()),this._cssLabels.delete(r)}}draw(e=!0){e&&this._intersectLabels(),this._cssLabels.forEach(t=>t.draw())}show(){this._container.className=ml}hide(){this._container.className=`${ml} ${Kg}`}destroy(){this._container.removeEventListener("click",this._onClick.bind(this)),this._container.removeEventListener("wheel",this._onWheel.bind(this)),this._cssLabels.forEach(e=>e.destroy())}_onClick(e){var t;const r=this._elementToData.get(e.target);r&&((t=this._onClickCallback)===null||t===void 0||t.call(this,e,r))}_onWheel(e){var t;e.preventDefault();const r=new WheelEvent("wheel",e);(t=this._dispatchWheelEventElement)===null||t===void 0||t.dispatchEvent(r)}_intersectLabels(){const e=Array.from(this._cssLabels.values());e.forEach(t=>t.setVisibility(t.isOnScreen()));for(let t=0;t<e.length;t+=1){const r=e[t];if(r.getVisibility())for(let n=t+1;n<e.length;n+=1){const a=e[n];if(!a.getVisibility())continue;if(r.overlaps(a)){a.getWeight()>r.getWeight()?r.setVisibility(a.getForceShow()?!1:r.getForceShow()):a.setVisibility(r.getForceShow()?!1:a.getForceShow());continue}}}}}var Hn=[],K3=function(){return Hn.some(function(i){return i.activeTargets.length>0})},Z3=function(){return Hn.some(function(i){return i.skippedTargets.length>0})},zm="ResizeObserver loop completed with undelivered notifications.",J3=function(){var i;typeof ErrorEvent=="function"?i=new ErrorEvent("error",{message:zm}):(i=document.createEvent("Event"),i.initEvent("error",!1,!1),i.message=zm),window.dispatchEvent(i)},Ys;(function(i){i.BORDER_BOX="border-box",i.CONTENT_BOX="content-box",i.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ys||(Ys={}));var Vn=function(i){return Object.freeze(i)},Q3=function(){function i(e,t){this.inlineSize=e,this.blockSize=t,Vn(this)}return i}(),Zg=function(){function i(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Vn(this)}return i.prototype.toJSON=function(){var e=this,t=e.x,r=e.y,n=e.top,a=e.right,s=e.bottom,o=e.left,l=e.width,d=e.height;return{x:t,y:r,top:n,right:a,bottom:s,left:o,width:l,height:d}},i.fromRect=function(e){return new i(e.x,e.y,e.width,e.height)},i}(),Mu=function(i){return i instanceof SVGElement&&"getBBox"in i},Jg=function(i){if(Mu(i)){var e=i.getBBox(),t=e.width,r=e.height;return!t&&!r}var n=i,a=n.offsetWidth,s=n.offsetHeight;return!(a||s||i.getClientRects().length)},Mm=function(i){var e;if(i instanceof Element)return!0;var t=(e=i==null?void 0:i.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(t&&i instanceof t.Element)},eE=function(i){switch(i.tagName){case"INPUT":if(i.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Bs=typeof window!="undefined"?window:{},tl=new WeakMap,Bm=/auto|scroll/,tE=/^tb|vertical/,iE=/msie|trident/i.test(Bs.navigator&&Bs.navigator.userAgent),_r=function(i){return parseFloat(i||"0")},Da=function(i,e,t){return i===void 0&&(i=0),e===void 0&&(e=0),t===void 0&&(t=!1),new Q3((t?e:i)||0,(t?i:e)||0)},$m=Vn({devicePixelContentBoxSize:Da(),borderBoxSize:Da(),contentBoxSize:Da(),contentRect:new Zg(0,0,0,0)}),Qg=function(i,e){if(e===void 0&&(e=!1),tl.has(i)&&!e)return tl.get(i);if(Jg(i))return tl.set(i,$m),$m;var t=getComputedStyle(i),r=Mu(i)&&i.ownerSVGElement&&i.getBBox(),n=!iE&&t.boxSizing==="border-box",a=tE.test(t.writingMode||""),s=!r&&Bm.test(t.overflowY||""),o=!r&&Bm.test(t.overflowX||""),l=r?0:_r(t.paddingTop),d=r?0:_r(t.paddingRight),c=r?0:_r(t.paddingBottom),u=r?0:_r(t.paddingLeft),h=r?0:_r(t.borderTopWidth),g=r?0:_r(t.borderRightWidth),k=r?0:_r(t.borderBottomWidth),U=r?0:_r(t.borderLeftWidth),I=u+d,O=l+c,$=U+g,R=h+k,T=o?i.offsetHeight-R-i.clientHeight:0,B=s?i.offsetWidth-$-i.clientWidth:0,ee=n?I+$:0,re=n?O+R:0,Se=r?r.width:_r(t.width)-ee-B,Te=r?r.height:_r(t.height)-re-T,Ke=Se+I+B+$,fe=Te+O+T+R,Ge=Vn({devicePixelContentBoxSize:Da(Math.round(Se*devicePixelRatio),Math.round(Te*devicePixelRatio),a),borderBoxSize:Da(Ke,fe,a),contentBoxSize:Da(Se,Te,a),contentRect:new Zg(u,l,Se,Te)});return tl.set(i,Ge),Ge},e0=function(i,e,t){var r=Qg(i,t),n=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case Ys.DEVICE_PIXEL_CONTENT_BOX:return s;case Ys.BORDER_BOX:return n;default:return a}},rE=function(){function i(e){var t=Qg(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Vn([t.borderBoxSize]),this.contentBoxSize=Vn([t.contentBoxSize]),this.devicePixelContentBoxSize=Vn([t.devicePixelContentBoxSize])}return i}(),t0=function(i){if(Jg(i))return 1/0;for(var e=0,t=i.parentNode;t;)e+=1,t=t.parentNode;return e},nE=function(){var i=1/0,e=[];Hn.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(d){var c=new rE(d.target),u=t0(d.target);o.push(c),d.lastReportedSize=e0(d.target,d.observedBox),u<i&&(i=u)}),e.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,r=e;t<r.length;t++){var n=r[t];n()}return i},Gm=function(i){Hn.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(t0(n.target)>i?t.activeTargets.push(n):t.skippedTargets.push(n))})})},aE=function(){var i=0;for(Gm(i);K3();)i=nE(),Gm(i);return Z3()&&J3(),i>0},yc,i0=[],sE=function(){return i0.splice(0).forEach(function(i){return i()})},oE=function(i){if(!yc){var e=0,t=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return sE()}).observe(t,r),yc=function(){t.textContent="".concat(e?e--:e++)}}i0.push(i),yc()},lE=function(i){oE(function(){requestAnimationFrame(i)})},pl=0,dE=function(){return!!pl},cE=250,uE={attributes:!0,characterData:!0,childList:!0,subtree:!0},Um=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],jm=function(i){return i===void 0&&(i=0),Date.now()+i},xc=!1,fE=function(){function i(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return i.prototype.run=function(e){var t=this;if(e===void 0&&(e=cE),!xc){xc=!0;var r=jm(e);lE(function(){var n=!1;try{n=aE()}finally{if(xc=!1,e=r-jm(),!dE())return;n?t.run(1e3):e>0?t.run(e):t.start()}})}},i.prototype.schedule=function(){this.stop(),this.run()},i.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,uE)};document.body?t():Bs.addEventListener("DOMContentLoaded",t)},i.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Um.forEach(function(t){return Bs.addEventListener(t,e.listener,!0)}))},i.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Um.forEach(function(t){return Bs.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},i}(),iu=new fE,Hm=function(i){!pl&&i>0&&iu.start(),pl+=i,!pl&&iu.stop()},hE=function(i){return!Mu(i)&&!eE(i)&&getComputedStyle(i).display==="inline"},mE=function(){function i(e,t){this.target=e,this.observedBox=t||Ys.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return i.prototype.isActive=function(){var e=e0(this.target,this.observedBox,!0);return hE(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},i}(),pE=function(){function i(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}return i}(),il=new WeakMap,Vm=function(i,e){for(var t=0;t<i.length;t+=1)if(i[t].target===e)return t;return-1},rl=function(){function i(){}return i.connect=function(e,t){var r=new pE(e,t);il.set(e,r)},i.observe=function(e,t,r){var n=il.get(e),a=n.observationTargets.length===0;Vm(n.observationTargets,t)<0&&(a&&Hn.push(n),n.observationTargets.push(new mE(t,r&&r.box)),Hm(1),iu.schedule())},i.unobserve=function(e,t){var r=il.get(e),n=Vm(r.observationTargets,t),a=r.observationTargets.length===1;n>=0&&(a&&Hn.splice(Hn.indexOf(r),1),r.observationTargets.splice(n,1),Hm(-1))},i.disconnect=function(e){var t=this,r=il.get(e);r.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),r.activeTargets.splice(0,r.activeTargets.length)},i}(),Wm=function(){function i(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");rl.connect(this,e)}return i.prototype.observe=function(e,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Mm(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");rl.observe(this,e,t)},i.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Mm(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");rl.unobserve(this,e)},i.prototype.disconnect=function(){rl.disconnect(this)},i.toString=function(){return"function ResizeObserver () { [polyfill code] }"},i}();function gE(i){return i}var vE=3,Xm=1e-6;function _E(i){return"translate("+i+",0)"}function bE(i){return e=>+i(e)}function yE(i,e){return e=Math.max(0,i.bandwidth()-e*2)/2,i.round()&&(e=Math.round(e)),t=>+i(t)+e}function xE(){return!this.__axis}function wE(i,e){var t=[],r=null,n=null,a=6,s=6,o=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,d=1,c="y",u=_E;function h(g){var k=r==null?e.ticks?e.ticks.apply(e,t):e.domain():r,U=n==null?e.tickFormat?e.tickFormat.apply(e,t):gE:n,I=Math.max(a,0)+o,O=e.range(),$=+O[0]+l,R=+O[O.length-1]+l,T=(e.bandwidth?yE:bE)(e.copy(),l),B=g.selection?g.selection():g,ee=B.selectAll(".domain").data([null]),re=B.selectAll(".tick").data(k,e).order(),Se=re.exit(),Te=re.enter().append("g").attr("class","tick"),Ke=re.select("line"),fe=re.select("text");ee=ee.merge(ee.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),re=re.merge(Te),Ke=Ke.merge(Te.append("line").attr("stroke","currentColor").attr(c+"2",d*a)),fe=fe.merge(Te.append("text").attr("fill","currentColor").attr(c,d*I).attr("dy","0.71em")),g!==B&&(ee=ee.transition(g),re=re.transition(g),Ke=Ke.transition(g),fe=fe.transition(g),Se=Se.transition(g).attr("opacity",Xm).attr("transform",function(Ge){return isFinite(Ge=T(Ge))?u(Ge+l):this.getAttribute("transform")}),Te.attr("opacity",Xm).attr("transform",function(Ge){var He=this.parentNode.__axis;return u((He&&isFinite(He=He(Ge))?He:T(Ge))+l)})),Se.remove(),ee.attr("d",s?"M"+$+","+d*s+"V"+l+"H"+R+"V"+d*s:"M"+$+","+l+"H"+R),re.attr("opacity",1).attr("transform",function(Ge){return u(T(Ge)+l)}),Ke.attr(c+"2",d*a),fe.attr(c,d*I).text(U),B.filter(xE).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),B.each(function(){this.__axis=T})}return h.scale=function(g){return arguments.length?(e=g,h):e},h.ticks=function(){return t=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(t=g==null?[]:Array.from(g),h):t.slice()},h.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(n=g,h):n},h.tickSize=function(g){return arguments.length?(a=s=+g,h):a},h.tickSizeInner=function(g){return arguments.length?(a=+g,h):a},h.tickSizeOuter=function(g){return arguments.length?(s=+g,h):s},h.tickPadding=function(g){return arguments.length?(o=+g,h):o},h.offset=function(g){return arguments.length?(l=+g,h):l},h}function qm(i){return wE(vE,i)}const wc=i=>()=>i;function SE(i,{sourceEvent:e,target:t,selection:r,mode:n,dispatch:a}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function EE(i){i.stopImmediatePropagation()}function Sc(i){i.preventDefault(),i.stopImmediatePropagation()}var Ym={name:"drag"},Ec={name:"space"},ya={name:"handle"},xa={name:"center"};const{abs:Km,max:Fi,min:Di}=Math;function Zm(i){return[+i[0],+i[1]]}function Jm(i){return[Zm(i[0]),Zm(i[1])]}var gl={name:"x",handles:["w","e"].map(Rl),input:function(i,e){return i==null?null:[[+i[0],e[0][1]],[+i[1],e[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},Tc={name:"y",handles:["n","s"].map(Rl),input:function(i,e){return i==null?null:[[e[0][0],+i[0]],[e[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},Mr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qm={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ep={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},TE={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},AE={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Rl(i){return{type:i}}function IE(i){return!i.ctrlKey&&!i.button}function kE(){var i=this.ownerSVGElement||this;return i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]}function CE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ac(i){for(;!i.__brush;)if(!(i=i.parentNode))return;return i.__brush}function LE(i){return i[0][0]===i[1][0]||i[0][1]===i[1][1]}function OE(){return RE(gl)}function RE(i){var e=kE,t=IE,r=CE,n=!0,a=$l("start","brush","end"),s=6,o;function l(I){var O=I.property("__brush",U).selectAll(".overlay").data([Rl("overlay")]);O.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mr.overlay).merge(O).each(function(){var R=Ac(this).extent;hi(this).attr("x",R[0][0]).attr("y",R[0][1]).attr("width",R[1][0]-R[0][0]).attr("height",R[1][1]-R[0][1])}),I.selectAll(".selection").data([Rl("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $=I.selectAll(".handle").data(i.handles,function(R){return R.type});$.exit().remove(),$.enter().append("rect").attr("class",function(R){return"handle handle--"+R.type}).attr("cursor",function(R){return Mr[R.type]}),I.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(I,O,$){I.tween?I.on("start.brush",function(R){c(this,arguments).beforestart().start(R)}).on("interrupt.brush end.brush",function(R){c(this,arguments).end(R)}).tween("brush",function(){var R=this,T=R.__brush,B=c(R,arguments),ee=T.selection,re=i.input(typeof O=="function"?O.apply(this,arguments):O,T.extent),Se=jl(ee,re);function Te(Ke){T.selection=Ke===1&&re===null?null:Se(Ke),d.call(R),B.brush()}return ee!==null&&re!==null?Te:Te(1)}):I.each(function(){var R=this,T=arguments,B=R.__brush,ee=i.input(typeof O=="function"?O.apply(R,T):O,B.extent),re=c(R,T).beforestart();Ra(R),B.selection=ee===null?null:ee,d.call(R),re.start($).brush($).end($)})},l.clear=function(I,O){l.move(I,null,O)};function d(){var I=hi(this),O=Ac(this).selection;O?(I.selectAll(".selection").style("display",null).attr("x",O[0][0]).attr("y",O[0][1]).attr("width",O[1][0]-O[0][0]).attr("height",O[1][1]-O[0][1]),I.selectAll(".handle").style("display",null).attr("x",function($){return $.type[$.type.length-1]==="e"?O[1][0]-s/2:O[0][0]-s/2}).attr("y",function($){return $.type[0]==="s"?O[1][1]-s/2:O[0][1]-s/2}).attr("width",function($){return $.type==="n"||$.type==="s"?O[1][0]-O[0][0]+s:s}).attr("height",function($){return $.type==="e"||$.type==="w"?O[1][1]-O[0][1]+s:s})):I.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(I,O,$){var R=I.__brush.emitter;return R&&(!$||!R.clean)?R:new u(I,O,$)}function u(I,O,$){this.that=I,this.args=O,this.state=I.__brush,this.active=0,this.clean=$}u.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(I,O){return this.starting?(this.starting=!1,this.emit("start",I,O)):this.emit("brush",I),this},brush:function(I,O){return this.emit("brush",I,O),this},end:function(I,O){return--this.active===0&&(delete this.state.emitter,this.emit("end",I,O)),this},emit:function(I,O,$){var R=hi(this.that).datum();a.call(I,this.that,new SE(I,{sourceEvent:O,target:l,selection:i.output(this.state.selection),mode:$,dispatch:a}),R)}};function h(I){if(o&&!I.touches||!t.apply(this,arguments))return;var O=this,$=I.target.__data__.type,R=(n&&I.metaKey?$="overlay":$)==="selection"?Ym:n&&I.altKey?xa:ya,T=i===Tc?null:TE[$],B=i===gl?null:AE[$],ee=Ac(O),re=ee.extent,Se=ee.selection,Te=re[0][0],Ke,fe,Ge=re[0][1],He,z,we=re[1][0],K,ne,qe=re[1][1],Oe,Xe,it=0,rt=0,Bt,Tt=T&&B&&n&&I.shiftKey,Ct,Rt,wt=Array.from(I.touches||[I],at=>{const bt=at.identifier;return at=Br(at,O),at.point0=at.slice(),at.identifier=bt,at});Ra(O);var $t=c(O,arguments,!0).beforestart();if($==="overlay"){Se&&(Bt=!0);const at=[wt[0],wt[1]||wt[0]];ee.selection=Se=[[Ke=i===Tc?Te:Di(at[0][0],at[1][0]),He=i===gl?Ge:Di(at[0][1],at[1][1])],[K=i===Tc?we:Fi(at[0][0],at[1][0]),Oe=i===gl?qe:Fi(at[0][1],at[1][1])]],wt.length>1&&Mt(I)}else Ke=Se[0][0],He=Se[0][1],K=Se[1][0],Oe=Se[1][1];fe=Ke,z=He,ne=K,Xe=Oe;var Ve=hi(O).attr("pointer-events","none"),dt=Ve.selectAll(".overlay").attr("cursor",Mr[$]);if(I.touches)$t.moved=be,$t.ended=Lt;else{var gt=hi(I.view).on("mousemove.brush",be,!0).on("mouseup.brush",Lt,!0);n&&gt.on("keydown.brush",ai,!0).on("keyup.brush",si,!0),zg(I.view)}d.call(O),$t.start(I,R.name);function be(at){for(const bt of at.changedTouches||[at])for(const tr of wt)tr.identifier===bt.identifier&&(tr.cur=Br(bt,O));if(Tt&&!Ct&&!Rt&&wt.length===1){const bt=wt[0];Km(bt.cur[0]-bt[0])>Km(bt.cur[1]-bt[1])?Rt=!0:Ct=!0}for(const bt of wt)bt.cur&&(bt[0]=bt.cur[0],bt[1]=bt.cur[1]);Bt=!0,Sc(at),Mt(at)}function Mt(at){const bt=wt[0],tr=bt.point0;var Mi;switch(it=bt[0]-tr[0],rt=bt[1]-tr[1],R){case Ec:case Ym:{T&&(it=Fi(Te-Ke,Di(we-K,it)),fe=Ke+it,ne=K+it),B&&(rt=Fi(Ge-He,Di(qe-Oe,rt)),z=He+rt,Xe=Oe+rt);break}case ya:{wt[1]?(T&&(fe=Fi(Te,Di(we,wt[0][0])),ne=Fi(Te,Di(we,wt[1][0])),T=1),B&&(z=Fi(Ge,Di(qe,wt[0][1])),Xe=Fi(Ge,Di(qe,wt[1][1])),B=1)):(T<0?(it=Fi(Te-Ke,Di(we-Ke,it)),fe=Ke+it,ne=K):T>0&&(it=Fi(Te-K,Di(we-K,it)),fe=Ke,ne=K+it),B<0?(rt=Fi(Ge-He,Di(qe-He,rt)),z=He+rt,Xe=Oe):B>0&&(rt=Fi(Ge-Oe,Di(qe-Oe,rt)),z=He,Xe=Oe+rt));break}case xa:{T&&(fe=Fi(Te,Di(we,Ke-it*T)),ne=Fi(Te,Di(we,K+it*T))),B&&(z=Fi(Ge,Di(qe,He-rt*B)),Xe=Fi(Ge,Di(qe,Oe+rt*B)));break}}ne<fe&&(T*=-1,Mi=Ke,Ke=K,K=Mi,Mi=fe,fe=ne,ne=Mi,$ in Qm&&dt.attr("cursor",Mr[$=Qm[$]])),Xe<z&&(B*=-1,Mi=He,He=Oe,Oe=Mi,Mi=z,z=Xe,Xe=Mi,$ in ep&&dt.attr("cursor",Mr[$=ep[$]])),ee.selection&&(Se=ee.selection),Ct&&(fe=Se[0][0],ne=Se[1][0]),Rt&&(z=Se[0][1],Xe=Se[1][1]),(Se[0][0]!==fe||Se[0][1]!==z||Se[1][0]!==ne||Se[1][1]!==Xe)&&(ee.selection=[[fe,z],[ne,Xe]],d.call(O),$t.brush(at,R.name))}function Lt(at){if(EE(at),at.touches){if(at.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Mg(at.view,Bt),gt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ve.attr("pointer-events","all"),dt.attr("cursor",Mr.overlay),ee.selection&&(Se=ee.selection),LE(Se)&&(ee.selection=null,d.call(O)),$t.end(at,R.name)}function ai(at){switch(at.keyCode){case 16:{Tt=T&&B;break}case 18:{R===ya&&(T&&(K=ne-it*T,Ke=fe+it*T),B&&(Oe=Xe-rt*B,He=z+rt*B),R=xa,Mt(at));break}case 32:{(R===ya||R===xa)&&(T<0?K=ne-it:T>0&&(Ke=fe-it),B<0?Oe=Xe-rt:B>0&&(He=z-rt),R=Ec,dt.attr("cursor",Mr.selection),Mt(at));break}default:return}Sc(at)}function si(at){switch(at.keyCode){case 16:{Tt&&(Ct=Rt=Tt=!1,Mt(at));break}case 18:{R===xa&&(T<0?K=ne:T>0&&(Ke=fe),B<0?Oe=Xe:B>0&&(He=z),R=ya,Mt(at));break}case 32:{R===Ec&&(at.altKey?(T&&(K=ne-it*T,Ke=fe+it*T),B&&(Oe=Xe-rt*B,He=z+rt*B),R=xa):(T<0?K=ne:T>0&&(Ke=fe),B<0?Oe=Xe:B>0&&(He=z),R=ya),dt.attr("cursor",Mr[$]),Mt(at));break}default:return}Sc(at)}}function g(I){c(this,arguments).moved(I)}function k(I){c(this,arguments).ended(I)}function U(){var I=this.__brush||{selection:null};return I.extent=Jm(e.apply(this,arguments)),I.dim=i,I}return l.extent=function(I){return arguments.length?(e=typeof I=="function"?I:wc(Jm(I)),l):e},l.filter=function(I){return arguments.length?(t=typeof I=="function"?I:wc(!!I),l):t},l.touchable=function(I){return arguments.length?(r=typeof I=="function"?I:wc(!!I),l):r},l.handleSize=function(I){return arguments.length?(s=+I,l):s},l.keyModifiers=function(I){return arguments.length?(n=!!I,l):n},l.on=function(){var I=a.on.apply(a,arguments);return I===a?l:I},l}const PE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>',FE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>',DE=Tr(".%L"),NE=Tr(":%S"),zE=Tr("%I:%M"),ME=Tr("%I %p"),BE=Tr("%a %d"),$E=Tr("%b %d"),GE=Tr("%b"),UE=Tr("%Y"),jE=i=>{const e=new Date(i);return(Gn(e)<e?DE:Wl(e)<e?NE:Xl(e)<e?zE:Ja(e)<e?ME:ql(e)<e?io(e)<e?BE:$E:wr(e)<e?GE:UE)(e)},HE=i=>typeof i=="function",VE=i=>Array.isArray(i),WE=i=>i instanceof Object,Pl=i=>i.constructor.name!=="Function"&&i.constructor.name!=="Object",ru=i=>WE(i)&&!VE(i)&&!HE(i)&&!Pl(i),Fl=(i,e=new Map)=>{if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i.getTime());if(i instanceof Array){const t=[];e.set(i,t);for(const r of i)t.push(e.has(r)?e.get(r):Fl(r,e));return i}if(Pl(i))return i;if(i instanceof Object){const t={};e.set(i,t);const r=i;return Object.keys(i).reduce((n,a)=>(n[a]=e.has(r[a])?e.get(r[a]):Fl(r[a],e),n),t),t}return i},Xa=(i,e,t=new Map)=>{const r=Pl(i)?i:Fl(i);return i===e?i:t.has(e)?t.get(e):(t.set(e,r),Object.keys(e).forEach(n=>{ru(i[n])&&ru(e[n])?r[n]=Xa(i[n],e[n],t):Pl(e)?r[n]=e:r[n]=Fl(e[n])}),r)},XE=(i,e,t)=>i>=+e&&+i<=+t,qE=(i,e)=>{const[t,r]=e,n=Array.from(i.keys());let a=0;return n.forEach(s=>{var o;XE(+s,+t,+r)&&(a+=(o=i.get(s))!==null&&o!==void 0?o:0)}),a},YE=i=>{const e=getComputedStyle(i);let t=i.clientWidth,r=i.clientHeight;return r-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),{height:r,width:t}};let KE=class{init(e){const t=this;return Object.keys(e).forEach(r=>{ru(t[r])?t[r]=Xa(t[r],e[r]):t[r]=e[r]}),this}};const ZE={top:1,left:0,bottom:1,right:0};let tp=class extends KE{constructor(){super(...arguments),this.allowSelection=!0,this.showAnimationControls=!1,this.animationSpeed=50,this.padding=ZE,this.axisTickHeight=25,this.selectionRadius=3,this.selectionPadding=8,this.barCount=100,this.barRadius=1,this.barPadding=.1,this.barTopMargin=3,this.minBarHeight=1,this.dataStep=void 0,this.tickStep=void 0,this.formatter=jE,this.events={onBrush:void 0,onBarHover:void 0,onAnimationPlay:void 0,onAnimationPause:void 0}}};var ip=[],ks=[];function ro(i,e){if(i&&typeof document!="undefined"){var t,r=e.prepend===!0?"prepend":"append",n=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var s=ip.indexOf(a);s===-1&&(s=ip.push(a)-1,ks[s]={}),t=ks[s]&&ks[s][r]?ks[s][r]:ks[s][r]=o()}else t=o();i.charCodeAt(0)===65279&&(i=i.substring(1)),t.styleSheet?t.styleSheet.cssText+=i:t.appendChild(document.createTextNode(i))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var d=Object.keys(e.attributes),c=0;c<d.length;c++)l.setAttribute(d[c],e.attributes[d[c]]);var u=r==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(u,l),l}}var JE=":root{--cosmograph-timeline-text-color:#fff;--cosmograph-timeline-axis-color:#fff;--cosmograph-timeline-selection-color:#777;--cosmograph-timeline-selection-opacity:0.5;--cosmograph-timeline-bar-color:#7a7a7a;--cosmograph-timeline-font-family:inherit;--cosmograph-timeline-font-size:11px;--cosmograph-timeline-background:#222}.style_module_timeline__f90332e1{background:var(--cosmograph-timeline-background);display:flex;overflow:hidden;position:relative;width:100%}.style_module_timelineSvg__f90332e1{height:100%;position:relative;width:100%}.style_module_selection__f90332e1{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__f90332e1{text-anchor:initial;alignment-baseline:text-before-edge;color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);font-weight:400;opacity:.7;user-select:none}.style_module_axisLine__f90332e1{color:var(--cosmograph-timeline-axis-color);opacity:.2}.style_module_bar__f90332e1{fill:var(--cosmograph-timeline-bar-color);opacity:0;transform:scaleY(-1)}.style_module_noData__f90332e1{height:100%;position:absolute;top:0;width:100%}.style_module_noData__f90332e1 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-timeline-font-size) + 5px);font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}.style_module_animationControl__f90332e1{align-items:center;color:var(--cosmograph-timeline-axis-color);cursor:pointer;display:flex;height:100%;justify-content:center;max-width:30px;min-width:20px;opacity:.5;position:relative;user-select:none;width:6%}.style_module_animationControl__f90332e1>svg{max-height:20px;padding-right:2px;width:50%}.style_module_hidden__f90332e1{display:none}.style_module_disabled__f90332e1{opacity:.2;pointer-events:none}",zt={timeline:"style_module_timeline__f90332e1",timelineSvg:"style_module_timelineSvg__f90332e1",selection:"style_module_selection__f90332e1",axisTick:"style_module_axisTick__f90332e1",axisLine:"style_module_axisLine__f90332e1",bar:"style_module_bar__f90332e1",noData:"style_module_noData__f90332e1",axis:"style_module_axis__f90332e1",bars:"style_module_bars__f90332e1",brush:"style_module_brush__f90332e1",animationControl:"style_module_animationControl__f90332e1",hidden:"style_module_hidden__f90332e1",disabled:"style_module_disabled__f90332e1",playAnimation:"style_module_playAnimation__f90332e1",pauseAnimation:"style_module_pauseAnimation__f90332e1"};ro(JE,{});let QE=class{constructor(e,t){var r;if(this._isAnimationRunning=!1,this._svgParser=new DOMParser,this._height=0,this._width=0,this._timelineWidth=0,this._timelineHeight=0,this._config=new tp,this._barWidth=0,this._maxCount=0,this._barsData=[],this._timeData=void 0,this._bandIntervals=[],this._isNumericTimeline=!1,this._firstRender=!0,this._yScale=Ag(),this._timeScale=Q2(),this._numScale=Ua(),this._activeAxisScale=this._timeScale,this._timeAxis=qm(this._timeScale),this._numAxis=qm(this._numScale),this._toggleAnimation=n=>{n.preventDefault(),this._isAnimationRunning?this.pauseAnimation():this.playAnimation()},this._disableAnimation=()=>{var n,a;this.pauseAnimation(),(n=this._animationControlDiv)===null||n===void 0||n.removeEventListener("click",this._toggleAnimation),(a=this._animationControlDiv)===null||a===void 0||a.remove()},this.playAnimation=()=>{var n,a,s,o;clearInterval(this._animationInterval),this._currentSelectionInPixels&&(this._animationInterval=setInterval(this._animateSelection,this._config.animationSpeed),this._isAnimationRunning=!0,(a=(n=this._config.events).onAnimationPlay)===null||a===void 0||a.call(n,this._isAnimationRunning,this._currentSelection)),(s=this._pauseButtonSvg)===null||s===void 0||s.classList.remove(zt.hidden),(o=this._playButtonSvg)===null||o===void 0||o.classList.add(zt.hidden)},this.pauseAnimation=()=>{var n,a,s,o;clearInterval(this._animationInterval),this._isAnimationRunning=!1,(a=(n=this._config.events).onAnimationPause)===null||a===void 0||a.call(n,this._isAnimationRunning,this._currentSelection),(s=this._pauseButtonSvg)===null||s===void 0||s.classList.add(zt.hidden),(o=this._playButtonSvg)===null||o===void 0||o.classList.remove(zt.hidden)},this.stopAnimation=()=>{var n,a;this.pauseAnimation(),this.setSelection(void 0),(a=(n=this._config.events).onBrush)===null||a===void 0||a.call(n,void 0)},this._animateSelection=()=>{var n,a;const s=this._currentSelectionInPixels;s&&s[0]!==void 0&&s[1]!==void 0&&(this.setSelectionInPixels([s[0]+this._barWidth,s[1]+this._barWidth]),s[1]!==((n=this._currentSelectionInPixels)===null||n===void 0?void 0:n[1])&&((a=this._currentSelectionInPixels)===null||a===void 0?void 0:a[1])!==void 0||this.stopAnimation())},this._checkLastTickPosition=()=>{var n;const a=this._axisGroup.selectAll(".tick:last-of-type").nodes();if(a!=null&&a.length){const s=a[0],o=s==null?void 0:s.getBoundingClientRect().right,l=(n=this._svg)===null||n===void 0?void 0:n.getBoundingClientRect().right;s.style.display=o>=l?"none":"inherit"}},this.destroy=()=>{this._containerNode.innerHTML="",clearInterval(this._animationInterval)},t&&this._config.init(t),this._containerNode=e,this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.classList.add(zt.timelineSvg),this._animationControlDiv=document.createElement("div"),this._animationControlDiv.classList.add(zt.animationControl),this._containerNode.classList.add(zt.timeline),this._containerNode.appendChild(this._svg),this._noDataDiv=document.createElement("div"),hi(this._noDataDiv).style("display","none").attr("class",zt.noData).append("div").text("No timeline data"),this._containerNode.appendChild(this._noDataDiv),(r=this._config)===null||r===void 0?void 0:r.showAnimationControls){const n=setInterval(()=>{this._containerNode!==null&&(this._initAnimationControls(),clearInterval(n))},100)}this._barsGroup=hi(this._svg).append("g").attr("class",zt.bars),this._axisGroup=hi(this._svg).append("g").attr("class",zt.axis),this._brushGroup=hi(this._svg).append("g").attr("class",zt.brush),this._timeAxis.tickFormat(this._config.formatter),this._numAxis.tickFormat(this._config.formatter),this._resizeObserver=new Wm(n=>{window.requestAnimationFrame(()=>{Array.isArray(n)&&n.length&&this.resize()})}),this._resizeObserver=new Wm(()=>{this.resize()}),this._resizeObserver.observe(this._containerNode)}get _barPadding(){return this._barWidth*this._config.barPadding}getCurrentSelection(){return this._currentSelection}getCurrentSelectionInPixels(){return this._currentSelectionInPixels}getBarWidth(){return this._barWidth-this._barPadding}getConfig(){return this._config}getIsAnimationRunning(){return this._isAnimationRunning}setConfig(e){var t,r,n,a,s,o;const l=JSON.parse(JSON.stringify(this._config));e?this._config.init(e):this._config=new tp,!((t=this._config)===null||t===void 0)&&t.showAnimationControls?!((r=this._animationControlDiv)===null||r===void 0)&&r.isConnected||this._initAnimationControls():this._animationControlDiv&&this._disableAnimation(),this._config.allowSelection||this._disableBrush(),this._config.formatter&&(this._timeAxis.tickFormat(this._config.formatter),this._numAxis.tickFormat(this._config.formatter)),((n=this._config)===null||n===void 0?void 0:n.dataStep)===((a=l.config)===null||a===void 0?void 0:a.dataStep)&&((s=this._config)===null||s===void 0?void 0:s.barCount)===((o=l.config)===null||o===void 0?void 0:o.barCount)||this._updateTimelineData(),this.resize()}setTimeData(e){var t,r,n;this._timeData=e==null?void 0:e.filter(a=>!isNaN(+a)&&a!==void 0),this._currentSelection=void 0,(r=(t=this._config.events).onBrush)===null||r===void 0||r.call(t,this._currentSelection),this._updateScales(),hi(this._noDataDiv).style("display","none"),!((n=this._timeData)===null||n===void 0)&&n.length?(this._dateExtent=Xs(this._timeData),this._updateTimelineData()):(this._barsData=[],this._axisGroup.selectAll("*").remove(),this._barsGroup.selectAll("*").remove(),this._brushGroup.selectAll("*").remove(),hi(this._noDataDiv).style("display","block"),this._firstRender=!0)}_getBarsData(e,t){var r,n;if(!(e[1]<=e[0])&&(!((r=this._timeData)===null||r===void 0)&&r.length)&&this._dateExtent){const a=aw(this._timeData,c=>c.length,c=>c),s=(n=this._config.dataStep)!==null&&n!==void 0?n:(e[1]-e[0])/(this._config.barCount-1);if(s===0)return;this._bandIntervals=qc(+e[0],+e[1],s);const o=this._bandIntervals[this._bandIntervals.length-1];let l=this._config.dataStep?+o+s:e[1];t&&(this._bandIntervals=this._bandIntervals.map(c=>new Date(c)),l=new Date(l)),o<e[1]&&this._bandIntervals.push(l);const d=uw(this._bandIntervals);this._barsData=d.map(c=>({rangeStart:c[0],rangeEnd:c[1],count:qE(a,c)}))}}_updateTimelineData(){var e;if(!((e=this._timeData)===null||e===void 0)&&e.length&&this._dateExtent){if(this._isNumericTimeline=!(this._timeData[0]instanceof Date),this._isNumericTimeline)this._getBarsData(this._dateExtent);else{this._timeData=this._timeData.map(r=>new Date(r));const t=this._dateExtent.map(r=>{var n;return(n=r.getTime())!==null&&n!==void 0?n:0});this._getBarsData(t)}this._maxCount=Math.max(...this._barsData.map(t=>t.count))}}setSelection(e,t=!1){var r,n,a,s;const o=this._currentSelection;e&&this._dateExtent&&e[0]>=this._dateExtent[0]&&e[1]<=this._dateExtent[1]&&e[0]<e[1]?(this._currentSelection=e,this._currentSelectionInPixels=this._currentSelection.map(this._activeAxisScale),(r=this._animationControlDiv)===null||r===void 0||r.classList.remove(zt.disabled)):(this._currentSelection=void 0,this._currentSelectionInPixels=void 0,(n=this._animationControlDiv)===null||n===void 0||n.classList.add(zt.disabled));const{_currentSelection:l}=this;t||(o==null?void 0:o[0])===(l==null?void 0:l[0])&&(o==null?void 0:o[1])===(l==null?void 0:l[1])||(s=(a=this._config.events).onBrush)===null||s===void 0||s.call(a,this._currentSelection,!0),this._brushInstance&&!this._firstRender&&this._brushGroup.call(this._brushInstance.move,this._currentSelectionInPixels)}setSelectionInPixels(e){var t,r,n,a,s;e&&e[0]>0&&e[1]<this._timelineWidth&&e[0]<e[1]?(this._currentSelection=e.map(o=>this._activeAxisScale.invert(o)),this._currentSelectionInPixels=(t=this._currentSelection)===null||t===void 0?void 0:t.map(this._activeAxisScale),(r=this._animationControlDiv)===null||r===void 0||r.classList.remove(zt.disabled)):(this._currentSelection=void 0,this._currentSelectionInPixels=void 0,(n=this._animationControlDiv)===null||n===void 0||n.classList.add(zt.disabled)),this._brushInstance&&!this._firstRender&&this._brushGroup.call(this._brushInstance.move,this._currentSelectionInPixels),(s=(a=this._config.events).onBrush)===null||s===void 0||s.call(a,this._currentSelection)}resize(){const{height:e,width:t}=YE(this._containerNode),{offsetWidth:r}=this._animationControlDiv;this._width=t,this._height=e,this._timelineWidth=this._width-this._config.padding.left-this._config.padding.right-r,this._timelineHeight=this._height-this._config.padding.top-this._config.padding.bottom,this._timelineHeight>this._config.padding.top+this._config.padding.bottom&&(this._updateScales(),this._checkLastTickPosition(),this._currentSelection&&this.setSelection(this._currentSelection,!0),this.render())}render(){this._updateBrush(),this._updateBars(),this._updateAxis(),this._firstRender&&(this._firstRender=!1)}_updateAxis(){this._timeData&&(this._axisGroup.style("transform",`translate(${this._config.padding.left}px, ${this._config.padding.top+this._config.axisTickHeight+1+this._config.selectionPadding/2}px)`).call(this._isNumericTimeline?this._numAxis:this._timeAxis).call(e=>e.select(".domain").remove()),this._axisGroup.selectAll(".tick").select("text").attr("class",zt.axisTick).attr("y",0).attr("dy",-this._config.axisTickHeight).attr("dx","5px"),this._axisGroup.selectAll("line").attr("class",zt.axisLine).attr("y2",-this._config.axisTickHeight))}_updateBrush(){var e;this._config.allowSelection&&(this._brushGroup.style("transform",`translate(${this._config.padding.left}px, ${this._config.padding.top}px)`),this._brushInstance=OE().extent([[0,0],[this._timelineWidth,this._timelineHeight]]),this._brushInstance.on("end",({selection:t,sourceEvent:r})=>{var n,a,s,o,l,d,c;r&&(t?(this._currentSelection=t.map(u=>this._activeAxisScale.invert(u)),this._currentSelectionInPixels=(n=this._currentSelection)===null||n===void 0?void 0:n.map(this._activeAxisScale),(a=this._animationControlDiv)===null||a===void 0||a.classList.remove(zt.disabled),(o=(s=this._config.events).onBrush)===null||o===void 0||o.call(s,this._currentSelection)):(this._currentSelection=void 0,this._currentSelectionInPixels=void 0,(d=(l=this._config.events).onBrush)===null||d===void 0||d.call(l,void 0),(c=this._animationControlDiv)===null||c===void 0||c.classList.add(zt.disabled)))}),this._brushGroup.call(this._brushInstance),this._currentSelection?(this._currentSelectionInPixels=this._currentSelection.map(this._activeAxisScale),this._brushGroup.call(this._brushInstance.move,this._currentSelectionInPixels)):(e=this._brushInstance)===null||e===void 0||e.clear(this._brushGroup),this._brushGroup.select("rect.selection").classed(zt.selection,!0).attr("rx",this._config.selectionRadius).attr("ry",this._config.selectionRadius))}_updateBars(){this._barsGroup.style("transform",`translate(${this._config.padding.left}px, ${this._config.padding.top-this._config.selectionPadding/2}px)`);const e=this._barsGroup.selectAll(`.${zt.bar}`).data(this._barsData).join("rect").attr("class",zt.bar).attr("x",t=>this._activeAxisScale(+t.rangeStart)+this._barPadding/2).attr("width",this.getBarWidth()).attr("rx",this._config.barRadius).attr("ry",this._config.barRadius).attr("y",-this._timelineHeight);this._config.events.onBarHover&&e.on("mouseover",this._config.events.onBarHover),e.transition().duration(300).attr("height",t=>this._yScale(t.count)).style("opacity",t=>this._yScale(t.count)===this._config.minBarHeight?.25:1)}_updateScales(){if(!this._dateExtent||!this._barsData.length)return;const e=this._barsData[this._barsData.length-1];if(this._config.tickStep){const n=qc(+this._dateExtent[0],+this._dateExtent[1],this._config.tickStep);this._isNumericTimeline?this._numAxis.tickValues(n):this._timeAxis.tickValues(n.map(a=>new Date(a)))}this._yScale.range([this._config.minBarHeight,this._timelineHeight-this._config.barTopMargin-this._config.selectionPadding]).domain([0,this._maxCount]).clamp(!0),this._isNumericTimeline?(this._numScale.domain([this._dateExtent[0],e.rangeEnd]).range([0,this._timelineWidth]).clamp(!0),this._activeAxisScale=this._numScale):(this._timeScale.domain([this._dateExtent[0],e.rangeEnd]).range([0,this._timelineWidth]).clamp(!0),this._activeAxisScale=this._timeScale);const t=this._barsData[0],r=this._activeAxisScale(t.rangeEnd)-this._activeAxisScale(t.rangeStart);this._barWidth=r}_disableBrush(){var e,t;(e=this._brushInstance)===null||e===void 0||e.clear(this._brushGroup),this._currentSelectionInPixels=void 0,this._currentSelection=void 0,this.pauseAnimation(),this._brushGroup.selectAll("*").remove(),this._config.showAnimationControls&&((t=this._animationControlDiv)===null||t===void 0||t.classList.add(zt.disabled))}_initAnimationControls(){return Y(this,null,function*(){this._containerNode.insertBefore(this._animationControlDiv,this._svg),yield Y(this,null,function*(){var e,t;if(!this._animationControlDiv.firstChild){const r=this._svgParser.parseFromString(FE,"image/svg+xml").firstChild,n=this._svgParser.parseFromString(PE,"image/svg+xml").firstChild;this._pauseButtonSvg=(e=this._animationControlDiv)===null||e===void 0?void 0:e.appendChild(n),this._playButtonSvg=(t=this._animationControlDiv)===null||t===void 0?void 0:t.appendChild(r)}}).then(()=>{var e,t,r,n,a;this._isAnimationRunning?((r=this._playButtonSvg)===null||r===void 0||r.classList.add(zt.playAnimation,zt.hidden),(n=this._pauseButtonSvg)===null||n===void 0||n.classList.add(zt.pauseAnimation)):((e=this._playButtonSvg)===null||e===void 0||e.classList.add(zt.playAnimation),(t=this._pauseButtonSvg)===null||t===void 0||t.classList.add(zt.pauseAnimation,zt.hidden)),this._currentSelection||(a=this._animationControlDiv)===null||a===void 0||a.classList.add(zt.disabled),this._animationControlDiv.addEventListener("click",this._toggleAnimation)})})}};var eT=":root{--cosmograph-histogram-text-color:#fff;--cosmograph-histogram-axis-color:#d7d7d7;--cosmograph-histogram-selection-color:#777;--cosmograph-histogram-selection-opacity:0.5;--cosmograph-histogram-bar-color:#7a7a7a;--cosmograph-histogram-highlighted-bar-color:#fff;--cosmograph-histogram-font-family:inherit;--cosmograph-histogram-font-size:11px;--cosmograph-histogram-background:#222}.style_module_histogram__ee5eb209{background:var(--cosmograph-histogram-background);display:flex;position:relative;width:100%}.style_module_histogramSvg__ee5eb209{height:100%;position:relative;width:100%}.style_module_selection__ee5eb209{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__ee5eb209{alignment-baseline:text-before-edge;text-anchor:initial;font-size:var(--cosmograph-histogram-font-size);font-weight:400;opacity:1;user-select:none}.style_module_bar__ee5eb209{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__ee5eb209{fill:var(--cosmograph-histogram-highlighted-bar-color);pointer-events:none;transform:scaleY(-1)}.style_module_axis__ee5eb209{color:var(--cosmograph-histogram-axis-color)}.style_module_noData__ee5eb209{height:100%;position:absolute;top:0;width:100%}.style_module_noData__ee5eb209 div{align-items:center;display:flex;font-size:calc(var(--cosmograph-histogram-font-size));font-weight:300;height:100%;justify-content:center;letter-spacing:1;opacity:.25;user-select:none}";ro(eT,{});var rp;(function(i){i.Input="input",i.Select="select",i.Enter="enter",i.AccessorSelect="accessorSelect"})(rp||(rp={}));function qa(){}function er(i,e){for(const t in e)i[t]=e[t];return i}function r0(i){return i()}function np(){return Object.create(null)}function qr(i){i.forEach(r0)}function Jn(i){return typeof i=="function"}function no(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function tT(i){return Object.keys(i).length===0}function Kl(i,e,t,r){if(i){const n=n0(i,e,t,r);return i[0](n)}}function n0(i,e,t,r){return i[1]&&r?er(t.ctx.slice(),i[1](r(e))):t.ctx}function Zl(i,e,t,r){if(i[2]&&r){const n=i[2](r(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const a=[],s=Math.max(e.dirty.length,n.length);for(let o=0;o<s;o+=1)a[o]=e.dirty[o]|n[o];return a}return e.dirty|n}return e.dirty}function Jl(i,e,t,r,n,a){if(n){const s=n0(e,t,r,a);i.p(s,n)}}function Ql(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function Bu(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function Ya(i,e){const t={};e=new Set(e);for(const r in i)e.has(r)||r[0]==="$"||(t[r]=i[r]);return t}function bn(i){return i&&Jn(i.destroy)?i.destroy:qa}function xn(i,e,t){i.insertBefore(e,t||null)}function Yr(i){i.parentNode&&i.parentNode.removeChild(i)}function $u(i){return document.createElement(i)}function iT(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function rT(i){return document.createTextNode(i)}function ed(){return rT("")}function Gu(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}const nT=["width","height"];function nu(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const r in e)e[r]==null?i.removeAttribute(r):r==="style"?i.style.cssText=e[r]:r==="__value"?i.value=i[r]=e[r]:t[r]&&t[r].set&&nT.indexOf(r)===-1?i[r]=e[r]:Gu(i,r,e[r])}function ap(i,e){for(const t in e)Gu(i,t,e[t])}function aT(i,e){Object.keys(e).forEach(t=>{sT(i,t,e[t])})}function sT(i,e,t){e in i?i[e]=typeof i[e]=="boolean"&&t===""||t:Gu(i,e,t)}function Dl(i){return/-/.test(i)?aT:nu}function oT(i){return Array.from(i.childNodes)}function sp(i,e){return new i(e)}let Ks;function $s(i){Ks=i}function Qa(){if(!Ks)throw new Error("Function called outside component initialization");return Ks}function lT(i){Qa().$$.on_destroy.push(i)}function dT(i,e){return Qa().$$.context.set(i,e),e}function a0(i){return Qa().$$.context.get(i)}const La=[],Wn=[];let Na=[];const op=[],cT=Promise.resolve();let au=!1;function uT(){au||(au=!0,cT.then(s0))}function su(i){Na.push(i)}const Ic=new Set;let wa=0;function s0(){if(wa!==0)return;const i=Ks;do{try{for(;wa<La.length;){const e=La[wa];wa++,$s(e),fT(e.$$)}}catch(e){throw La.length=0,wa=0,e}for($s(null),La.length=0,wa=0;Wn.length;)Wn.pop()();for(let e=0;e<Na.length;e+=1){const t=Na[e];Ic.has(t)||(Ic.add(t),t())}Na.length=0}while(La.length);for(;op.length;)op.pop()();au=!1,Ic.clear(),$s(i)}function fT(i){if(i.fragment!==null){i.update(),qr(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(su)}}function hT(i){const e=[],t=[];Na.forEach(r=>i.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Na=e}const vl=new Set;let Un;function o0(){Un={r:0,c:[],p:Un}}function l0(){Un.r||qr(Un.c),Un=Un.p}function Sr(i,e){i&&i.i&&(vl.delete(i),i.i(e))}function Xr(i,e,t,r){if(i&&i.o){if(vl.has(i))return;vl.add(i),Un.c.push(()=>{vl.delete(i),r&&(t&&i.d(1),r())}),i.o(e)}else r&&r()}function ao(i,e){const t={},r={},n={$$scope:1};let a=i.length;for(;a--;){const s=i[a],o=e[a];if(o){for(const l in s)l in o||(r[l]=1);for(const l in o)n[l]||(t[l]=o[l],n[l]=1);i[a]=o}else for(const l in s)n[l]=1}for(const s in r)s in t||(t[s]=void 0);return t}function lp(i){return typeof i=="object"&&i!==null?i:{}}function dp(i){i&&i.c()}function ou(i,e,t,r){const{fragment:n,after_update:a}=i.$$;n&&n.m(e,t),r||su(()=>{const s=i.$$.on_mount.map(r0).filter(Jn);i.$$.on_destroy?i.$$.on_destroy.push(...s):qr(s),i.$$.on_mount=[]}),a.forEach(su)}function lu(i,e){const t=i.$$;t.fragment!==null&&(hT(t.after_update),qr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Uu(i,e,t,r,n,a,s,o=[-1]){const l=Ks;$s(i);const d=i.$$={fragment:null,ctx:[],props:a,update:qa,not_equal:n,bound:np(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:np(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};let c=!1;if(d.ctx=t?t(i,e.props||{},(u,h,...g)=>{const k=g.length?g[0]:h;return d.ctx&&n(d.ctx[u],d.ctx[u]=k)&&(!d.skip_bound&&d.bound[u]&&d.bound[u](k),c&&function(U,I){U.$$.dirty[0]===-1&&(La.push(U),uT(),U.$$.dirty.fill(0)),U.$$.dirty[I/31|0]|=1<<I%31}(i,u)),h}):[],d.update(),c=!0,qr(d.before_update),d.fragment=!!r&&r(d.ctx),e.target){if(e.hydrate){const u=oT(e.target);d.fragment&&d.fragment.l(u),u.forEach(Yr)}else d.fragment&&d.fragment.c();e.intro&&Sr(i.$$.fragment),ou(i,e.target,e.anchor,e.customElement),s0()}$s(l)}class ju{$destroy(){lu(this,1),this.$destroy=qa}$on(e,t){if(!Jn(t))return qa;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!tT(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Nl(i){return Object.entries(i).filter(([e,t])=>e!==""&&t).map(([e])=>e).join(" ")}const cp=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,mT=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function Hu(i){let e,t=[];function r(n){const a=i.$$.callbacks[n.type];a&&a.slice().forEach(s=>s.call(this,n))}return i.$on=(n,a)=>{let s=n,o=()=>{};return e?o=e(s,a):t.push([s,a]),s.match(cp)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',s),()=>{o()}},n=>{const a=[],s={};e=(o,l)=>{let d=o,c=l,u=!1;const h=d.match(cp),g=d.match(mT),k=h||g;if(d.match(/^SMUI:\w+:/)){const $=d.split(":");let R="";for(let T=0;T<$.length;T++)R+=T===$.length-1?":"+$[T]:$[T].split("-").map(B=>B.slice(0,1).toUpperCase()+B.slice(1)).join("");console.warn(`The event ${d.split("$")[0]} has been renamed to ${R.split("$")[0]}.`),d=R}if(k){const $=d.split(h?":":"$");d=$[0];const R=$.slice(1).reduce((T,B)=>(T[B]=!0,T),{});R.passive&&(u=u||{},u.passive=!0),R.nonpassive&&(u=u||{},u.passive=!1),R.capture&&(u=u||{},u.capture=!0),R.once&&(u=u||{},u.once=!0),R.preventDefault&&(U=c,c=function(T){return T.preventDefault(),U.call(this,T)}),R.stopPropagation&&(c=function(T){return function(B){return B.stopPropagation(),T.call(this,B)}}(c)),R.stopImmediatePropagation&&(c=function(T){return function(B){return B.stopImmediatePropagation(),T.call(this,B)}}(c)),R.self&&(c=function(T,B){return function(ee){if(ee.target===T)return B.call(this,ee)}}(n,c)),R.trusted&&(c=function(T){return function(B){if(B.isTrusted)return T.call(this,B)}}(c))}var U;const I=up(n,d,c,u),O=()=>{I();const $=a.indexOf(O);$>-1&&a.splice($,1)};return a.push(O),d in s||(s[d]=up(n,d,r)),O};for(let o=0;o<t.length;o++)e(t[o][0],t[o][1]);return{destroy:()=>{for(let o=0;o<a.length;o++)a[o]();for(let o of Object.entries(s))o[1]()}}}}function up(i,e,t,r){return i.addEventListener(e,t,r),()=>i.removeEventListener(e,t,r)}function td(i,e){let t=[];if(e)for(let r=0;r<e.length;r++){const n=e[r],a=Array.isArray(n)?n[0]:n;Array.isArray(n)&&n.length>1?t.push(a(i,n[1])):t.push(a(i))}return{update(r){if((r&&r.length||0)!=t.length)throw new Error("You must not change the length of an actions array.");if(r)for(let n=0;n<r.length;n++){const a=t[n];if(a&&a.update){const s=r[n];Array.isArray(s)&&s.length>1?a.update(s[1]):a.update()}}},destroy(){for(let r=0;r<t.length;r++){const n=t[r];n&&n.destroy&&n.destroy()}}}}function pT(i){let e,t,r=i[1],n=i[1]&&kc(i);return{c(){n&&n.c(),e=ed()},m(a,s){n&&n.m(a,s),xn(a,e,s),t=!0},p(a,s){a[1]?r?no(r,a[1])?(n.d(1),n=kc(a),r=a[1],n.c(),n.m(e.parentNode,e)):n.p(a,s):(n=kc(a),r=a[1],n.c(),n.m(e.parentNode,e)):r&&(n.d(1),n=null,r=a[1])},i(a){t||(Sr(n),t=!0)},o(a){Xr(n),t=!1},d(a){a&&Yr(e),n&&n.d(a)}}}function gT(i){let e,t=i[1],r=i[1]&&Cc(i);return{c(){r&&r.c(),e=ed()},m(n,a){r&&r.m(n,a),xn(n,e,a)},p(n,a){n[1]?t?no(t,n[1])?(r.d(1),r=Cc(n),t=n[1],r.c(),r.m(e.parentNode,e)):r.p(n,a):(r=Cc(n),t=n[1],r.c(),r.m(e.parentNode,e)):t&&(r.d(1),r=null,t=n[1])},i:qa,o:qa,d(n){n&&Yr(e),r&&r.d(n)}}}function vT(i){let e,t,r,n,a;const s=i[8].default,o=Kl(s,i,i[7],null);let l=[i[5]],d={};for(let c=0;c<l.length;c+=1)d=er(d,l[c]);return{c(){e=iT("svg"),o&&o.c(),ap(e,d)},m(c,u){xn(c,e,u),o&&o.m(e,null),i[9](e),r=!0,n||(a=[bn(t=td.call(null,e,i[0])),bn(i[4].call(null,e))],n=!0)},p(c,u){o&&o.p&&(!r||128&u)&&Jl(o,s,c,c[7],r?Zl(s,c[7],u,null):Ql(c[7]),null),ap(e,d=ao(l,[32&u&&c[5]])),t&&Jn(t.update)&&1&u&&t.update.call(null,c[0])},i(c){r||(Sr(o,c),r=!0)},o(c){Xr(o,c),r=!1},d(c){c&&Yr(e),o&&o.d(c),i[9](null),n=!1,qr(a)}}}function kc(i){let e,t,r,n,a;const s=i[8].default,o=Kl(s,i,i[7],null);let l=[i[5]],d={};for(let c=0;c<l.length;c+=1)d=er(d,l[c]);return{c(){e=$u(i[1]),o&&o.c(),Dl(i[1])(e,d)},m(c,u){xn(c,e,u),o&&o.m(e,null),i[11](e),r=!0,n||(a=[bn(t=td.call(null,e,i[0])),bn(i[4].call(null,e))],n=!0)},p(c,u){o&&o.p&&(!r||128&u)&&Jl(o,s,c,c[7],r?Zl(s,c[7],u,null):Ql(c[7]),null),Dl(c[1])(e,d=ao(l,[32&u&&c[5]])),t&&Jn(t.update)&&1&u&&t.update.call(null,c[0])},i(c){r||(Sr(o,c),r=!0)},o(c){Xr(o,c),r=!1},d(c){c&&Yr(e),o&&o.d(c),i[11](null),n=!1,qr(a)}}}function Cc(i){let e,t,r,n,a=[i[5]],s={};for(let o=0;o<a.length;o+=1)s=er(s,a[o]);return{c(){e=$u(i[1]),Dl(i[1])(e,s)},m(o,l){xn(o,e,l),i[10](e),r||(n=[bn(t=td.call(null,e,i[0])),bn(i[4].call(null,e))],r=!0)},p(o,l){Dl(o[1])(e,s=ao(a,[32&l&&o[5]])),t&&Jn(t.update)&&1&l&&t.update.call(null,o[0])},d(o){o&&Yr(e),i[10](null),r=!1,qr(n)}}}function _T(i){let e,t,r,n;const a=[vT,gT,pT],s=[];function o(l,d){return l[1]==="svg"?0:l[3]?1:2}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=ed()},m(l,d){s[e].m(l,d),xn(l,r,d),n=!0},p(l,[d]){let c=e;e=o(l),e===c?s[e].p(l,d):(o0(),Xr(s[c],1,1,()=>{s[c]=null}),l0(),t=s[e],t?t.p(l,d):(t=s[e]=a[e](l),t.c()),Sr(t,1),t.m(r.parentNode,r))},i(l){n||(Sr(t),n=!0)},o(l){Xr(t),n=!1},d(l){s[e].d(l),l&&Yr(r)}}}function bT(i,e,t){let r;const n=["use","tag","getElement"];let a=Ya(e,n),{$$slots:s={},$$scope:o}=e,{use:l=[]}=e,{tag:d}=e;const c=Hu(Qa());let u;return i.$$set=h=>{e=er(er({},e),Bu(h)),t(5,a=Ya(e,n)),"use"in h&&t(0,l=h.use),"tag"in h&&t(1,d=h.tag),"$$scope"in h&&t(7,o=h.$$scope)},i.$$.update=()=>{2&i.$$.dirty&&t(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(d)>-1)},[l,d,u,r,c,a,function(){return u},o,s,function(h){Wn[h?"unshift":"push"](()=>{u=h,t(2,u)})},function(h){Wn[h?"unshift":"push"](()=>{u=h,t(2,u)})},function(h){Wn[h?"unshift":"push"](()=>{u=h,t(2,u)})}]}let d0=class extends ju{constructor(e){super(),Uu(this,e,bT,_T,no,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}};var du=function(i,e){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},du(i,e)};function Kr(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}du(i,e),i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mi=function(){return mi=Object.assign||function(i){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i},mi.apply(this,arguments)};function ur(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fp(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r,n,a=t.call(i),s=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}return s}function yT(i,e,t){if(arguments.length===2)for(var r,n=0,a=e.length;n<a;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return i.concat(r||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Zr=function(){function i(e){e===void 0&&(e={}),this.adapter=e}return Object.defineProperty(i,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),i.prototype.init=function(){},i.prototype.destroy=function(){},i}();/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Et={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape",TAB:"Tab"},$i=new Set;$i.add(Et.BACKSPACE),$i.add(Et.ENTER),$i.add(Et.SPACEBAR),$i.add(Et.PAGE_UP),$i.add(Et.PAGE_DOWN),$i.add(Et.END),$i.add(Et.HOME),$i.add(Et.ARROW_LEFT),$i.add(Et.ARROW_UP),$i.add(Et.ARROW_RIGHT),$i.add(Et.ARROW_DOWN),$i.add(Et.DELETE),$i.add(Et.ESCAPE),$i.add(Et.TAB);var xT=8,wT=13,ST=32,ET=33,TT=34,AT=35,IT=36,kT=37,CT=38,LT=39,OT=40,RT=46,PT=27,FT=9,Gi=new Map;Gi.set(xT,Et.BACKSPACE),Gi.set(wT,Et.ENTER),Gi.set(ST,Et.SPACEBAR),Gi.set(ET,Et.PAGE_UP),Gi.set(TT,Et.PAGE_DOWN),Gi.set(AT,Et.END),Gi.set(IT,Et.HOME),Gi.set(kT,Et.ARROW_LEFT),Gi.set(CT,Et.ARROW_UP),Gi.set(LT,Et.ARROW_RIGHT),Gi.set(OT,Et.ARROW_DOWN),Gi.set(RT,Et.DELETE),Gi.set(PT,Et.ESCAPE),Gi.set(FT,Et.TAB);var ln=new Set;function Ni(i){var e=i.key;if($i.has(e))return e;var t=Gi.get(i.keyCode);return t||Et.UNKNOWN}ln.add(Et.PAGE_UP),ln.add(Et.PAGE_DOWN),ln.add(Et.END),ln.add(Et.HOME),ln.add(Et.ARROW_LEFT),ln.add(Et.ARROW_UP),ln.add(Et.ARROW_RIGHT),ln.add(Et.ARROW_DOWN);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Sa,dn,It={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"};(Sa={})[""+It.LIST_ITEM_ACTIVATED_CLASS]="mdc-list-item--activated",Sa[""+It.LIST_ITEM_CLASS]="mdc-list-item",Sa[""+It.LIST_ITEM_DISABLED_CLASS]="mdc-list-item--disabled",Sa[""+It.LIST_ITEM_SELECTED_CLASS]="mdc-list-item--selected",Sa[""+It.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-list-item__primary-text",Sa[""+It.ROOT]="mdc-list";var Ea=((dn={})[""+It.LIST_ITEM_ACTIVATED_CLASS]="mdc-deprecated-list-item--activated",dn[""+It.LIST_ITEM_CLASS]="mdc-deprecated-list-item",dn[""+It.LIST_ITEM_DISABLED_CLASS]="mdc-deprecated-list-item--disabled",dn[""+It.LIST_ITEM_SELECTED_CLASS]="mdc-deprecated-list-item--selected",dn[""+It.LIST_ITEM_TEXT_CLASS]="mdc-deprecated-list-item__text",dn[""+It.LIST_ITEM_PRIMARY_TEXT_CLASS]="mdc-deprecated-list-item__primary-text",dn[""+It.ROOT]="mdc-deprecated-list",dn),cn={ACTION_EVENT:"MDCList:action",SELECTION_CHANGE_EVENT:"MDCList:selectionChange",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",ARIA_INTERACTIVE_ROLES_SELECTOR:'[role="listbox"], [role="menu"]',ARIA_MULTI_SELECTABLE_SELECTOR:'[aria-multiselectable="true"]',CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+It.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+It.LIST_ITEM_CLASS+` a,
    .`+Ea[It.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Ea[It.LIST_ITEM_CLASS]+` a
  `,DEPRECATED_SELECTOR:".mdc-deprecated-list",FOCUSABLE_CHILD_ELEMENTS:`
    .`+It.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+It.LIST_ITEM_CLASS+` a,
    .`+It.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+It.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled),
    .`+Ea[It.LIST_ITEM_CLASS]+` button:not(:disabled),
    .`+Ea[It.LIST_ITEM_CLASS]+` a,
    .`+Ea[It.LIST_ITEM_CLASS]+` input[type="radio"]:not(:disabled),
    .`+Ea[It.LIST_ITEM_CLASS]+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]',SELECTED_ITEM_SELECTOR:'[aria-selected="true"], [aria-current="true"]'},ui={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var DT=["input","button","textarea","select"],Ji=function(i){var e=i.target;if(e){var t=(""+e.tagName).toLowerCase();DT.indexOf(t)===-1&&i.preventDefault()}};/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function NT(){return{bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""}}function zT(i,e){for(var t=new Map,r=0;r<i;r++){var n=e(r).trim();if(n){var a=n[0].toLowerCase();t.has(a)||t.set(a,[]),t.get(a).push({text:n.toLowerCase(),index:r})}}return t.forEach(function(s){s.sort(function(o,l){return o.index-l.index})}),t}function cu(i,e){var t,r=i.nextChar,n=i.focusItemAtIndex,a=i.sortedIndexByFirstChar,s=i.focusedItemIndex,o=i.skipFocus,l=i.isItemAtIndexDisabled;return clearTimeout(e.bufferClearTimeout),e.bufferClearTimeout=setTimeout(function(){u0(e)},ui.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),e.typeaheadBuffer=e.typeaheadBuffer+r,t=e.typeaheadBuffer.length===1?function(d,c,u,h){var g=h.typeaheadBuffer[0],k=d.get(g);if(!k)return-1;if(g===h.currentFirstChar&&k[h.sortedIndexCursor].index===c){h.sortedIndexCursor=(h.sortedIndexCursor+1)%k.length;var U=k[h.sortedIndexCursor].index;if(!u(U))return U}h.currentFirstChar=g;var I,O=-1;for(I=0;I<k.length;I++)if(!u(k[I].index)){O=I;break}for(;I<k.length;I++)if(k[I].index>c&&!u(k[I].index)){O=I;break}return O!==-1?(h.sortedIndexCursor=O,k[h.sortedIndexCursor].index):-1}(a,s,l,e):function(d,c,u){var h=u.typeaheadBuffer[0],g=d.get(h);if(!g)return-1;var k=g[u.sortedIndexCursor];if(k.text.lastIndexOf(u.typeaheadBuffer,0)===0&&!c(k.index))return k.index;for(var U=(u.sortedIndexCursor+1)%g.length,I=-1;U!==u.sortedIndexCursor;){var O=g[U],$=O.text.lastIndexOf(u.typeaheadBuffer,0)===0,R=!c(O.index);if($&&R){I=U;break}U=(U+1)%g.length}return I!==-1?(u.sortedIndexCursor=I,g[u.sortedIndexCursor].index):-1}(a,l,e),t===-1||o||n(t),t}function c0(i){return i.typeaheadBuffer.length>0}function u0(i){i.typeaheadBuffer=""}function hp(i,e){var t=i.event,r=i.isTargetListItem,n=i.focusedItemIndex,a=i.focusItemAtIndex,s=i.sortedIndexByFirstChar,o=i.isItemAtIndexDisabled,l=Ni(t)==="ArrowLeft",d=Ni(t)==="ArrowUp",c=Ni(t)==="ArrowRight",u=Ni(t)==="ArrowDown",h=Ni(t)==="Home",g=Ni(t)==="End",k=Ni(t)==="Enter",U=Ni(t)==="Spacebar";return t.altKey||t.ctrlKey||t.metaKey||l||d||c||u||h||g||k?-1:U||t.key.length!==1?U?(r&&Ji(t),r&&c0(e)?cu({focusItemAtIndex:a,focusedItemIndex:n,nextChar:" ",sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:o},e):-1):-1:(Ji(t),cu({focusItemAtIndex:a,focusedItemIndex:n,nextChar:t.key.toLowerCase(),sortedIndexByFirstChar:s,skipFocus:!1,isItemAtIndexDisabled:o},e))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var MT=["Alt","Control","Meta","Shift"];function mp(i){var e=new Set(i?MT.filter(function(t){return i.getModifierState(t)}):[]);return function(t){return t.every(function(r){return e.has(r)})&&t.length===e.size}}(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.wrapFocus=!1,r.isVertical=!0,r.isSingleSelectionList=!1,r.areDisabledItemsFocusable=!0,r.selectedIndex=ui.UNSET_INDEX,r.focusedItemIndex=ui.UNSET_INDEX,r.useActivatedClass=!1,r.useSelectedAttr=!1,r.ariaCurrentAttrValue=null,r.isCheckboxList=!1,r.isRadioList=!1,r.lastSelectedIndex=null,r.hasTypeahead=!1,r.typeaheadState=NT(),r.sortedIndexByFirstChar=new Map,r}return Kr(e,i),Object.defineProperty(e,"strings",{get:function(){return cn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return It},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ui},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},notifySelectionChange:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!1,configurable:!0}),e.prototype.layout=function(){this.adapter.getListItemCount()!==0&&(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList=!0:this.adapter.hasRadioAtIndex(0)?this.isRadioList=!0:this.maybeInitializeSingleSelection(),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},e.prototype.getFocusedItemIndex=function(){return this.focusedItemIndex},e.prototype.setWrapFocus=function(t){this.wrapFocus=t},e.prototype.setVerticalOrientation=function(t){this.isVertical=t},e.prototype.setSingleSelection=function(t){this.isSingleSelectionList=t,t&&(this.maybeInitializeSingleSelection(),this.selectedIndex=this.getSelectedIndexFromDOM())},e.prototype.setDisabledItemsFocusable=function(t){this.areDisabledItemsFocusable=t},e.prototype.maybeInitializeSingleSelection=function(){var t=this.getSelectedIndexFromDOM();t!==ui.UNSET_INDEX&&(this.adapter.listItemAtIndexHasClass(t,It.LIST_ITEM_ACTIVATED_CLASS)&&this.setUseActivatedClass(!0),this.isSingleSelectionList=!0,this.selectedIndex=t)},e.prototype.getSelectedIndexFromDOM=function(){for(var t=ui.UNSET_INDEX,r=this.adapter.getListItemCount(),n=0;n<r;n++){var a=this.adapter.listItemAtIndexHasClass(n,It.LIST_ITEM_SELECTED_CLASS),s=this.adapter.listItemAtIndexHasClass(n,It.LIST_ITEM_ACTIVATED_CLASS);if(a||s){t=n;break}}return t},e.prototype.setHasTypeahead=function(t){this.hasTypeahead=t,t&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},e.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&c0(this.typeaheadState)},e.prototype.setUseActivatedClass=function(t){this.useActivatedClass=t},e.prototype.setUseSelectedAttribute=function(t){this.useSelectedAttr=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t,r){r===void 0&&(r={}),this.isIndexValid(t)&&(this.isCheckboxList?this.setCheckboxAtIndex(t,r):this.isRadioList?this.setRadioAtIndex(t,r):this.setSingleSelectionAtIndex(t,r))},e.prototype.handleFocusIn=function(t){t>=0&&(this.focusedItemIndex=t,this.adapter.setAttributeForElementIndex(t,"tabindex","0"),this.adapter.setTabIndexForListItemChildren(t,"0"))},e.prototype.handleFocusOut=function(t){var r=this;t>=0&&(this.adapter.setAttributeForElementIndex(t,"tabindex","-1"),this.adapter.setTabIndexForListItemChildren(t,"-1")),setTimeout(function(){r.adapter.isFocusInsideList()||r.setTabindexToFirstSelectedOrFocusedItem()},0)},e.prototype.isIndexDisabled=function(t){return this.adapter.listItemAtIndexHasClass(t,It.LIST_ITEM_DISABLED_CLASS)},e.prototype.handleKeydown=function(t,r,n){var a,s=this,o=Ni(t)==="ArrowLeft",l=Ni(t)==="ArrowUp",d=Ni(t)==="ArrowRight",c=Ni(t)==="ArrowDown",u=Ni(t)==="Home",h=Ni(t)==="End",g=Ni(t)==="Enter",k=Ni(t)==="Spacebar",U=this.isVertical&&c||!this.isVertical&&d,I=this.isVertical&&l||!this.isVertical&&o,O=t.key==="A"||t.key==="a",$=mp(t);if(this.adapter.isRootFocused()){if((I||h)&&$([])?(t.preventDefault(),this.focusLastElement()):(U||u)&&$([])?(t.preventDefault(),this.focusFirstElement()):I&&$(["Shift"])&&this.isCheckboxList?(t.preventDefault(),(B=this.focusLastElement())!==-1&&this.setSelectedIndexOnAction(B,!1)):U&&$(["Shift"])&&this.isCheckboxList&&(t.preventDefault(),(B=this.focusFirstElement())!==-1&&this.setSelectedIndexOnAction(B,!1)),this.hasTypeahead){var R={event:t,focusItemAtIndex:function(re){s.focusItemAtIndex(re)},focusedItemIndex:-1,isTargetListItem:r,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(re){return s.isIndexDisabled(re)}};hp(R,this.typeaheadState)}}else{var T=this.adapter.getFocusedElementIndex();if(!(T===-1&&(T=n)<0)){if(U&&$([]))Ji(t),this.focusNextElement(T);else if(I&&$([]))Ji(t),this.focusPrevElement(T);else if(U&&$(["Shift"])&&this.isCheckboxList)Ji(t),(B=this.focusNextElement(T))!==-1&&this.setSelectedIndexOnAction(B,!1);else if(I&&$(["Shift"])&&this.isCheckboxList){var B;Ji(t),(B=this.focusPrevElement(T))!==-1&&this.setSelectedIndexOnAction(B,!1)}else if(u&&$([]))Ji(t),this.focusFirstElement();else if(h&&$([]))Ji(t),this.focusLastElement();else if(u&&$(["Control","Shift"])&&this.isCheckboxList){if(Ji(t),this.isIndexDisabled(T))return;this.focusFirstElement(),this.toggleCheckboxRange(0,T,T)}else if(h&&$(["Control","Shift"])&&this.isCheckboxList){if(Ji(t),this.isIndexDisabled(T))return;this.focusLastElement(),this.toggleCheckboxRange(T,this.adapter.getListItemCount()-1,T)}else if(O&&$(["Control"])&&this.isCheckboxList)t.preventDefault(),this.checkboxListToggleAll(this.selectedIndex===ui.UNSET_INDEX?[]:this.selectedIndex,!0);else if((g||k)&&$([])){if(r){if((ee=t.target)&&ee.tagName==="A"&&g||(Ji(t),this.isIndexDisabled(T)))return;this.isTypeaheadInProgress()||(this.isSelectableList()&&this.setSelectedIndexOnAction(T,!1),this.adapter.notifyAction(T))}}else if((g||k)&&$(["Shift"])&&this.isCheckboxList){var ee;if((ee=t.target)&&ee.tagName==="A"&&g||(Ji(t),this.isIndexDisabled(T)))return;this.isTypeaheadInProgress()||(this.toggleCheckboxRange((a=this.lastSelectedIndex)!==null&&a!==void 0?a:T,T,T),this.adapter.notifyAction(T))}this.hasTypeahead&&(R={event:t,focusItemAtIndex:function(re){s.focusItemAtIndex(re)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:r,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(re){return s.isIndexDisabled(re)}},hp(R,this.typeaheadState))}}},e.prototype.handleClick=function(t,r,n){var a,s=mp(n);t!==ui.UNSET_INDEX&&(this.isIndexDisabled(t)||(s([])?(this.isSelectableList()&&this.setSelectedIndexOnAction(t,r),this.adapter.notifyAction(t)):this.isCheckboxList&&s(["Shift"])&&(this.toggleCheckboxRange((a=this.lastSelectedIndex)!==null&&a!==void 0?a:t,t,t),this.adapter.notifyAction(t))))},e.prototype.focusNextElement=function(t){var r=this.adapter.getListItemCount(),n=t,a=null;do{if(++n>=r){if(!this.wrapFocus)return t;n=0}if(n===a)return-1;a=a!=null?a:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},e.prototype.focusPrevElement=function(t){var r=this.adapter.getListItemCount(),n=t,a=null;do{if(--n<0){if(!this.wrapFocus)return t;n=r-1}if(n===a)return-1;a=a!=null?a:n}while(!this.areDisabledItemsFocusable&&this.isIndexDisabled(n));return this.focusItemAtIndex(n),n},e.prototype.focusFirstElement=function(){return this.focusNextElement(-1)},e.prototype.focusLastElement=function(){return this.focusPrevElement(this.adapter.getListItemCount())},e.prototype.focusInitialElement=function(){var t=this.getFirstSelectedOrFocusedItemIndex();return this.focusItemAtIndex(t),t},e.prototype.setEnabled=function(t,r){this.isIndexValid(t,!1)&&(r?(this.adapter.removeClassForElementIndex(t,It.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,cn.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(t,It.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(t,cn.ARIA_DISABLED,"true")))},e.prototype.setSingleSelectionAtIndex=function(t,r){if(r===void 0&&(r={}),this.selectedIndex!==t||r.forceUpdate){var n=It.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass&&(n=It.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex!==ui.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex,n),this.setAriaForSingleSelectionAtIndex(t),this.setTabindexAtIndex(t),t!==ui.UNSET_INDEX&&this.adapter.addClassForElementIndex(t,n),this.selectedIndex=t,r.isUserInteraction&&!r.forceUpdate&&this.adapter.notifySelectionChange([t])}},e.prototype.setAriaForSingleSelectionAtIndex=function(t){this.selectedIndex===ui.UNSET_INDEX&&(this.ariaCurrentAttrValue=this.adapter.getAttributeForElementIndex(t,cn.ARIA_CURRENT));var r=this.ariaCurrentAttrValue!==null,n=r?cn.ARIA_CURRENT:cn.ARIA_SELECTED;if(this.selectedIndex!==ui.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),t!==ui.UNSET_INDEX){var a=r?this.ariaCurrentAttrValue:"true";this.adapter.setAttributeForElementIndex(t,n,a)}},e.prototype.getSelectionAttribute=function(){return this.useSelectedAttr?cn.ARIA_SELECTED:cn.ARIA_CHECKED},e.prototype.setRadioAtIndex=function(t,r){r===void 0&&(r={});var n=this.getSelectionAttribute();this.adapter.setCheckedCheckboxOrRadioAtIndex(t,!0),(this.selectedIndex!==t||r.forceUpdate)&&(this.selectedIndex!==ui.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex,n,"false"),this.adapter.setAttributeForElementIndex(t,n,"true"),this.selectedIndex=t,r.isUserInteraction&&!r.forceUpdate&&this.adapter.notifySelectionChange([t]))},e.prototype.setCheckboxAtIndex=function(t,r){r===void 0&&(r={});for(var n=this.selectedIndex,a=r.isUserInteraction?new Set(n===ui.UNSET_INDEX?[]:n):null,s=this.getSelectionAttribute(),o=[],l=0;l<this.adapter.getListItemCount();l++){var d=a==null?void 0:a.has(l),c=t.indexOf(l)>=0;c!==d&&o.push(l),this.adapter.setCheckedCheckboxOrRadioAtIndex(l,c),this.adapter.setAttributeForElementIndex(l,s,c?"true":"false")}this.selectedIndex=t,r.isUserInteraction&&o.length&&this.adapter.notifySelectionChange(o)},e.prototype.toggleCheckboxRange=function(t,r,n){this.lastSelectedIndex=n;for(var a=new Set(this.selectedIndex===ui.UNSET_INDEX?[]:this.selectedIndex),s=!(a!=null&&a.has(n)),o=fp([t,r].sort(),2),l=o[0],d=o[1],c=this.getSelectionAttribute(),u=[],h=l;h<=d;h++)this.isIndexDisabled(h)||s!==a.has(h)&&(u.push(h),this.adapter.setCheckedCheckboxOrRadioAtIndex(h,s),this.adapter.setAttributeForElementIndex(h,c,""+s),s?a.add(h):a.delete(h));u.length&&(this.selectedIndex=yT([],fp(a)),this.adapter.notifySelectionChange(u))},e.prototype.setTabindexAtIndex=function(t){this.focusedItemIndex===ui.UNSET_INDEX&&t!==0?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex>=0&&this.focusedItemIndex!==t&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.selectedIndex instanceof Array||this.selectedIndex===t||this.adapter.setAttributeForElementIndex(this.selectedIndex,"tabindex","-1"),t!==ui.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(t,"tabindex","0")},e.prototype.isSelectableList=function(){return this.isSingleSelectionList||this.isCheckboxList||this.isRadioList},e.prototype.setTabindexToFirstSelectedOrFocusedItem=function(){var t=this.getFirstSelectedOrFocusedItemIndex();this.setTabindexAtIndex(t)},e.prototype.getFirstSelectedOrFocusedItemIndex=function(){return this.isSelectableList()?typeof this.selectedIndex=="number"&&this.selectedIndex!==ui.UNSET_INDEX?this.selectedIndex:this.selectedIndex instanceof Array&&this.selectedIndex.length>0?this.selectedIndex.reduce(function(t,r){return Math.min(t,r)}):0:Math.max(this.focusedItemIndex,0)},e.prototype.isIndexValid=function(t,r){var n=this;if(r===void 0&&(r=!0),t instanceof Array){if(!this.isCheckboxList&&r)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return t.length===0||t.some(function(a){return n.isIndexInRange(a)})}if(typeof t=="number"){if(this.isCheckboxList&&r)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return this.isIndexInRange(t)||this.isSingleSelectionList&&t===ui.UNSET_INDEX}return!1},e.prototype.isIndexInRange=function(t){var r=this.adapter.getListItemCount();return t>=0&&t<r},e.prototype.setSelectedIndexOnAction=function(t,r){this.lastSelectedIndex=t,this.isCheckboxList?(this.toggleCheckboxAtIndex(t,r),this.adapter.notifySelectionChange([t])):this.setSelectedIndex(t,{isUserInteraction:!0})},e.prototype.toggleCheckboxAtIndex=function(t,r){var n,a=this.getSelectionAttribute(),s=this.adapter.isCheckboxCheckedAtIndex(t);r?n=s:(n=!s,this.adapter.setCheckedCheckboxOrRadioAtIndex(t,n)),this.adapter.setAttributeForElementIndex(t,a,n?"true":"false");var o=this.selectedIndex===ui.UNSET_INDEX?[]:this.selectedIndex.slice();n?o.push(t):o=o.filter(function(l){return l!==t}),this.selectedIndex=o},e.prototype.focusItemAtIndex=function(t){this.adapter.focusItemAtIndex(t),this.focusedItemIndex=t},e.prototype.checkboxListToggleAll=function(t,r){var n=this.adapter.getListItemCount();if(t.length===n)this.setCheckboxAtIndex([],{isUserInteraction:r});else{for(var a=[],s=0;s<n;s++)(!this.isIndexDisabled(s)||t.indexOf(s)>-1)&&a.push(s);this.setCheckboxAtIndex(a,{isUserInteraction:r})}},e.prototype.typeaheadMatchItem=function(t,r,n){var a=this;n===void 0&&(n=!1);var s={focusItemAtIndex:function(o){a.focusItemAtIndex(o)},focusedItemIndex:r||this.focusedItemIndex,nextChar:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:n,isItemAtIndexDisabled:function(o){return a.isIndexDisabled(o)}};return cu(s,this.typeaheadState)},e.prototype.typeaheadInitSortedIndex=function(){return zT(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},e.prototype.clearTypeaheadBuffer=function(){u0(this.typeaheadState)},e})(Zr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var BT={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},$T={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},pp={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};function GT(i,e,t){if(!i)return{x:0,y:0};var r,n,a=e.x,s=e.y,o=a+t.left,l=s+t.top;if(i.type==="touchstart"){var d=i;r=d.changedTouches[0].pageX-o,n=d.changedTouches[0].pageY-l}else{var c=i;r=c.pageX-o,n=c.pageY-l}return{x:r,y:n}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gp=["touchstart","pointerdown","mousedown","keydown"],vp=["touchend","pointerup","mouseup","contextmenu"],nl=[];(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(n){r.activateImpl(n)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return BT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return $T},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return pp},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var n=e.cssClasses,a=n.ROOT,s=n.UNBOUNDED;requestAnimationFrame(function(){t.adapter.addClass(a),t.adapter.isUnbounded()&&(t.adapter.addClass(s),t.layoutInternal())})}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var r=e.cssClasses,n=r.ROOT,a=r.UNBOUNDED;requestAnimationFrame(function(){t.adapter.removeClass(n),t.adapter.removeClass(a),t.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},e.prototype.activate=function(t){this.activateImpl(t)},e.prototype.deactivate=function(){this.deactivateImpl()},e.prototype.layout=function(){var t=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){t.layoutInternal(),t.layoutFrame=0})},e.prototype.setUnbounded=function(t){var r=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame(function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame(function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers=function(t){var r,n;if(t){try{for(var a=ur(gp),s=a.next();!s.done;s=a.next()){var o=s.value;this.adapter.registerInteractionHandler(o,this.activateHandler)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},e.prototype.registerDeactivationHandlers=function(t){var r,n;if(t.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var a=ur(vp),s=a.next();!s.done;s=a.next()){var o=s.value;this.adapter.registerDocumentInteractionHandler(o,this.deactivateHandler)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.deregisterRootHandlers=function(){var t,r;try{for(var n=ur(gp),a=n.next();!a.done;a=n.next()){var s=a.value;this.adapter.deregisterInteractionHandler(s,this.activateHandler)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},e.prototype.deregisterDeactivationHandlers=function(){var t,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var n=ur(vp),a=n.next();!a.done;a=n.next()){var s=a.value;this.adapter.deregisterDocumentInteractionHandler(s,this.deactivateHandler)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.removeCssVars=function(){var t=this,r=e.strings;Object.keys(r).forEach(function(n){n.indexOf("VAR_")===0&&t.adapter.updateCssVariable(r[n],null)})},e.prototype.activateImpl=function(t){var r=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState;if(!n.isActivated){var a=this.previousActivationEvent;a&&t!==void 0&&a.type!==t.type||(n.isActivated=!0,n.isProgrammatic=t===void 0,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&t!==void 0&&(t.type==="mousedown"||t.type==="touchstart"||t.type==="pointerdown"),t!==void 0&&nl.length>0&&nl.some(function(s){return r.adapter.containsEventTarget(s)})?this.resetActivationState():(t!==void 0&&(nl.push(t.target),this.registerDeactivationHandlers(t)),n.wasElementMadeActive=this.checkElementMadeActive(t),n.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){nl=[],n.wasElementMadeActive||t===void 0||t.key!==" "&&t.keyCode!==32||(n.wasElementMadeActive=r.checkElementMadeActive(t),n.wasElementMadeActive&&r.animateActivation()),n.wasElementMadeActive||(r.activationState=r.defaultActivationState())})))}}},e.prototype.checkElementMadeActive=function(t){return t===void 0||t.type!=="keydown"||this.adapter.isSurfaceActive()},e.prototype.animateActivation=function(){var t=this,r=e.strings,n=r.VAR_FG_TRANSLATE_START,a=r.VAR_FG_TRANSLATE_END,s=e.cssClasses,o=s.FG_DEACTIVATION,l=s.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",u="";if(!this.adapter.isUnbounded()){var h=this.getFgTranslationCoordinates(),g=h.startPoint,k=h.endPoint;c=g.x+"px, "+g.y+"px",u=k.x+"px, "+k.y+"px"}this.adapter.updateCssVariable(n,c),this.adapter.updateCssVariable(a,u),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(o),this.adapter.computeBoundingRect(),this.adapter.addClass(l),this.activationTimer=setTimeout(function(){t.activationTimerCallback()},d)},e.prototype.getFgTranslationCoordinates=function(){var t,r=this.activationState,n=r.activationEvent;return{startPoint:t={x:(t=r.wasActivatedByPointer?GT(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame.width/2,y:this.frame.height/2}).x-this.initialSize/2,y:t.y-this.initialSize/2},endPoint:{x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2}}},e.prototype.runDeactivationUXLogicIfReady=function(){var t=this,r=e.cssClasses.FG_DEACTIVATION,n=this.activationState,a=n.hasDeactivationUXRun,s=n.isActivated;(a||!s)&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){t.adapter.removeClass(r)},pp.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState=function(){var t=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return t.previousActivationEvent=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivateImpl=function(){var t=this,r=this.activationState;if(r.isActivated){var n=mi({},r);r.isProgrammatic?(requestAnimationFrame(function(){t.animateDeactivation(n)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){t.activationState.hasDeactivationUXRun=!0,t.animateDeactivation(n),t.resetActivationState()}))}},e.prototype.animateDeactivation=function(t){var r=t.wasActivatedByPointer,n=t.wasElementMadeActive;(r||n)&&this.runDeactivationUXLogicIfReady()},e.prototype.layoutInternal=function(){var t=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width);this.maxRadius=this.adapter.isUnbounded()?r:Math.sqrt(Math.pow(t.frame.width,2)+Math.pow(t.frame.height,2))+e.numbers.PADDING;var n=Math.floor(r*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize=n-1:this.initialSize=n,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},e.prototype.updateLayoutCssVars=function(){var t=e.strings,r=t.VAR_FG_SIZE,n=t.VAR_LEFT,a=t.VAR_TOP,s=t.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(s,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(n,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(a,this.unboundedCoords.top+"px"))},e})(Zr);function UT(i){let e;const t=i[11].default,r=Kl(t,i,i[13],null);return{c(){r&&r.c()},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||8192&a)&&Jl(r,t,n,n[13],e?Zl(t,n[13],a,null):Ql(n[13]),null)},i(n){e||(Sr(r,n),e=!0)},o(n){Xr(r,n),e=!1},d(n){r&&r.d(n)}}}function jT(i){let e,t,r;const n=[{tag:i[3]},{use:[i[8],...i[0]]},{class:Nl(on({[i[1]]:!0,[i[6]]:!0},i[5]))},i[7],i[9]];var a=i[2];function s(o){let l={$$slots:{default:[UT]},$$scope:{ctx:o}};for(let d=0;d<n.length;d+=1)l=er(l,n[d]);return{props:l}}return a&&(e=sp(a,s(i)),i[12](e)),{c(){e&&dp(e.$$.fragment),t=ed()},m(o,l){e&&ou(e,o,l),xn(o,t,l),r=!0},p(o,[l]){const d=1003&l?ao(n,[8&l&&{tag:o[3]},257&l&&{use:[o[8],...o[0]]},98&l&&{class:Nl(on({[o[1]]:!0,[o[6]]:!0},o[5]))},128&l&&lp(o[7]),512&l&&lp(o[9])]):{};if(8192&l&&(d.$$scope={dirty:l,ctx:o}),4&l&&a!==(a=o[2])){if(e){o0();const c=e;Xr(c.$$.fragment,1,0,()=>{lu(c,1)}),l0()}a?(e=sp(a,s(o)),o[12](e),dp(e.$$.fragment),Sr(e.$$.fragment,1),ou(e,t.parentNode,t)):e=null}else a&&e.$set(d)},i(o){r||(e&&Sr(e.$$.fragment,o),r=!0)},o(o){e&&Xr(e.$$.fragment,o),r=!1},d(o){i[12](null),o&&Yr(t),e&&lu(e,o)}}}const $r={component:d0,tag:"div",class:"",classMap:{},contexts:{},props:{}};function HT(i,e,t){const r=["use","class","component","tag","getElement"];let n,a=Ya(e,r),{$$slots:s={},$$scope:o}=e,{use:l=[]}=e,{class:d=""}=e;const c=$r.class,u={},h=[],g=$r.contexts,k=$r.props;let{component:U=$r.component}=e,{tag:I=U===d0?$r.tag:void 0}=e;Object.entries($r.classMap).forEach(([$,R])=>{const T=a0(R);T&&"subscribe"in T&&h.push(T.subscribe(B=>{t(5,u[$]=B,u)}))});const O=Hu(Qa());for(let $ in g)g.hasOwnProperty($)&&dT($,g[$]);return lT(()=>{for(const $ of h)$()}),i.$$set=$=>{e=er(er({},e),Bu($)),t(9,a=Ya(e,r)),"use"in $&&t(0,l=$.use),"class"in $&&t(1,d=$.class),"component"in $&&t(2,U=$.component),"tag"in $&&t(3,I=$.tag),"$$scope"in $&&t(13,o=$.$$scope)},[l,d,U,I,n,u,c,k,O,a,function(){return n.getElement()},s,function($){Wn[$?"unshift":"push"](()=>{n=$,t(4,n)})},o]}class VT extends ju{constructor(e){super(),Uu(this,e,HT,jT,no,{use:0,class:1,component:2,tag:3,getElement:10})}get getElement(){return this.$$.ctx[10]}}const _p=Object.assign({},$r);function Ar(i){return new Proxy(VT,{construct:function(e,t){return Object.assign($r,_p,i),new e(...t)},get:function(e,t){return Object.assign($r,_p,i),e[t]}})}Ar({class:"mdc-deprecated-list-item__text",tag:"span"});Ar({class:"mdc-deprecated-list-item__primary-text",tag:"span"});Ar({class:"mdc-deprecated-list-item__secondary-text",tag:"span"});Ar({class:"mdc-deprecated-list-item__meta",tag:"span"});Ar({class:"mdc-deprecated-list-group",tag:"div"});Ar({class:"mdc-deprecated-list-group__subheader",tag:"h3"});/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var WT={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.shakeAnimationEndHandler=function(){r.handleShakeAnimationEnd()},r}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return WT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler)},e.prototype.getWidth=function(){return this.adapter.getWidth()},e.prototype.shake=function(t){var r=e.cssClasses.LABEL_SHAKE;t?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.float=function(t){var r=e.cssClasses,n=r.LABEL_FLOAT_ABOVE,a=r.LABEL_SHAKE;t?this.adapter.addClass(n):(this.adapter.removeClass(n),this.adapter.removeClass(a))},e.prototype.setRequired=function(t){var r=e.cssClasses.LABEL_REQUIRED;t?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.handleShakeAnimationEnd=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter.removeClass(t)},e})(Zr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Dn={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.transitionEndHandler=function(n){r.handleTransitionEnd(n)},r}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return Dn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler)},e.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler)},e.prototype.activate=function(){this.adapter.removeClass(Dn.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Dn.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter.addClass(Dn.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var r=this.adapter.hasClass(Dn.LINE_RIPPLE_DEACTIVATING);t.propertyName==="opacity"&&r&&(this.adapter.removeClass(Dn.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Dn.LINE_RIPPLE_DEACTIVATING))},e})(Zr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var XT={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},bp={NOTCH_ELEMENT_PADDING:8},qT={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i){function e(t){return i.call(this,mi(mi({},e.defaultAdapter),t))||this}return Kr(e,i),Object.defineProperty(e,"strings",{get:function(){return XT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return qT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return bp},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!1,configurable:!0}),e.prototype.notch=function(t){var r=e.cssClasses.OUTLINE_NOTCHED;t>0&&(t+=bp.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(t),this.adapter.addClass(r)},e.prototype.closeNotch=function(){var t=e.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(t),this.adapter.removeNotchWidthProperty()},e})(Zr);Ar({class:"mdc-text-field-helper-line",tag:"div"});Ar({class:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"});Ar({class:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"});/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Lc={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},YT={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon",WITH_INTERNAL_COUNTER:"mdc-text-field--with-internal-counter"},yp={LABEL_SCALE:.75},KT=["pattern","min","max","required","step","minlength","maxlength"],ZT=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xp=["mousedown","touchstart"],wp=["click","keydown"];(function(i){function e(t,r){r===void 0&&(r={});var n=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return n.isFocused=!1,n.receivedUserInput=!1,n.valid=!0,n.useNativeValidation=!0,n.validateOnValueChange=!0,n.helperText=r.helperText,n.characterCounter=r.characterCounter,n.leadingIcon=r.leadingIcon,n.trailingIcon=r.trailingIcon,n.inputFocusHandler=function(){n.activateFocus()},n.inputBlurHandler=function(){n.deactivateFocus()},n.inputInputHandler=function(){n.handleInput()},n.setPointerXOffset=function(a){n.setTransformOrigin(a)},n.textFieldInteractionHandler=function(){n.handleTextFieldInteraction()},n.validationAttributeChangeHandler=function(a){n.handleValidationAttributeChange(a)},n}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return YT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Lc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return yp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat",{get:function(){var t=this.getNativeInput().type;return ZT.indexOf(t)>=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat||this.isFocused||!!this.getValue()||this.isBadInput()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused&&!this.isValid()&&!!this.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,r,n,a;this.adapter.hasLabel()&&this.getNativeInput().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler);try{for(var s=ur(xp),o=s.next();!o.done;o=s.next()){var l=o.value;this.adapter.registerInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var d=ur(wp),c=d.next();!c.done;c=d.next())l=c.value,this.adapter.registerTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.validationObserver=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler),this.setcharacterCounter(this.getValue().length)},e.prototype.destroy=function(){var t,r,n,a;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler);try{for(var s=ur(xp),o=s.next();!o.done;o=s.next()){var l=o.value;this.adapter.deregisterInputInteractionHandler(l,this.setPointerXOffset)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var d=ur(wp),c=d.next();!c.done;c=d.next())l=c.value,this.adapter.deregisterTextFieldInteractionHandler(l,this.textFieldInteractionHandler)}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver)},e.prototype.handleTextFieldInteraction=function(){var t=this.adapter.getNativeInput();t&&t.disabled||(this.receivedUserInput=!0)},e.prototype.handleValidationAttributeChange=function(t){var r=this;t.some(function(n){return KT.indexOf(n)>-1&&(r.styleValidity(!0),r.adapter.setLabelRequired(r.getNativeInput().required),!0)}),t.indexOf("maxlength")>-1&&this.setcharacterCounter(this.getValue().length)},e.prototype.notchOutline=function(t){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(t){var r=this.adapter.getLabelWidth()*yp.LABEL_SCALE;this.adapter.notchOutline(r)}else this.adapter.closeOutline()},e.prototype.activateFocus=function(){this.isFocused=!0,this.styleFocused(this.isFocused),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText||!this.helperText.isPersistent()&&this.helperText.isValidation()&&this.valid||this.helperText.showToScreenReader()},e.prototype.setTransformOrigin=function(t){if(!this.isDisabled()&&!this.adapter.hasOutline()){var r=t.touches,n=r?r[0]:t,a=n.target.getBoundingClientRect(),s=n.clientX-a.left;this.adapter.setLineRippleTransformOrigin(s)}},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setcharacterCounter(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused=!1,this.adapter.deactivateLineRipple();var t=this.isValid();this.styleValidity(t),this.styleFocused(this.isFocused),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput=!1)},e.prototype.getValue=function(){return this.getNativeInput().value},e.prototype.setValue=function(t){if(this.getValue()!==t&&(this.getNativeInput().value=t),this.setcharacterCounter(t.length),this.validateOnValueChange){var r=this.isValid();this.styleValidity(r)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating(this.shouldFloat),this.validateOnValueChange&&this.adapter.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation?this.isNativeInputValid():this.valid},e.prototype.setValid=function(t){this.valid=t,this.styleValidity(t);var r=!t&&!this.isFocused&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(r)},e.prototype.setValidateOnValueChange=function(t){this.validateOnValueChange=t},e.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange},e.prototype.setUseNativeValidation=function(t){this.useNativeValidation=t},e.prototype.isDisabled=function(){return this.getNativeInput().disabled},e.prototype.setDisabled=function(t){this.getNativeInput().disabled=t,this.styleDisabled(t)},e.prototype.setHelperTextContent=function(t){this.helperText&&this.helperText.setContent(t)},e.prototype.setLeadingIconAriaLabel=function(t){this.leadingIcon&&this.leadingIcon.setAriaLabel(t)},e.prototype.setLeadingIconContent=function(t){this.leadingIcon&&this.leadingIcon.setContent(t)},e.prototype.setTrailingIconAriaLabel=function(t){this.trailingIcon&&this.trailingIcon.setAriaLabel(t)},e.prototype.setTrailingIconContent=function(t){this.trailingIcon&&this.trailingIcon.setContent(t)},e.prototype.setcharacterCounter=function(t){if(this.characterCounter){var r=this.getNativeInput().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter.setCounterValue(t,r)}},e.prototype.isBadInput=function(){return this.getNativeInput().validity.badInput||!1},e.prototype.isNativeInputValid=function(){return this.getNativeInput().validity.valid},e.prototype.styleValidity=function(t){var r=e.cssClasses.INVALID;if(t?this.adapter.removeClass(r):this.adapter.addClass(r),this.helperText){if(this.helperText.setValidity(t),!this.helperText.isValidation())return;var n=this.helperText.isVisible(),a=this.helperText.getId();n&&a?this.adapter.setInputAttr(Lc.ARIA_DESCRIBEDBY,a):this.adapter.removeInputAttr(Lc.ARIA_DESCRIBEDBY)}},e.prototype.styleFocused=function(t){var r=e.cssClasses.FOCUSED;t?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.styleDisabled=function(t){var r=e.cssClasses,n=r.DISABLED,a=r.INVALID;t?(this.adapter.addClass(n),this.adapter.removeClass(a)):this.adapter.removeClass(n),this.leadingIcon&&this.leadingIcon.setDisabled(t),this.trailingIcon&&this.trailingIcon.setDisabled(t)},e.prototype.styleFloating=function(t){var r=e.cssClasses.LABEL_FLOATING;t?this.adapter.addClass(r):this.adapter.removeClass(r)},e.prototype.getNativeInput=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e})(Zr);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Sp={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},JT={ROOT:"mdc-text-field__icon"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ep=["click","keydown"];(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.savedTabIndex=null,r.interactionHandler=function(n){r.handleInteraction(n)},r}return Kr(e,i),Object.defineProperty(e,"strings",{get:function(){return Sp},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return JT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,r;this.savedTabIndex=this.adapter.getAttr("tabindex");try{for(var n=ur(Ep),a=n.next();!a.done;a=n.next()){var s=a.value;this.adapter.registerInteractionHandler(s,this.interactionHandler)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.destroy=function(){var t,r;try{for(var n=ur(Ep),a=n.next();!a.done;a=n.next()){var s=a.value;this.adapter.deregisterInteractionHandler(s,this.interactionHandler)}}catch(o){t={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.setDisabled=function(t){this.savedTabIndex&&(t?(this.adapter.setAttr("tabindex","-1"),this.adapter.removeAttr("role")):(this.adapter.setAttr("tabindex",this.savedTabIndex),this.adapter.setAttr("role",Sp.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter.setContent(t)},e.prototype.handleInteraction=function(t){var r=t.key==="Enter"||t.keyCode===13;(t.type==="click"||r)&&(t.preventDefault(),this.adapter.notifyIconAction())},e})(Zr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fi,Gs,QT={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},eA={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",OPENING_EVENT:"MDCMenuSurface:opening",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Cs={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67,TOUCH_EVENT_WAIT_MS:30};(function(i){i[i.BOTTOM=1]="BOTTOM",i[i.CENTER=2]="CENTER",i[i.RIGHT=4]="RIGHT",i[i.FLIP_RTL=8]="FLIP_RTL"})(fi||(fi={})),function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=4]="TOP_RIGHT",i[i.BOTTOM_LEFT=1]="BOTTOM_LEFT",i[i.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",i[i.TOP_START=8]="TOP_START",i[i.TOP_END=12]="TOP_END",i[i.BOTTOM_START=9]="BOTTOM_START",i[i.BOTTOM_END=13]="BOTTOM_END"}(Gs||(Gs={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tA=function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.isHorizontallyCenteredOnViewport=!1,r.maxHeight=0,r.openBottomBias=0,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=Gs.TOP_START,r.originCorner=Gs.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return QT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return eA},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Cs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Gs},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyClosing:function(){},notifyOpen:function(){},notifyOpening:function(){}}},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,r=t.ROOT,n=t.OPEN;if(!this.adapter.hasClass(r))throw new Error(r+" class required in root element.");this.adapter.hasClass(n)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^fi.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.isFixed=function(){return this.isFixedPosition},e.prototype.setAbsolutePosition=function(t,r){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(r)?r:0},e.prototype.setIsHorizontallyCenteredOnViewport=function(t){this.isHorizontallyCenteredOnViewport=t},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.setMaxHeight=function(t){this.maxHeight=t},e.prototype.setOpenBottomBias=function(t){this.openBottomBias=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.notifyOpening(),this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.adapter.addClass(e.cssClasses.OPEN),t.openAnimationEndTimerId=setTimeout(function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()},Cs.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var r=this;if(t===void 0&&(t=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){r.adapter.removeClass(e.cssClasses.OPEN),r.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),r.closeAnimationEndTimerId=setTimeout(function(){r.closeAnimationEndTimerId=0,r.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),r.adapter.notifyClose()},Cs.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()}},e.prototype.handleBodyClick=function(t){var r=t.target;this.adapter.isElementInContainer(r)||this.close()},e.prototype.handleKeydown=function(t){var r=t.keyCode;(t.key==="Escape"||r===27)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var r=this.getoriginCorner(),n=this.getMenuSurfaceMaxHeight(r),a=this.hasBit(r,fi.BOTTOM)?"bottom":"top",s=this.hasBit(r,fi.RIGHT)?"right":"left",o=this.getHorizontalOriginOffset(r),l=this.getVerticalOriginOffset(r),d=this.measurements,c=d.anchorSize,u=d.surfaceSize,h=((t={})[s]=o,t[a]=l,t);c.width/u.width>Cs.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(s="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(h),this.adapter.setTransformOrigin(s+" "+a),this.adapter.setPosition(h),this.adapter.setMaxHeight(n?n+"px":""),this.hasBit(r,fi.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),r=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),a=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:r,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:a}},e.prototype.getoriginCorner=function(){var t,r,n=this.originCorner,a=this.measurements,s=a.viewportDistance,o=a.anchorSize,l=a.surfaceSize,d=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,fi.BOTTOM)?(t=s.top-d+this.anchorMargin.bottom,r=s.bottom-d-this.anchorMargin.bottom):(t=s.top-d+this.anchorMargin.top,r=s.bottom-d+o.height-this.anchorMargin.top),!(r-l.height>0)&&t>r+this.openBottomBias&&(n=this.setBit(n,fi.BOTTOM));var c,u,h=this.adapter.isRtl(),g=this.hasBit(this.anchorCorner,fi.FLIP_RTL),k=this.hasBit(this.anchorCorner,fi.RIGHT)||this.hasBit(n,fi.RIGHT),U=!1;(U=h&&g?!k:k)?(c=s.left+o.width+this.anchorMargin.right,u=s.right-this.anchorMargin.right):(c=s.left+this.anchorMargin.left,u=s.right+o.width-this.anchorMargin.left);var I=c-l.width>0,O=u-l.width>0,$=this.hasBit(n,fi.FLIP_RTL)&&this.hasBit(n,fi.RIGHT);return O&&$&&h||!I&&$?n=this.unsetBit(n,fi.RIGHT):(I&&U&&h||I&&!U&&k||!O&&c>=u)&&(n=this.setBit(n,fi.RIGHT)),n},e.prototype.getMenuSurfaceMaxHeight=function(t){if(this.maxHeight>0)return this.maxHeight;var r=this.measurements.viewportDistance,n=0,a=this.hasBit(t,fi.BOTTOM),s=this.hasBit(this.anchorCorner,fi.BOTTOM),o=e.numbers.MARGIN_TO_EDGE;return a?(n=r.top+this.anchorMargin.top-o,s||(n+=this.measurements.anchorSize.height)):(n=r.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-o,s&&(n-=this.measurements.anchorSize.height)),n},e.prototype.getHorizontalOriginOffset=function(t){var r=this.measurements.anchorSize,n=this.hasBit(t,fi.RIGHT),a=this.hasBit(this.anchorCorner,fi.RIGHT);if(n){var s=a?r.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?s-(this.measurements.viewportSize.width-this.measurements.bodySize.width):s}return a?r.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var r=this.measurements.anchorSize,n=this.hasBit(t,fi.BOTTOM),a=this.hasBit(this.anchorCorner,fi.BOTTOM);return n?a?r.height-this.anchorMargin.top:-this.anchorMargin.bottom:a?r.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var r,n,a=this.measurements,s=a.windowScroll,o=a.viewportDistance,l=a.surfaceSize,d=a.viewportSize,c=Object.keys(t);try{for(var u=ur(c),h=u.next();!h.done;h=u.next()){var g=h.value,k=t[g]||0;!this.isHorizontallyCenteredOnViewport||g!=="left"&&g!=="right"?(k+=o[g],this.isFixedPosition||(g==="top"?k+=s.y:g==="bottom"?k-=s.y:g==="left"?k+=s.x:k-=s.x),t[g]=k):t[g]=(d.width-l.width)/2}}catch(U){r={error:U}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}},e.prototype.maybeRestoreFocus=function(){var t=this,r=this.adapter.isFocused(),n=this.adapter.getOwnerDocument?this.adapter.getOwnerDocument():document,a=n.activeElement&&this.adapter.isElementInContainer(n.activeElement);(r||a)&&setTimeout(function(){t.adapter.restoreFocus()},Cs.TOUCH_EVENT_WAIT_MS)},e.prototype.hasBit=function(t,r){return!!(t&r)},e.prototype.setBit=function(t,r){return t|r},e.prototype.unsetBit=function(t,r){return t^r},e.prototype.isFinite=function(t){return typeof t=="number"&&isFinite(t)},e}(Zr);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Oa,Oc={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Ta={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},iA={FOCUS_ROOT_INDEX:-1};(function(i){i[i.NONE=0]="NONE",i[i.LIST_ROOT=1]="LIST_ROOT",i[i.FIRST_ITEM=2]="FIRST_ITEM",i[i.LAST_ITEM=3]="LAST_ITEM"})(Oa||(Oa={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(i){function e(t){var r=i.call(this,mi(mi({},e.defaultAdapter),t))||this;return r.closeAnimationEndTimerId=0,r.defaultFocusState=Oa.LIST_ROOT,r.selectedIndex=-1,r}return Kr(e,i),Object.defineProperty(e,"cssClasses",{get:function(){return Oc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ta},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return iA},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var r=t.key,n=t.keyCode;(r==="Tab"||n===9)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var r=this,n=this.adapter.getElementIndex(t);if(!(n<0)){this.adapter.notifySelected({index:n});var a=this.adapter.getAttributeFromElementAtIndex(n,Ta.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(a),this.closeAnimationEndTimerId=setTimeout(function(){var s=r.adapter.getElementIndex(t);s>=0&&r.adapter.isSelectableItemAtIndex(s)&&r.setSelectedIndex(s)},tA.numbers.TRANSITION_CLOSE_DURATION)}},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case Oa.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Oa.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Oa.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState=t},e.prototype.getSelectedIndex=function(){return this.selectedIndex},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var r=this.adapter.getSelectedSiblingOfItemAtIndex(t);r>=0&&(this.adapter.removeAttributeFromElementAtIndex(r,Ta.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(r,Oc.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,Oc.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Ta.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=t},e.prototype.setEnabled=function(t,r){this.validatedIndex(t),r?(this.adapter.removeClassFromElementAtIndex(t,It.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Ta.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,It.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(t,Ta.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex=function(t){var r=this.adapter.getMenuItemCount();if(!(t>=0&&t<r))throw new Error("MDCMenuFoundation: No list item at specified index.")},e})(Zr);function rA(i){let e,t,r,n,a,s;const o=i[8].default,l=Kl(o,i,i[7],null);let d=[{class:t=Nl({[i[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":i[4]})},i[5]],c={};for(let u=0;u<d.length;u+=1)c=er(c,d[u]);return{c(){e=$u("span"),l&&l.c(),nu(e,c)},m(u,h){xn(u,e,h),l&&l.m(e,null),i[9](e),n=!0,a||(s=[bn(r=td.call(null,e,i[0])),bn(i[3].call(null,e))],a=!0)},p(u,[h]){l&&l.p&&(!n||128&h)&&Jl(l,o,u,u[7],n?Zl(o,u[7],h,null):Ql(u[7]),null),nu(e,c=ao(d,[(!n||2&h&&t!==(t=Nl({[u[1]]:!0,"mdc-deprecated-list-item__graphic":!0,"mdc-menu__selection-group-icon":u[4]})))&&{class:t},32&h&&u[5]])),r&&Jn(r.update)&&1&h&&r.update.call(null,u[0])},i(u){n||(Sr(l,u),n=!0)},o(u){Xr(l,u),n=!1},d(u){u&&Yr(e),l&&l.d(u),i[9](null),a=!1,qr(s)}}}function nA(i,e,t){const r=["use","class","getElement"];let n=Ya(e,r),{$$slots:a={},$$scope:s}=e;const o=Hu(Qa());let l,{use:d=[]}=e,{class:c=""}=e,u=a0("SMUI:list:graphic:menu-selection-group");return i.$$set=h=>{e=er(er({},e),Bu(h)),t(5,n=Ya(e,r)),"use"in h&&t(0,d=h.use),"class"in h&&t(1,c=h.class),"$$scope"in h&&t(7,s=h.$$scope)},[d,c,l,o,u,n,function(){return l},s,a,function(h){Wn[h?"unshift":"push"](()=>{l=h,t(2,l)})}]}class aA extends ju{constructor(e){super(),Uu(this,e,nA,rA,no,{use:0,class:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}Ar({class:"mdc-menu__selection-group-icon",component:aA});var sA='.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:text;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);left:0;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.15rem;overflow:hidden;position:absolute;text-align:left;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);-webkit-transform-origin:left top;transform-origin:left top;transition:transform .15s cubic-bezier(.4,0,.2,1),color .15s cubic-bezier(.4,0,.2,1);white-space:nowrap;will-change:transform}.mdc-floating-label[dir=rtl],[dir=rtl] .mdc-floating-label{left:auto;right:0;text-align:right;-webkit-transform-origin:right top;transform-origin:right top}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:after{content:"*";margin-left:1px;margin-right:0}.mdc-floating-label--required[dir=rtl]:after,[dir=rtl] .mdc-floating-label--required:after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard .25s 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(0) translateY(-106%) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-106%) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-106%) scale(.75)}to{transform:translateX(0) translateY(-106%) scale(.75)}}.smui-floating-label--remove-transition{transition:unset!important}.smui-floating-label--force-size{position:absolute!important;transform:unset!important}.mdc-line-ripple:after,.mdc-line-ripple:before{border-bottom-style:solid;bottom:0;content:"";left:0;position:absolute;width:100%}.mdc-line-ripple:before{border-bottom-width:1px;z-index:1}.mdc-line-ripple:after{border-bottom-width:2px;opacity:0;transform:scaleX(0);transition:transform .18s cubic-bezier(.4,0,.2,1),opacity .18s cubic-bezier(.4,0,.2,1);z-index:2}.mdc-line-ripple--active:after{opacity:1;transform:scaleX(1)}.mdc-line-ripple--deactivating:after{opacity:0}.mdc-deprecated-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87));font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-deprecated-list:focus{outline:none}.mdc-deprecated-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-deprecated-list-item__graphic{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{opacity:.38}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__secondary-text,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__text{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-deprecated-list-item--activated,.mdc-deprecated-list-item--activated .mdc-deprecated-list-item__graphic,.mdc-deprecated-list-item--selected,.mdc-deprecated-list-item--selected .mdc-deprecated-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list--dense{font-size:.812rem;padding-bottom:4px;padding-top:4px}.mdc-deprecated-list-item__wrapper{display:block}.mdc-deprecated-list-item{align-items:center;display:flex;height:48px;justify-content:flex-start;overflow:hidden;padding:0 16px;position:relative}.mdc-deprecated-list-item:focus{outline:none}.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-deprecated-list-item:not(.mdc-deprecated-list-item--selected):focus:before{border-color:CanvasText}}.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-deprecated-list-item.mdc-deprecated-list-item--selected:before{border-color:CanvasText}}.mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{height:56px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item{height:72px;padding-left:16px;padding-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item{padding-left:16px;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px;padding-left:0;padding-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item{padding-left:16px;padding-right:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:20px;margin-left:0;margin-right:16px;width:20px}.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list-item__graphic{fill:currentColor;align-items:center;flex-shrink:0;height:24px;justify-content:center;margin-left:0;margin-right:32px;object-fit:cover;width:24px}.mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{height:24px;margin-left:0;margin-right:32px;width:24px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{margin-left:32px;margin-right:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{border-radius:50%;height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{height:40px;margin-left:0;margin-right:16px;width:40px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:56px}.mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{height:56px;margin-left:0;margin-right:16px;width:100px}.mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}.mdc-deprecated-list .mdc-deprecated-list-item__graphic{display:inline-flex}.mdc-deprecated-list-item__meta{margin-left:auto;margin-right:0}.mdc-deprecated-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-deprecated-list-item[dir=rtl] .mdc-deprecated-list-item__meta,[dir=rtl] .mdc-deprecated-list-item .mdc-deprecated-list-item__meta{margin-left:0;margin-right:auto}.mdc-deprecated-list-item__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__text[for]{pointer-events:none}.mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:before,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--image-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item__primary-text:after,.mdc-deprecated-list--video-list .mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:before{content:"";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-deprecated-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-deprecated-list-item__secondary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-deprecated-list--dense .mdc-deprecated-list-item__secondary-text{font-size:inherit}.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:40px}.mdc-deprecated-list--two-line .mdc-deprecated-list-item__text{align-self:flex-start}.mdc-deprecated-list--two-line .mdc-deprecated-list-item{height:64px}.mdc-deprecated-list--two-line.mdc-deprecated-list--avatar-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--image-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--video-list .mdc-deprecated-list-item{height:72px}.mdc-deprecated-list--two-line.mdc-deprecated-list--icon-list .mdc-deprecated-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item,.mdc-deprecated-list--two-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:60px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{height:36px;margin-left:0;margin-right:16px;width:36px}.mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list.mdc-deprecated-list--dense .mdc-deprecated-list-item__graphic{margin-left:16px;margin-right:0}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{cursor:pointer}a.mdc-deprecated-list-item{color:inherit;text-decoration:none}.mdc-deprecated-list-divider{border:none;border-bottom:1px solid;border-bottom-color:rgba(0,0,0,.12);height:0;margin:0}.mdc-deprecated-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--padded{margin-left:0;margin-right:16px}.mdc-deprecated-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list-divider--inset[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset{margin-left:0;margin-right:72px}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded[dir=rtl],[dir=rtl] .mdc-deprecated-list-divider--inset.mdc-deprecated-list-divider--padded{margin-left:0;margin-right:72px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--icon-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--avatar-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:72px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--thumbnail-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:88px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}.mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--image-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:16px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing{margin-left:0;margin-right:116px}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0;width:100%}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--padding{margin-left:0;margin-right:0}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0;width:calc(100% - 16px)}.mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding[dir=rtl],[dir=rtl] .mdc-deprecated-list--video-list .mdc-deprecated-list-divider--inset-leading.mdc-deprecated-list-divider--inset-trailing.mdc-deprecated-list-divider--inset-padding{margin-left:0;margin-right:0}.mdc-deprecated-list-group .mdc-deprecated-list{padding:0}.mdc-deprecated-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-item__primary-text{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background,rgba(0,0,0,.54))}.mdc-list-item__overline-text{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-trailing-icon .mdc-list-item__end{background-color:transparent;color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background,rgba(0,0,0,.38))}.mdc-list-item__end{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background,rgba(0,0,0,.38))}.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end,.mdc-list-item--disabled .mdc-list-item__start{opacity:.38}.mdc-list-item--disabled .mdc-list-item__overline-text,.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--disabled.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:#000;color:var(--mdc-theme-on-surface,#000)}.mdc-list-item--activated .mdc-list-item__primary-text,.mdc-list-item--activated.mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--selected .mdc-list-item__primary-text,.mdc-list-item--selected.mdc-list-item--with-leading-icon .mdc-list-item__start{color:#6200ee;color:var(--mdc-theme-primary,#6200ee)}.mdc-deprecated-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background,rgba(0,0,0,.87))}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-list-divider:after{border-bottom:1px solid #fff;content:"";display:block}}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);line-height:1.5rem;list-style-type:none;margin:0;padding:8px 0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{align-items:center;align-items:stretch;cursor:pointer;display:flex;justify-content:flex-start;overflow:hidden;padding:0;position:relative}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end,.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border:1px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-ripple-upgraded--background-focused:before,.mdc-list-item:not(.mdc-list-item--selected):focus:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:before{border:3px double transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus:before{border:3px solid transparent;border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}@media screen and (forced-colors:active){.mdc-list-item.mdc-list-item--selected:focus:before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor}.mdc-list-item__end,.mdc-list-item__start{flex-shrink:0;pointer-events:none}.mdc-list-item__content{align-self:center;flex:1;overflow:hidden;pointer-events:none;text-overflow:ellipsis;white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__content,.mdc-list-item--with-two-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);white-space:nowrap}.mdc-list-item--with-three-lines .mdc-list-item__primary-text,.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__primary-text:after,.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight,400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing,.0178571429em);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height,1.25rem);line-height:normal;margin-top:0;overflow:hidden;text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration,inherit);text-overflow:ellipsis;text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform,inherit);white-space:nowrap}.mdc-list-item__secondary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{line-height:20px;white-space:normal}.mdc-list-item--with-overline .mdc-list-item__secondary-text{line-height:auto;white-space:nowrap}.mdc-list-item__overline-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-overline-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-overline-font-size,.75rem);font-weight:500;font-weight:var(--mdc-typography-overline-font-weight,500);letter-spacing:.1666666667em;letter-spacing:var(--mdc-typography-overline-letter-spacing,.1666666667em);line-height:2rem;line-height:var(--mdc-typography-overline-line-height,2rem);overflow:hidden;text-decoration:none;text-decoration:var(--mdc-typography-overline-text-decoration,none);text-overflow:ellipsis;text-transform:uppercase;text-transform:var(--mdc-typography-overline-text-transform,uppercase);white-space:nowrap}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:24px;vertical-align:0;width:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon .mdc-list-item__start{height:24px;width:24px}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image .mdc-list-item__start{height:56px;width:56px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line,.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{height:56px;width:100px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line,.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio .mdc-list-item__start{height:40px;width:40px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl],[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch .mdc-list-item__start{height:20px;width:36px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;line-height:normal;margin-bottom:-20px;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text:after{content:"";display:inline-block;height:20px;vertical-align:-20px;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end:before{content:"";display:inline-block;height:32px;vertical-align:0;width:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{height:24px;width:24px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end:before{content:"";display:inline-block;height:28px;vertical-align:0;width:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{height:40px;width:40px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl],[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{height:20px;width:36px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;line-height:normal;margin-top:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text:before{content:"";display:inline-block;height:20px;vertical-align:0;width:0}.mdc-list-item,.mdc-list-item[dir=rtl],[dir=rtl] .mdc-list-item{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height,1.75rem);margin:.75rem 16px;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit)}.mdc-list-divider{background-clip:content-box;background-color:rgba(0,0,0,.12);height:1px;padding:0}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:16px}.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl],[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:auto;padding-right:0}.mdc-list-divider[dir=rtl],[dir=rtl] .mdc-list-divider{padding:0}@keyframes mdc-ripple-fg-radius-in{0%{animation-timing-function:cubic-bezier(.4,0,.2,1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}@keyframes mdc-ripple-fg-opacity-in{0%{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}@keyframes mdc-ripple-fg-opacity-out{0%{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-deprecated-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-deprecated-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-deprecated-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-deprecated-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-deprecated-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-deprecated-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-deprecated-list-item__ripple,:not(.mdc-deprecated-list-item--disabled).mdc-deprecated-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-deprecated-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-deprecated-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-deprecated-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-deprecated-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:after,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-deprecated-list-item__ripple:before,.mdc-deprecated-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-deprecated-list-item--disabled .mdc-deprecated-list-item__ripple,.mdc-deprecated-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-activated-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple:before{opacity:.16;opacity:var(--mdc-ripple-hover-opacity,.16)}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.24;opacity:var(--mdc-ripple-focus-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.24;opacity:var(--mdc-ripple-press-opacity,.24);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.24)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{opacity:.08;opacity:var(--mdc-ripple-selected-opacity,.08)}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:after,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-surface--hover .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-hover-opacity,.12)}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.2;opacity:var(--mdc-ripple-focus-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple:after{transition:opacity .15s linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple:after{opacity:.2;opacity:var(--mdc-ripple-press-opacity,.2);transition-duration:75ms}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.2)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-list-item--disabled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-list-item--disabled .mdc-list-item__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-list-item--disabled .mdc-list-item__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-list-item--disabled .mdc-list-item__ripple:after,.mdc-list-item--disabled .mdc-list-item__ripple:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple:before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-list-item--disabled .mdc-list-item__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-ripple-surface{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:none;overflow:hidden;position:relative;will-change:transform,opacity}.mdc-ripple-surface:after,.mdc-ripple-surface:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-ripple-surface:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-ripple-surface:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-ripple-surface.mdc-ripple-upgraded:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface.mdc-ripple-upgraded:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-ripple-surface:after,.mdc-ripple-surface:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-ripple-surface.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]:before,.mdc-ripple-upgraded--unbounded:after,.mdc-ripple-upgraded--unbounded:before{height:100%;left:0;top:0;width:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:before{height:var(--mdc-ripple-fg-size,100%);left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded:after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-ripple-surface:after,.mdc-ripple-surface:before{background-color:#000;background-color:var(--mdc-ripple-color,#000)}.mdc-ripple-surface.mdc-ripple-surface--hover:before,.mdc-ripple-surface:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused:before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-ripple-surface:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--primary:after,.smui-ripple-surface--primary:before{background-color:#6200ee;background-color:var(--mdc-ripple-color,var(--mdc-theme-primary,#6200ee))}.smui-ripple-surface--primary.mdc-ripple-surface--hover:before,.smui-ripple-surface--primary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--primary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--primary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-ripple-surface--secondary:after,.smui-ripple-surface--secondary:before{background-color:#018786;background-color:var(--mdc-ripple-color,var(--mdc-theme-secondary,#018786))}.smui-ripple-surface--secondary.mdc-ripple-surface--hover:before,.smui-ripple-surface--secondary:hover:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.smui-ripple-surface--secondary.mdc-ripple-upgraded--background-focused:before,.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):focus:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):after{transition:opacity .15s linear}.smui-ripple-surface--secondary:not(.mdc-ripple-upgraded):active:after{opacity:.12;opacity:var(--mdc-ripple-press-opacity,.12);transition-duration:75ms}.smui-ripple-surface--secondary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity,0.12)}.smui-list--three-line .mdc-deprecated-list-item__text{align-self:flex-start}.smui-list--three-line .mdc-deprecated-list-item{height:88px}.smui-list--three-line.mdc-deprecated-list--dense .mdc-deprecated-list-item{height:76px}.mdc-deprecated-list-item.smui-menu-item--non-interactive{cursor:auto}.mdc-elevation-overlay{background-color:#fff;background-color:var(--mdc-elevation-overlay-color,#fff);border-radius:inherit;opacity:0;opacity:var(--mdc-elevation-overlay-opacity,0);pointer-events:none;position:absolute;transition:opacity .28s cubic-bezier(.4,0,.2,1)}.mdc-menu{min-width:112px;min-width:var(--mdc-menu-min-width,112px)}.mdc-menu .mdc-deprecated-list-item__graphic,.mdc-menu .mdc-deprecated-list-item__meta{color:rgba(0,0,0,.87)}.mdc-menu .mdc-menu-item--submenu-open .mdc-deprecated-list-item__ripple:before,.mdc-menu .mdc-menu-item--submenu-open .mdc-list-item__ripple:before{opacity:.04}.mdc-menu .mdc-deprecated-list{color:rgba(0,0,0,.87)}.mdc-menu .mdc-deprecated-list,.mdc-menu .mdc-list{position:relative}.mdc-menu .mdc-deprecated-list .mdc-elevation-overlay,.mdc-menu .mdc-list .mdc-elevation-overlay{height:100%;left:0;top:0;width:100%}.mdc-menu .mdc-deprecated-list-divider{margin:8px 0}.mdc-menu .mdc-deprecated-list-item{user-select:none}.mdc-menu .mdc-deprecated-list-item--disabled{cursor:auto}.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__graphic,.mdc-menu a.mdc-deprecated-list-item .mdc-deprecated-list-item__text{pointer-events:none}.mdc-menu__selection-group{fill:currentColor;padding:0}.mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:56px;padding-right:16px}.mdc-menu__selection-group .mdc-deprecated-list-item[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-deprecated-list-item{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{display:none;left:16px;position:absolute;right:auto;top:50%;transform:translateY(-50%)}.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl],[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon{left:auto;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-menu-surface{transform-origin-left:top left;transform-origin-right:top right;background-color:#fff;background-color:var(--mdc-theme-surface,#fff);border-radius:4px;border-radius:var(--mdc-shape-medium,4px);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-sizing:border-box;color:#000;color:var(--mdc-theme-on-surface,#000);display:none;margin:0;max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height,calc(100vh - 32px));max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width,calc(100vw - 32px));opacity:0;overflow:auto;padding:0;position:absolute;transform:scale(1);transform-origin:top left;transition:opacity .03s linear,transform .12s cubic-bezier(0,0,.2,1),height .25s cubic-bezier(0,0,.2,1);will-change:transform,opacity;z-index:8}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;opacity:0;transform:scale(.8)}.mdc-menu-surface--open{display:inline-block;opacity:1;transform:scale(1)}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity 75ms linear}.mdc-menu-surface[dir=rtl],[dir=rtl] .mdc-menu-surface{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{overflow:visible;position:relative}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.smui-menu-surface--static{display:inline-block;opacity:1;position:static;transform:scale(1);z-index:0}.mdc-menu__selection-group .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:none}.mdc-menu-item--selected .mdc-list-item__graphic.mdc-menu__selection-group-icon{display:inline}.mdc-notched-outline{box-sizing:border-box;display:flex;height:100%;left:0;max-width:100%;pointer-events:none;position:absolute;right:0;text-align:left;top:0;width:100%}.mdc-notched-outline[dir=rtl],[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-bottom:1px solid;border-top:1px solid;box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}.mdc-notched-outline__leading[dir=rtl],.mdc-notched-outline__trailing,[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;max-width:calc(100% - 24px);width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;max-width:100%;position:relative}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{border-top:none;padding-left:0;padding-right:8px}.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl],[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-text-field--filled{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{border-radius:50%;content:"";opacity:0;pointer-events:none;position:absolute}.mdc-text-field--filled .mdc-text-field__ripple:before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index,1)}.mdc-text-field--filled .mdc-text-field__ripple:after{z-index:0;z-index:var(--mdc-ripple-z-index,0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:before{transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{left:0;top:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple:after{left:var(--mdc-ripple-left,0);top:var(--mdc-ripple-top,0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple:after{animation:mdc-ripple-fg-opacity-out .15s;transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{height:200%;left:-50%;top:-50%;width:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple:after{height:var(--mdc-ripple-fg-size,100%);width:var(--mdc-ripple-fg-size,100%)}.mdc-text-field__ripple{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.mdc-text-field{align-items:baseline;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px);box-sizing:border-box;display:inline-flex;overflow:hidden;padding:0 16px;position:relative;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{pointer-events:none;top:50%;transform:translateY(-50%)}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;appearance:none;background:none;border:none;border-radius:0;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);min-width:0;padding:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;width:100%}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media{.mdc-text-field__input::placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field__input:-ms-input-placeholder{opacity:0;transition:opacity 67ms cubic-bezier(.4,0,.2,1) 0ms}}@media{.mdc-text-field--focused .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}@media{.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder{opacity:1;transition-delay:40ms;transition-duration:.11s}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-subtitle1-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size,1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight,400);height:28px;letter-spacing:.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing,.009375em);opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens:none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field__affix--prefix[dir=rtl],[dir=rtl] .mdc-text-field__affix--prefix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl],.mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field__affix--suffix{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple:after,.mdc-text-field--filled .mdc-text-field__ripple:before{background-color:rgba(0,0,0,.87);background-color:var(--mdc-ripple-color,rgba(0,0,0,.87))}.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple:before,.mdc-text-field--filled:hover .mdc-text-field__ripple:before{opacity:.04;opacity:var(--mdc-ripple-hover-opacity,.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple:before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple:before{opacity:.12;opacity:var(--mdc-ripple-focus-opacity,.12);transition-duration:75ms}.mdc-text-field--filled:before{content:"";display:inline-block;height:40px;vertical-align:0;width:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-34.75px) scale(.75)}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(0) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-34.75px) scale(.75)}to{transform:translateX(0) translateY(-34.75px) scale(.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}@supports(top:max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:0;border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small,4px);border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small,4px)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small,4px);border-bottom-right-radius:0;border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small,4px);border-top-right-radius:0}@supports(top:max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small,4px))}.mdc-text-field--outlined,.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:max(16px,var(--mdc-shape-small,4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:0}@supports(top:max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple:after,.mdc-text-field--outlined .mdc-text-field__ripple:before{background-color:transparent;background-color:var(--mdc-ripple-color,transparent)}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--outlined .mdc-text-field__input{background-color:transparent;border:none!important;display:flex}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{align-items:center;flex-direction:column;height:auto;padding:0;transition:none;width:auto}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{box-sizing:border-box;flex-grow:1;height:auto;line-height:1.5rem;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;padding:0 16px;resize:none}.mdc-text-field--textarea.mdc-text-field--filled:before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(0) translateY(-10.25px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-10.25px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-10.25px) scale(.75)}to{transform:translateX(0) translateY(-10.25px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-bottom:9px;margin-top:23px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem;transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem;transform:translateY(-24.75px) scale(.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined .25s 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(0) translateY(-24.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(4%) translateY(-24.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-4%) translateY(-24.75px) scale(.75)}to{transform:translateX(0) translateY(-24.75px) scale(.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-bottom:16px;margin-top:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:after{content:"";display:inline-block;height:16px;vertical-align:-16px;width:0}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter:before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(1px) translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-leading-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:48px;max-width:calc(100% - 48px);right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{left:auto;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:auto}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:auto;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(32px) scale(.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(-32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(-32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon .25s 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(32px) translateY(-34.75px) scale(.75)}33%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(calc(4% + 32px)) translateY(-34.75px) scale(.75)}66%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(calc(-4% + 32px)) translateY(-34.75px) scale(.75)}to{transform:translateX(32px) translateY(-34.75px) scale(.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}.mdc-text-field--with-trailing-icon[dir=rtl],[dir=rtl] .mdc-text-field--with-trailing-icon{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 85.33333px)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(133.33333% - 128px)}.mdc-text-field-helper-line{box-sizing:border-box;display:flex;justify-content:space-between}.mdc-text-field+.mdc-text-field-helper-line{padding-left:16px;padding-right:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:after,.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error,#b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media (-ms-high-contrast:active),screen and (forced-colors:active){.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled .mdc-text-field__affix--prefix,.mdc-text-field--disabled .mdc-text-field__affix--suffix,.mdc-text-field--disabled .mdc-text-field__icon--leading,.mdc-text-field--disabled .mdc-text-field__icon--trailing,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}.mdc-text-field--disabled .mdc-line-ripple:before{border-bottom-color:GrayText}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}@media screen and (forced-colors:active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input{text-align:left}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{direction:ltr}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading{order:1}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix{order:2}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input{order:3}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix{order:4}.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing{order:5}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-right:12px}.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix,[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px}.smui-text-field--standard{height:56px;padding:0}.smui-text-field--standard:before{content:"";display:inline-block;height:40px;vertical-align:0;width:0}.smui-text-field--standard:not(.mdc-text-field--disabled){background-color:transparent}.smui-text-field--standard:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.42)}.smui-text-field--standard:not(.mdc-text-field--disabled):hover .mdc-line-ripple:before{border-bottom-color:rgba(0,0,0,.87)}.smui-text-field--standard .mdc-line-ripple:after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary,#6200ee)}.smui-text-field--standard .mdc-floating-label{left:0;right:auto}.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-floating-label{left:auto;right:0}.smui-text-field--standard .mdc-floating-label--float-above{transform:translateY(-106%) scale(.75)}.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__input{height:100%}.smui-text-field--standard.mdc-text-field--no-label .mdc-floating-label,.smui-text-field--standard.mdc-text-field--no-label:before{display:none}@supports(-webkit-hyphens:none){.smui-text-field--standard.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:32px;max-width:calc(100% - 32px);right:auto}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label{left:auto;right:32px}.mdc-text-field--with-leading-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 64px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 36px)}.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 48px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label{max-width:calc(100% - 68px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.smui-text-field--standard .mdc-floating-label--float-above{max-width:calc(133.33333% - 90.66667px)}.mdc-text-field+.mdc-text-field-helper-line{padding-left:0;padding-right:0}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin-left:auto;margin-right:0;margin-top:0;padding-left:16px;padding-right:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);white-space:nowrap}.mdc-text-field-character-counter:before{content:"";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-character-counter[dir=rtl],[dir=rtl] .mdc-text-field-character-counter{margin-left:0;margin-right:auto;padding-left:0;padding-right:16px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-caption-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));font-size:.75rem;font-size:var(--mdc-typography-caption-font-size,.75rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight,400);letter-spacing:.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing,.0333333333em);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height,1.25rem);line-height:normal;margin:0;opacity:0;text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration,inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform,inherit);transition:opacity .15s cubic-bezier(.4,0,.2,1) 0ms;will-change:opacity}.mdc-text-field-helper-text:before{content:"";display:inline-block;height:16px;vertical-align:0;width:0}.mdc-text-field-helper-text--persistent{opacity:1;transition:none;will-change:auto}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}.mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .mdc-text-field__icon--leading{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px}.mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .mdc-text-field__icon--trailing{margin-left:0;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--leading{margin-left:0;margin-right:8px}.smui-text-field--standard .mdc-text-field__icon--leading[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--leading{margin-left:8px;margin-right:0}.smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding:12px 0 12px 12px}.smui-text-field--standard .mdc-text-field__icon--trailing[dir=rtl],[dir=rtl] .smui-text-field--standard .mdc-text-field__icon--trailing{margin-left:0;margin-right:0;padding-left:0;padding-right:12px}';ro(sA,{});var oA=":root *{--scrollbar-background:hsla(0,0%,100%,.1);scrollbar-track-color:transparent;scrollbar-face-color:var(--scrollbar-background);scrollbar-color:var(--scrollbar-background) transparent;scrollbar-width:thin;text-underline-offset:.5px}:root ::-webkit-scrollbar{border-radius:.3rem;height:5px;width:5px}:root ::-webkit-scrollbar-track{border-radius:.3rem}:root ::-webkit-scrollbar-corner{background:none!important}:root ::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background);border:3px solid var(--scrollbar-background);border-radius:20px;transition:background-color .5s}";ro(oA,{});var lA=":root{--cosmograph-search-text-color:#fff;--cosmograph-search-list-background:#222;--cosmograph-search-font-family:inherit;--cosmograph-search-input-background:#222;--cosmograph-search-mark-background:hsla(0,0%,100%,.2);--cosmograph-search-accessor-background:hsla(0,0%,100%,.2);--cosmograph-search-interactive-background:hsla(0,0%,100%,.4);--cosmograph-search-hover-color:hsla(0,0%,100%,.05)}.search-icon.svelte-1xknafk.svelte-1xknafk{color:var(--cosmograph-search-text-color)!important;opacity:.6}.search.svelte-1xknafk .cosmograph-search-accessor{align-content:center;background-color:var(--cosmograph-search-accessor-background);border-radius:10px;color:var(--cosmograph-search-text-color);cursor:pointer;display:flex;display:block;font-size:12px;font-style:normal;justify-content:center;line-height:1;margin-right:.5rem;overflow:hidden;padding:5px 8px;text-overflow:ellipsis;transition:background .15s linear;white-space:nowrap;z-index:1}.search.svelte-1xknafk .cosmograph-search-accessor.active,.search.svelte-1xknafk .cosmograph-search-accessor:hover{background-color:var(--cosmograph-search-interactive-background)}.search.svelte-1xknafk .disabled{cursor:default;pointer-events:none}.search.svelte-1xknafk.svelte-1xknafk{background:var(--cosmograph-search-input-background);display:flex;flex-direction:column;font-family:var(--cosmograph-search-font-family),sans-serif;text-align:left;width:100%}.search.svelte-1xknafk mark{background:var(--cosmograph-search-mark-background);border-radius:2px;color:var(--cosmograph-search-text-color);padding:1px 0}.search.svelte-1xknafk .cosmograph-search-match{-webkit-box-orient:vertical;cursor:pointer;display:-webkit-box;line-height:1.35;overflow:hidden;padding:calc(var(--margin-v)*1px) calc(var(--margin-h)*1px);text-overflow:ellipsis;white-space:normal}.search.svelte-1xknafk .cosmograph-search-match:hover{background:var(--cosmograph-search-hover-color)}.search.svelte-1xknafk .cosmograph-search-result{display:inline;font-size:12px;font-weight:600;text-transform:uppercase}.search.svelte-1xknafk .cosmograph-search-result>span{font-weight:400;letter-spacing:1;margin-left:4px}.search.svelte-1xknafk .cosmograph-search-result>span>t{margin-right:4px}.search.svelte-1xknafk .mdc-menu-surface{background-color:var(--cosmograph-search-list-background)!important;max-height:none!important}.search.svelte-1xknafk .openListUpwards.svelte-1xknafk .mdc-menu-surface{bottom:55px!important;top:unset!important}.search.svelte-1xknafk .mdc-text-field__input{caret-color:var(--cosmograph-search-text-color)!important;height:100%;letter-spacing:-.01em;line-height:2;line-height:2!important;padding-top:15px!important}.search.svelte-1xknafk .mdc-floating-label,.search.svelte-1xknafk .mdc-text-field__input{color:var(--cosmograph-search-text-color)!important;font-family:var(--cosmograph-search-font-family),sans-serif!important}.search.svelte-1xknafk .mdc-floating-label{opacity:.65;pointer-events:none!important}.search.svelte-1xknafk .mdc-line-ripple:after,.search.svelte-1xknafk .mdc-line-ripple:before{border-bottom-color:var(--cosmograph-search-text-color)!important;opacity:.1}.search.svelte-1xknafk .mdc-deprecated-list{background:var(--cosmograph-search-list-background);color:var(--cosmograph-search-text-color)!important;font-size:14px!important;padding-top:4px!important}.search.svelte-1xknafk .mdc-deprecated-list-item{height:28px!important}.search.svelte-1xknafk .mdc-text-field__icon--leading{margin-right:10px!important}.search.svelte-1xknafk .mdc-floating-label--float-above{left:26px!important;pointer-events:none!important}.search.svelte-1xknafk .mdc-text-field__icon--trailing{cursor:default!important;max-width:35%}.search.svelte-1xknafk .cosmograph-search-first-field{font-size:12.5px;font-weight:400;opacity:.8;text-transform:uppercase}";ro(lA,{});const dA='<svg fill="currentColor" height="11" viewBox="0 0 163 11" width="163" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m2.45674 8-1.925002-5.379h.924002l1.617 4.73h.154l1.617-4.73h.924l-1.925 5.379z"/><path d="m7.02243 8v-5.379h.869v5.379zm.44-6.215c-.19067 0-.352-.06233-.484-.187-.12467-.12467-.187-.28233-.187-.473 0-.198.06233-.359333.187-.484.132-.124667.29333-.187.484-.187.19066 0 .34833.062333.473.187.12466.124667.187.286.187.484 0 .19067-.06234.34833-.187.473-.12467.12467-.28234.187-.473.187z"/><path d="m11.8857 8.154c-.6673 0-1.232-.154-1.694-.462-.45465-.308-.72965-.79567-.82499-1.463l.82499-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.68199-.506c-.16866-.21267-.25299-.48033-.25299-.803 0-.484.18699-.86167.56098-1.133.374-.27133.869-.407 1.485-.407.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z"/><path d="m17.5765 8.099c-.3887 0-.748-.08433-1.078-.253-.3227-.16867-.5793-.418-.77-.748-.1833-.33733-.275-.74433-.275-1.221v-3.256h.869v3.19c0 .53533.132.924.396 1.166.2713.242.6343.363 1.089.363.5133 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v5.379h-.847v-.913h-.154c-.1173.25667-.319.49133-.605.704-.286.20533-.704.308-1.254.308z"/><path d="m23.9048 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.6527-.187 1.034-.187h1.815v-.396c0-.38133-.1136-.682-.341-.902-.22-.22-.55-.33-.99-.33-.4326 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.2274-.572.418-.814.1907-.24933.4437-.44733.759-.594.3227-.154.7077-.231 1.155-.231.6894 0 1.2247.17967 1.606.539.3814.352.572.85067.572 1.496v2.431c0 .22.1027.33.308.33h.495v.737h-.759c-.242 0-.4363-.066-.583-.198-.1466-.13933-.22-.32267-.22-.55v-.055h-.132c-.0806.13933-.1906.286-.33.44-.132.14667-.3153.26767-.55.363-.2346.10267-.539.154-.913.154zm.099-.748c.5134 0 .9277-.15033 1.243-.451.3227-.308.484-.737.484-1.287v-.121h-1.782c-.3446 0-.6306.077-.858.231-.22.14667-.33.37033-.33.671s.1137.53533.341.704c.2347.16867.5354.253.902.253z"/><path d="m28.582 8v-7.7h.869v7.7z"/><path d="m31.2783 8v-5.379h.869v5.379zm.44-6.215c-.1907 0-.352-.06233-.484-.187-.1247-.12467-.187-.28233-.187-.473 0-.198.0623-.359333.187-.484.132-.124667.2933-.187.484-.187s.3483.062333.473.187.187.286.187.484c0 .19067-.0623.34833-.187.473s-.2823.187-.473.187z"/><path d="m33.7326 8v-1.122l3.421-3.377v-.121h-3.311v-.759h4.224v1.122l-3.432 3.377v.132h3.52v.748z"/><path d="m41.9601 8.154c-.5427 0-1.0194-.11367-1.43-.341-.4107-.23467-.7297-.561-.957-.979-.2274-.418-.341-.902-.341-1.452v-.132c0-.55733.1136-1.045.341-1.463.2273-.418.5426-.74067.946-.968.4033-.23467.8653-.352 1.386-.352.506 0 .9533.11 1.342.33.3886.21267.693.52067.913.924s.33.87633.33 1.419v.396h-4.389c.022.57933.209 1.034.561 1.364.352.32267.792.484 1.32.484.462 0 .8176-.10633 1.067-.319.2493-.21267.44-.46567.572-.759l.748.363c-.11.22733-.264.45467-.462.682-.1907.22733-.4437.418-.759.572-.308.154-.704.231-1.188.231zm-1.848-3.333h3.498c-.0294-.49867-.2017-.88733-.517-1.166-.308-.27867-.704-.418-1.188-.418-.4914 0-.8947.13933-1.21.418-.3154.27867-.5097.66733-.583 1.166z"/><path d="m48.2828 8.154c-.462 0-.8873-.11-1.276-.33-.3886-.22-.6966-.539-.924-.957-.2273-.418-.341-.913-.341-1.485v-.143c0-.572.1137-1.06333.341-1.474.2274-.418.5317-.737.913-.957.3887-.22733.8177-.341 1.287-.341.374 0 .6894.05133.946.154.264.09533.4767.22.638.374.1614.14667.286.30433.374.473h.154v-3.168h.869v7.7h-.847v-.891h-.154c-.1466.27133-.374.51333-.682.726s-.7406.319-1.298.319zm.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z"/><path d="m58.8911 8.154c-.5573 0-.9936-.10633-1.309-.319-.308-.21267-.5316-.45467-.671-.726h-.154v.891h-.847v-7.7h.869v3.168h.154c.088-.16867.2127-.32633.374-.473.1614-.154.3704-.27867.627-.374.264-.10267.583-.154.957-.154.4694 0 .8947.11367 1.276.341.3887.22.6967.539.924.957.2274.41067.341.902.341 1.474v.143c0 .572-.1173 1.067-.352 1.485-.2273.418-.5353.737-.924.957-.3813.22-.803.33-1.265.33zm-.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z"/><path d="m63.6382 10.2v-.77h3.08c.2127 0 .319-.11.319-.33v-1.958h-.154c-.0733.154-.187.308-.341.462-.1466.14667-.341.26767-.583.363-.242.088-.5463.132-.913.132-.3886 0-.748-.08433-1.078-.253-.3226-.16867-.5793-.418-.77-.748-.1833-.33-.275-.73333-.275-1.21v-3.267h.869v3.201c0 .528.132.913.396 1.155.2714.242.6344.363 1.089.363.5134 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v6.633c0 .29333-.0843.52433-.253.693-.1613.1687-.3996.253-.715.253z"/><path d="m75.2998 8.154c-.9167 0-1.6464-.264-2.189-.792-.5427-.53533-.814-1.31267-.814-2.332v-1.76c0-1.01933.2713-1.793.814-2.321.5426-.535333 1.2723-.803 2.189-.803.9093 0 1.606.253 2.09.759.4913.506.737 1.199.737 2.079v.055h-.913v-.088c0-.57933-.1577-1.05233-.473-1.419-.308-.374-.7884-.561-1.441-.561-.6527 0-1.1624.20167-1.529.605-.3667.396-.55.95333-.55 1.672v1.804c0 .71867.1833 1.27967.55 1.683.3666.396.8763.594 1.529.594.6526 0 1.133-.18333 1.441-.55.3153-.374.473-.85067.473-1.43v-.176h.913v.143c0 .88-.2457 1.573-.737 2.079-.484.506-1.1807.759-2.09.759z"/><path d="m82.0934 8.154c-.5427 0-1.023-.11367-1.441-.341-.4107-.22733-.7333-.54633-.968-.957-.2273-.418-.341-.90933-.341-1.474v-.143c0-.55733.1137-1.045.341-1.463.2347-.418.5573-.74067.968-.968.418-.22733.8983-.341 1.441-.341s1.0193.11367 1.43.341c.418.22733.7407.55.968.968.2347.418.352.90567.352 1.463v.143c0 .56467-.1173 1.056-.352 1.474-.2273.41067-.55.72967-.968.957-.4107.22733-.8873.341-1.43.341zm0-.781c.572 0 1.0267-.17967 1.364-.539.3447-.36667.517-.858.517-1.474v-.099c0-.616-.1723-1.10367-.517-1.463-.3373-.36667-.792-.55-1.364-.55-.5647 0-1.0193.18333-1.364.55-.3447.35933-.517.847-.517 1.463v.099c0 .616.1723 1.10733.517 1.474.3447.35933.7993.539 1.364.539z"/><path d="m88.5742 8.154c-.6673 0-1.232-.154-1.694-.462-.4547-.308-.7297-.79567-.825-1.463l.825-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.682-.506-.253-.48033-.253-.803c0-.484.187-.86167.561-1.133s.869-.407 1.485-.407c.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z"/><path d="m92.208 8v-5.379h.847v.671h.154c.1026-.19067.2713-.36667.506-.528.2346-.16133.5646-.242.99-.242.418 0 .7553.09167 1.012.275.264.18333.4546.407.572.671h.154c.1246-.264.3116-.48767.561-.671.2566-.18333.6123-.275 1.067-.275.3593 0 .6746.07333.946.22.2713.14667.484.35933.638.638.1613.27133.242.59767.242.979v3.641h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234z"/><path d="m104.158 8.154c-.543 0-1.023-.11367-1.441-.341-.411-.22733-.733-.54633-.968-.957-.227-.418-.341-.90933-.341-1.474v-.143c0-.55733.114-1.045.341-1.463.235-.418.557-.74067.968-.968.418-.22733.898-.341 1.441-.341s1.019.11367 1.43.341c.418.22733.741.55.968.968.235.418.352.90567.352 1.463v.143c0 .56467-.117 1.056-.352 1.474-.227.41067-.55.72967-.968.957-.411.22733-.887.341-1.43.341zm0-.781c.572 0 1.027-.17967 1.364-.539.345-.36667.517-.858.517-1.474v-.099c0-.616-.172-1.10367-.517-1.463-.337-.36667-.792-.55-1.364-.55-.565 0-1.019.18333-1.364.55-.345.35933-.517.847-.517 1.463v.099c0 .616.172 1.10733.517 1.474.345.35933.799.539 1.364.539z"/><path d="m108.208 5.338v-.154c0-.56467.113-1.04867.341-1.452.227-.40333.535-.715.924-.935.388-.22.814-.33 1.276-.33.564 0 .997.11 1.298.33.308.21267.535.451.682.715h.154v-.891h.825v6.633c0 .29333-.081.52433-.242.693-.162.1687-.396.253-.704.253h-3.652v-.77h3.421c.22 0 .33-.11.33-.33v-2.046h-.154c-.088.16133-.213.319-.374.473-.162.154-.371.28233-.627.385-.257.09533-.576.143-.957.143-.462 0-.888-.11-1.276-.33-.389-.22-.697-.53167-.924-.935-.228-.41067-.341-.89467-.341-1.452zm2.772 1.947c.557 0 1.008-.176 1.353-.528.352-.352.528-.836.528-1.452v-.088c0-.62333-.176-1.10733-.528-1.452-.345-.352-.796-.528-1.353-.528-.55 0-1.005.176-1.364.528-.352.34467-.528.82867-.528 1.452v.088c0 .616.176 1.1.528 1.452.359.352.814.528 1.364.528z"/><path d="m115.529 8v-5.379h.847v.66h.154c.096-.23467.242-.407.44-.517s.459-.165.781-.165h.638v.792h-.693c-.388 0-.704.11-.946.33-.234.21267-.352.54633-.352 1.001v3.278z"/><path d="m121.143 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.653-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.191-.24933.444-.44733.759-.594.323-.154.708-.231 1.155-.231.689 0 1.225.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.103.33.308.33h.495v.737h-.759c-.242 0-.436-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.315.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .928-.15033 1.243-.451.323-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.114.53533.341.704c.235.16867.535.253.902.253z"/><path d="m125.82 10.2v-7.579h.847v.891h.154c.14-.27133.363-.51333.671-.726.316-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.113 1.067-.341 1.485-.227.418-.535.737-.924.957-.381.22-.806.33-1.276.33-.374 0-.693-.05133-.957-.154-.256-.09533-.465-.22-.627-.374-.161-.154-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.558 0 1.009-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.344-.35933-.795-.539-1.353-.539-.55 0-1.004.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.36.352.814.528 1.364.528z"/><path d="m132.899 8v-7.7h.869v3.179h.154c.074-.16133.184-.31167.33-.451.154-.14667.349-.26767.583-.363.242-.09533.547-.143.913-.143.404 0 .763.088 1.078.264.323.16867.58.418.77.748.191.32267.286.726.286 1.21v3.256h-.869v-3.19c0-.53533-.135-.924-.407-1.166-.264-.242-.623-.363-1.078-.363-.52 0-.946.16867-1.276.506-.322.33733-.484.83967-.484 1.507v2.706z"/><path d="m140.118 8.154c-.212 0-.392-.06967-.539-.209-.139-.13933-.209-.319-.209-.539s.07-.39967.209-.539c.147-.13933.327-.209.539-.209.22 0 .4.06967.539.209.14.13933.209.319.209.539s-.069.39967-.209.539c-.139.13933-.319.209-.539.209z"/><path d="m144.078 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.652-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.19-.24933.443-.44733.759-.594.322-.154.707-.231 1.155-.231.689 0 1.224.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.102.33.308.33h.495v.737h-.759c-.242 0-.437-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.316.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .927-.15033 1.243-.451.322-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.113.53533.341.704c.234.16867.535.253.902.253z"/><path d="m148.755 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z"/><path d="m155.834 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z"/><path d="m71.6368 9.375h90.3682v.55h-90.3682z"/></g></svg>',cA="modulepreload",uA=function(i){return"/static/"+i},Tp={},Ka=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=Promise.allSettled(t.map(l=>{if(l=uA(l),l in Tp)return;Tp[l]=!0;const d=l.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":cA,d||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),d)return new Promise((h,g)=>{u.addEventListener("load",h),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return n.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},fA=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...t)=>Ka(()=>Y(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>es);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Vu extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class hA extends Vu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mA extends Vu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pA extends Vu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(uu||(uu={}));var gA=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};class vA{constructor(e,{headers:t={},customFetch:r,region:n=uu.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=fA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return gA(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:s}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let d;s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob!="undefined"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData!="undefined"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),n),body:d}).catch(k=>{throw new hA(k)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new mA(c);if(!c.ok)throw new pA(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield c.json():h==="application/octet-stream"?g=yield c.blob():h==="text/event-stream"?g=c:h==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Hi={},Wu={},id={},so={},rd={},nd={},_A=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Za=_A();const bA=Za.fetch,f0=Za.fetch.bind(Za),h0=Za.Headers,yA=Za.Request,xA=Za.Response,es=Object.freeze(Object.defineProperty({__proto__:null,Headers:h0,Request:yA,Response:xA,default:f0,fetch:bA},Symbol.toStringTag,{value:"Module"})),wA=yg(es);var ad={};Object.defineProperty(ad,"__esModule",{value:!0});class SA extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}ad.default=SA;var m0=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nd,"__esModule",{value:!0});const EA=m0(wA),TA=m0(ad);let AA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch=="undefined"?this.fetch=EA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(a=>Y(this,null,function*(){var s,o,l;let d=null,c=null,u=null,h=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const O=yield a.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=O:c=JSON.parse(O))}const U=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),I=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");U&&I&&I.length>1&&(u=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(d={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,u=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const U=yield a.text();try{d=JSON.parse(U),Array.isArray(d)&&a.status===404&&(c=[],d=null,h=200,g="OK")}catch(I){a.status===404&&U===""?(h=204,g="No Content"):d={message:U}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,g="OK"),d&&this.shouldThrowOnError)throw new TA.default(d)}return{error:d,data:c,count:u,status:h,statusText:g}}));return this.shouldThrowOnError||(n=n.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}};nd.default=AA;var IA=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rd,"__esModule",{value:!0});const kA=IA(nd);let CA=class extends kA.default{select(e){let t=!1;const r=(e!=null?e:"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n=="undefined"?"offset":`${n}.offset`,s=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${d}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rd.default=CA;var LA=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(so,"__esModule",{value:!0});const OA=LA(rd);let RA=class extends OA.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};so.default=RA;var PA=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(id,"__esModule",{value:!0});const Ls=PA(so);let FA=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let a=!1;const s=(e!=null?e:"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Ls.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ls.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ls.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Ls.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ls.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};id.default=FA;var sd={},od={};Object.defineProperty(od,"__esModule",{value:!0});od.version=void 0;od.version="0.0.0-automated";Object.defineProperty(sd,"__esModule",{value:!0});sd.DEFAULT_HEADERS=void 0;const DA=od;sd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${DA.version}`};var p0=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wu,"__esModule",{value:!0});const NA=p0(id),zA=p0(so),MA=sd;let BA=class g0{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},MA.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new NA.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new g0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;r||n?(s=r?"HEAD":"GET",Object.entries(t).filter(([c,u])=>u!==void 0).map(([c,u])=>[c,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([c,u])=>{o.searchParams.append(c,u)})):(s="POST",l=t);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new zA.default({method:s,url:o,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wu.default=BA;var ts=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.PostgrestError=Hi.PostgrestBuilder=Hi.PostgrestTransformBuilder=Hi.PostgrestFilterBuilder=Hi.PostgrestQueryBuilder=Hi.PostgrestClient=void 0;const v0=ts(Wu);Hi.PostgrestClient=v0.default;const _0=ts(id);Hi.PostgrestQueryBuilder=_0.default;const b0=ts(so);Hi.PostgrestFilterBuilder=b0.default;const y0=ts(rd);Hi.PostgrestTransformBuilder=y0.default;const x0=ts(nd);Hi.PostgrestBuilder=x0.default;const w0=ts(ad);Hi.PostgrestError=w0.default;var $A=Hi.default={PostgrestClient:v0.default,PostgrestQueryBuilder:_0.default,PostgrestFilterBuilder:b0.default,PostgrestTransformBuilder:y0.default,PostgrestBuilder:x0.default,PostgrestError:w0.default};const{PostgrestClient:GA,PostgrestQueryBuilder:Hk,PostgrestFilterBuilder:Vk,PostgrestTransformBuilder:Wk,PostgrestBuilder:Xk}=$A,UA="2.10.7",jA={"X-Client-Info":`realtime-js/${UA}`},HA="1.0.0",S0=1e4,VA=1e3;var za;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(za||(za={}));var Xi;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Xi||(Xi={}));var lr;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(lr||(lr={}));var fu;(function(i){i.websocket="websocket"})(fu||(fu={}));var Bn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Bn||(Bn={}));class WA{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s=s+n;const l=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class E0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Xt||(Xt={}));const Ap=(i,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=XA(s,i,e,n),a),{})},XA=(i,e,t,r)=>{const n=e.find(o=>o.name===i),a=n==null?void 0:n.type,s=t[i];return a&&!r.includes(a)?T0(a,s):hu(s)},T0=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return ZA(e,t)}switch(i){case Xt.bool:return qA(e);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return YA(e);case Xt.json:case Xt.jsonb:return KA(e);case Xt.timestamp:return JA(e);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return hu(e);default:return hu(e)}},hu=i=>i,qA=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},YA=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},KA=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},ZA=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,r=i[t];if(i[0]==="{"&&r==="}"){let a;const s=i.slice(1,t);try{a=JSON.parse("["+s+"]")}catch(o){a=s?s.split(","):[]}return a.map(o=>T0(e,o))}return i},JA=i=>typeof i=="string"?i.replace(" ","T"):i,A0=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Rc{constructor(e,t,r={},n=S0){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ip;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ip||(Ip={}));class Us{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,n,a,s),this.pendingDiffs.forEach(l=>{this.state=Us.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},n=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Us.syncDiff(this.state,n,a,s),o())}),this.onJoin((n,a,s)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:s})}),this.onLeave((n,a,s)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),o={},l={};return this.map(a,(d,c)=>{s[d]||(l[d]=c)}),this.map(s,(d,c)=>{const u=a[d];if(u){const h=c.map(I=>I.presence_ref),g=u.map(I=>I.presence_ref),k=c.filter(I=>g.indexOf(I.presence_ref)<0),U=u.filter(I=>h.indexOf(I.presence_ref)<0);k.length>0&&(o[d]=k),U.length>0&&(l[d]=U)}else o[d]=c}),this.syncDiff(a,{joins:o,leaves:l},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(o,l)=>{var d;const c=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(l),c.length>0){const u=e[o].map(g=>g.presence_ref),h=c.filter(g=>u.indexOf(g.presence_ref)<0);e[o].unshift(...h)}r(o,c,l)}),this.map(s,(o,l)=>{let d=e[o];if(!d)return;const c=l.map(u=>u.presence_ref);d=d.filter(u=>c.indexOf(u.presence_ref)<0),e[o]=d,n(o,d,l),d.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kp;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(kp||(kp={}));var Cp;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Cp||(Cp={}));var Lp;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Lp||(Lp={}));class Xu{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Xi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rc(this,lr.join,this.params,this.timeout),this.rejoinTimer=new E0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xi.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Xi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new Us(this),this.broadcastEndpointURL=A0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},d={broadcast:a,presence:s,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:o};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,g=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,k=[];for(let U=0;U<g;U++){const I=h[U],{filter:{event:O,schema:$,table:R,filter:T}}=I,B=c&&c[U];if(B&&B.event===O&&B.schema===$&&B.table===R&&B.filter===T)k.push(Object.assign(Object.assign({},I),{id:B.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return Y(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return Y(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return Y(this,arguments,function*(e,t={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return yield(a=d.body)===null||a===void 0?void 0:a.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,d;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Rc(this,lr.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_fetchWithTimeout(e,t,r){return Y(this,null,function*(){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Rc(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:d,join:c}=lr;if(r&&[o,l,d,c].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var k,U,I;return((k=g.filter)===null||k===void 0?void 0:k.event)==="*"||((I=(U=g.filter)===null||U===void 0?void 0:U.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===s}).map(g=>g.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(g=>{var k,U,I,O,$,R;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const T=g.id,B=(k=g.filter)===null||k===void 0?void 0:k.event;return T&&((U=t.ids)===null||U===void 0?void 0:U.includes(T))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((I=t.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const T=($=(O=g==null?void 0:g.filter)===null||O===void 0?void 0:O.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return T==="*"||T===((R=t==null?void 0:t.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof h=="object"&&"ids"in h){const k=h.data,{schema:U,table:I,commit_timestamp:O,type:$,errors:R}=k;h=Object.assign(Object.assign({},{schema:U,table:I,commit_timestamp:O,eventType:$,new:{},old:{},errors:R}),this._getPayloadRecords(k))}g.callback(h,r)})}_isClosed(){return this.state===Xi.closed}_isJoined(){return this.state===Xi.joined}_isJoining(){return this.state===Xi.joining}_isLeaving(){return this.state===Xi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Xu.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lr.close,{},e)}_onError(e){this._on(lr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ap(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ap(e.columns,e.old_record)),t}}const QA=()=>{},eI=typeof WebSocket!="undefined",tI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iI{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jA,this.params={},this.timeout=S0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=QA,this.conn=null,this.sendBuffer=[],this.serializer=new WA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let s;return a?s=a:typeof fetch=="undefined"?s=(...o)=>Ka(()=>Y(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>es);return{default:l}}),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${fu.websocket}`,this.httpEndpoint=A0(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,s)=>s(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E0(()=>Y(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(eI){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new rI(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ka(()=>Y(this,null,function*(){const{default:e}=yield import("./browser-BZ3PU18-.js").then(t=>t.b);return{default:e}}),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return Y(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return Y(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case za.connecting:return Bn.Connecting;case za.open:return Bn.Open;case za.closing:return Bn.Closing;default:return Bn.Closed}}isConnected(){return this.connectionState()===Bn.Open}channel(e,t={config:{}}){const r=new Xu(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(lr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HA}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:n,payload:a,ref:s}=t;(s&&s===this.pendingHeartbeatRef||n===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${n} ${s&&"("+s+")"||""}`,a),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(n,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){return Y(this,null,function*(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(lr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(VA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([tI],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class rI{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=za.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class qu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ki(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class nI extends qu{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mu extends qu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var aI=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};const I0=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...t)=>Ka(()=>Y(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>es);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},sI=()=>aI(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Ka(()=>Promise.resolve().then(()=>es),void 0)).Response:Response}),pu=i=>{if(Array.isArray(i))return i.map(t=>pu(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,r])=>{const n=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=pu(r)}),e};var Qn=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};const Pc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),oI=(i,e,t)=>Qn(void 0,void 0,void 0,function*(){const r=yield sI();i instanceof r&&!(t!=null&&t.noResolveJson)?i.json().then(n=>{e(new nI(Pc(n),i.status||500))}).catch(n=>{e(new mu(Pc(n),n))}):e(new mu(Pc(i),i))}),lI=(i,e,t,r)=>{const n={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),t))};function oo(i,e,t,r,n,a){return Qn(this,void 0,void 0,function*(){return new Promise((s,o)=>{i(t,lI(e,r,n,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>oI(l,o,r))})})}function zl(i,e,t,r){return Qn(this,void 0,void 0,function*(){return oo(i,"GET",e,t,r)})}function gn(i,e,t,r,n){return Qn(this,void 0,void 0,function*(){return oo(i,"POST",e,r,n,t)})}function dI(i,e,t,r,n){return Qn(this,void 0,void 0,function*(){return oo(i,"PUT",e,r,n,t)})}function cI(i,e,t,r){return Qn(this,void 0,void 0,function*(){return oo(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function k0(i,e,t,r,n){return Qn(this,void 0,void 0,function*(){return oo(i,"DELETE",e,r,n,t)})}var ji=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};const uI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fI{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=I0(n)}uploadOrUpdate(e,t,r,n){return ji(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Op),n);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob!="undefined"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const d=this._removeEmptyFolders(t),c=this._getFinalPath(d),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield u.json();return u.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(ki(a))return{data:null,error:a};throw a}})}upload(e,t,r){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return ji(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let l;const d=Object.assign({upsert:Op.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const u=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),h=yield u.json();return u.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ki(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ji(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const a=yield gn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new qu("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}update(e,t,r){return ji(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return ji(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}copy(e,t,r){return ji(this,void 0,void 0,function*(){try{return{data:{path:(yield gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return ji(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield gn(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return ji(this,void 0,void 0,function*(){try{const n=yield gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}download(e,t){return ji(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield zl(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ki(o))return{data:null,error:o};throw o}})}info(e){return ji(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield zl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:pu(r),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}exists(e){return ji(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield cI(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ki(r)&&r instanceof mu){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const o=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${d}`)}}}remove(e){return ji(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}list(e,t,r){return ji(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},uI),t),{prefix:e||""});return{data:yield gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const hI="2.7.1",mI={"X-Client-Info":`storage-js/${hI}`};var Aa=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};class pI{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},mI),t),this.fetch=I0(r)}listBuckets(){return Aa(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ki(e))return{data:null,error:e};throw e}})}getBucket(e){return Aa(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Aa(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Aa(this,void 0,void 0,function*(){try{return{data:yield dI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Aa(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Aa(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ki(t))return{data:null,error:t};throw t}})}}class gI extends pI{constructor(e,t={},r){super(e,t,r)}from(e){return new fI(this.url,this.headers,e,this.fetch)}}const vI="2.46.1";let Ns="";typeof Deno!="undefined"?Ns="deno":typeof document!="undefined"?Ns="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const _I={"X-Client-Info":`supabase-js-${Ns}/${vI}`},bI={headers:_I},yI={schema:"public"},xI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wI={};var SI=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};const EI=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=f0:e=fetch,(...t)=>e(...t)},TI=()=>typeof Headers=="undefined"?h0:Headers,AI=(i,e,t)=>{const r=EI(t),n=TI();return(a,s)=>SI(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:i;let d=new n(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",i),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},s),{headers:d}))})};var II=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};function kI(i){return i.replace(/\/$/,"")}function CI(i,e){const{db:t,auth:r,realtime:n,global:a}=i,{db:s,auth:o,realtime:l,global:d}=e,c={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},d),a),accessToken:()=>II(this,void 0,void 0,function*(){return""})};return i.accessToken?c.accessToken=i.accessToken:delete c.accessToken,c}const C0="2.65.1",LI="http://localhost:9999",OI="supabase.auth.token",RI={"X-Client-Info":`gotrue-js/${C0}`},Rp=10,gu="X-Supabase-Api-Version",L0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function PI(i){return Math.round(Date.now()/1e3)+i}function FI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const or=()=>typeof document!="undefined",Nn={tested:!1,writable:!1},js=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Nn.tested)return Nn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Nn.tested=!0,Nn.writable=!0}catch(e){Nn.tested=!0,Nn.writable=!1}return Nn.writable};function Fc(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch(r){}return t.searchParams.forEach((r,n)=>{e[n]=r}),e}const O0=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...t)=>Ka(()=>Y(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>es);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},DI=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",R0=(i,e,t)=>Y(void 0,null,function*(){yield i.setItem(e,JSON.stringify(t))}),al=(i,e)=>Y(void 0,null,function*(){const t=yield i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}}),sl=(i,e)=>Y(void 0,null,function*(){yield i.removeItem(e)});function NI(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,n,a,s,o,l,d,c=0;for(i=i.replace("-","+").replace("_","/");c<i.length;)s=e.indexOf(i.charAt(c++)),o=e.indexOf(i.charAt(c++)),l=e.indexOf(i.charAt(c++)),d=e.indexOf(i.charAt(c++)),r=s<<2|o>>4,n=(o&15)<<4|l>>2,a=(l&3)<<6|d,t=t+String.fromCharCode(r),l!=64&&n!=0&&(t=t+String.fromCharCode(n)),d!=64&&a!=0&&(t=t+String.fromCharCode(a));return t}class ld{constructor(){this.promise=new ld.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ld.promiseConstructor=Promise;function Pp(i){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=i.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(NI(r))}function zI(i){return Y(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),i)})})}function MI(i,e){return new Promise((r,n)=>{Y(this,null,function*(){for(let a=0;a<1/0;a++)try{const s=yield i(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){n(s);return}}})})}function BI(i){return("0"+i.toString(16)).substr(-2)}function $I(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let a=0;a<56;a++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,BI).join("")}function GI(i){return Y(this,null,function*(){const t=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")})}function UI(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function jI(i){return Y(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=yield GI(i);return UI(t)})}function Ia(i,e,t=!1){return Y(this,null,function*(){const r=$I();let n=r;t&&(n+="/PASSWORD_RECOVERY"),yield R0(i,`${e}-code-verifier`,n);const a=yield jI(r);return[a,r===a?"plain":"s256"]})}const HI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VI(i){const e=i.headers.get(gu);if(!e||!e.match(HI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}class Yu extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function xt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class WI extends Yu{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function XI(i){return xt(i)&&i.name==="AuthApiError"}class P0 extends Yu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ea extends Yu{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class hn extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qI(i){return xt(i)&&i.name==="AuthSessionMissingError"}class Dc extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends ea{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ll extends ea{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fp extends ea{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends ea{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Nc(i){return xt(i)&&i.name==="AuthRetryableFetchError"}class Dp extends ea{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var YI=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};const zn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),KI=[502,503,504];function Np(i){return Y(this,null,function*(){var e;if(!DI(i))throw new vu(zn(i),0);if(KI.includes(i.status))throw new vu(zn(i),i.status);let t;try{t=yield i.json()}catch(a){throw new P0(zn(a),a)}let r;const n=VI(i);if(n&&n.getTime()>=L0["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Dp(zn(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Dp(zn(t),i.status,t.weak_password.reasons);throw new WI(zn(t),i.status||500,r)})}const ZI=(i,e,t,r)=>{const n={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};function kt(i,e,t,r){return Y(this,null,function*(){var n;const a=Object.assign({},r==null?void 0:r.headers);a[gu]||(a[gu]=L0["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield JI(i,e,t+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function JI(i,e,t,r,n,a){return Y(this,null,function*(){const s=ZI(e,r,n,a);let o;try{o=yield i(t,Object.assign({},s))}catch(l){throw console.error(l),new vu(zn(l),0)}if(o.ok||(yield Np(o)),r!=null&&r.noResolveJson)return o;try{return yield o.json()}catch(l){yield Np(l)}})}function mn(i){var e;let t=null;ik(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=PI(i.expires_in)));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:r},error:null}}function zp(i){const e=mn(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=i.weak_password),e}function vn(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function QI(i){return{data:i,error:null}}function ek(i){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:a}=i,s=YI(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function tk(i){return i}function ik(i){return i.access_token&&i.refresh_token&&i.expires_in}var rk=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t};class nk{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=O0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,t="global"){return Y(this,null,function*(){try{return yield kt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return Y(this,arguments,function*(e,t={}){try{return yield kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:vn})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return Y(this,null,function*(){try{const{options:t}=e,r=rk(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),yield kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ek,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(xt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return Y(this,null,function*(){try{return yield kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return Y(this,null,function*(){var t,r,n,a,s,o,l;try{const d={nextPage:null,lastPage:0,total:0},c=yield kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:tk});if(c.error)throw c.error;const u=yield c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(k=>{const U=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(k.split(";")[1].split("=")[1]);d[`${I}Page`]=U}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(xt(d))return{data:{users:[]},error:d};throw d}})}getUserById(e){return Y(this,null,function*(){try{return yield kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return Y(this,null,function*(){try{return yield kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:vn})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return Y(this,null,function*(){try{return yield kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:vn})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return Y(this,null,function*(){try{const{data:t,error:r}=yield kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:r}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return Y(this,null,function*(){try{return{data:yield kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}}const ak={getItem:i=>js()?globalThis.localStorage.getItem(i):null,setItem:(i,e)=>{js()&&globalThis.localStorage.setItem(i,e)},removeItem:i=>{js()&&globalThis.localStorage.removeItem(i)}};function Mp(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}function sk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(i){typeof self!="undefined"&&(self.globalThis=self)}}const ka={debug:!!(globalThis&&js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ok extends F0{}function lk(i,e,t){return Y(this,null,function*(){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),yield globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},n=>Y(this,null,function*(){if(n){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,n.name);try{return yield t()}finally{ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,n.name)}}else{if(e===0)throw ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new ok(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ka.debug)try{const a=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}}))})}sk();const dk={url:LI,storageKey:OI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Os=30*1e3,Bp=3;function $p(i,e,t){return Y(this,null,function*(){return yield t()})}class Zs{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zs.nextInstanceID,Zs.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},dk),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new nk({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=O0(n.fetch),this.lock=n.lock||$p,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:or()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=lk:this.lock=$p,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:js()?this.storage=ak:(this.memoryStorage={},this.storage=Mp(this.memoryStorage)):(this.memoryStorage={},this.storage=Mp(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",a=>Y(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C0}) ${new Date().toISOString()}`,...e),this}initialize(){return Y(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=Y(this,null,function*(){return yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return Y(this,null,function*(){try{const e=or()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=yield this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(yield this._removeSession(),{error:r});const{session:n,redirectType:a}=t;return this._debug("#_initialize()","detected session in URL",n,"redirect type",a),yield this._saveSession(n),setTimeout(()=>Y(this,null,function*(){a==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",n):yield this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return xt(e)?{error:e}:{error:new P0("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return Y(this,null,function*(){var t,r,n;try{const a=yield kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:mn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(e){return Y(this,null,function*(){var t,r,n;try{let a;if("email"in e){const{email:c,password:u,options:h}=e;let g=null,k=null;this.flowType==="pkce"&&([g,k]=yield Ia(this.storage,this.storageKey)),a=yield kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:k},xform:mn})}else if("phone"in e){const{phone:c,password:u,options:h}=e;a=yield kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:mn})}else throw new ol("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(xt(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(e){return Y(this,null,function*(){try{let t;if("email"in e){const{email:a,password:s,options:o}=e;t=yield kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zp})}else if("phone"in e){const{phone:a,password:s,options:o}=e;t=yield kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zp})}else throw new ol("You must provide either an email or phone number and a password");const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Dc}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return Y(this,null,function*(){var t,r,n,a;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(e){return Y(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>Y(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return Y(this,null,function*(){const t=yield al(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(t!=null?t:"").split("/");try{const{data:a,error:s}=yield kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mn});if(yield sl(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Dc}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n!=null?n:null}),error:s})}catch(a){if(xt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(e){return Y(this,null,function*(){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,o=yield kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:mn}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Dc}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return Y(this,null,function*(){var t,r,n,a,s;try{if("email"in e){const{email:o,options:l}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=yield Ia(this.storage,this.storageKey));const{error:u}=yield kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:o,options:l}=e,{data:d,error:c}=yield kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new ol("You must provide either an email or phone number.")}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){return Y(this,null,function*(){var t,r;try{let n,a;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=yield kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:mn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,d=s.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(n){if(xt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return Y(this,null,function*(){var t,r,n;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield Ia(this.storage,this.storageKey)),yield kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:QI})}catch(a){if(xt(a))return{data:null,error:a};throw a}})}reauthenticate(){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return Y(this,null,function*(){try{return yield this._useSession(e=>Y(this,null,function*(){const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new hn;const{error:n}=yield kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(xt(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return Y(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=yield kt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:o}=yield kt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new ol("You must provide either an email or phone number and a type")}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return this._useSession(t=>Y(this,null,function*(){return t}))}))})}_acquireLock(e,t){return Y(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=Y(this,null,function*(){return yield r,yield t()});return this.pendingInLock.push(Y(this,null,function*(){try{yield n}catch(a){}})),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>Y(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push(Y(this,null,function*(){try{yield r}catch(n){}})),yield r;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return Y(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return Y(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,c)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,c))})}return{data:{session:e},error:null}}const{session:n,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return Y(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return Y(this,null,function*(){try{return e?yield kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):yield this._useSession(t=>Y(this,null,function*(){var r,n,a;const{data:s,error:o}=t;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:yield kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:vn})}))}catch(t){if(xt(t))return qI(t)&&(yield this._removeSession(),yield sl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(r){return Y(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(r){return Y(this,arguments,function*(e,t={}){try{return yield this._useSession(n=>Y(this,null,function*(){const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new hn;const o=a.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=yield Ia(this.storage,this.storageKey));const{data:c,error:u}=yield kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:vn});if(u)throw u;return o.user=c.user,yield this._saveSession(o),yield this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}})}_decodeJWT(e){return Pp(e)}setSession(e){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return Y(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new hn;const t=Date.now()/1e3;let r=t,n=!0,a=null;const s=Pp(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:o,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=yield this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(xt(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return Y(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r;if(!e){const{data:s,error:o}=t;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hn;const{session:n,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(xt(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e){return Y(this,null,function*(){try{if(!or())throw new ll("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ll("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Fp("Not a valid PKCE flow url.");const t=Fc(window.location.href);if(e){if(!t.code)throw new Fp("No code detected.");const{data:$,error:R}=yield this._exchangeCodeForSession(t.code);if(R)throw R;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:$.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:d}=t;if(!a||!o||!s||!d)throw new ll("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let h=c+u;l&&(h=parseInt(l));const g=h-c;g*1e3<=Os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${u}s`);const k=h-u;c-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,h,c):c-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,h,c);const{data:U,error:I}=yield this._getUser(a);if(I)throw I;const O={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:h,refresh_token:s,token_type:d,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(t){if(xt(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){const e=Fc(window.location.href);return!!(or()&&(e.access_token||e.error_description))}_isPKCEFlow(){return Y(this,null,function*(){const e=Fc(window.location.href),t=yield al(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return Y(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return Y(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>Y(this,null,function*(){var r;const{data:n,error:a}=t;if(a)return{error:a};const s=(r=n.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=yield this.admin.signOut(s,e);if(o&&!(XI(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(yield this._removeSession(),yield sl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=FI(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),Y(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:r}}}_emitInitialSession(e){return Y(this,null,function*(){return yield this._useSession(t=>Y(this,null,function*(){var r,n;try{const{data:{session:a},error:s}=t;if(s)throw s;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))})}resetPasswordForEmail(r){return Y(this,arguments,function*(e,t={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=yield Ia(this.storage,this.storageKey,!0));try{return yield kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(xt(s))return{data:null,error:s};throw s}})}getUserIdentities(){return Y(this,null,function*(){var e;try{const{data:t,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}linkIdentity(e){return Y(this,null,function*(){var t;try{const{data:r,error:n}=yield this._useSession(a=>Y(this,null,function*(){var s,o,l,d,c;const{data:u,error:h}=a;if(h)throw h;const g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield kt(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})}));if(n)throw n;return or()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(xt(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r,n;const{data:a,error:s}=t;if(s)throw s;return yield kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})}))}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return Y(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return yield MI(n=>Y(this,null,function*(){return n>0&&(yield zI(200*Math.pow(2,n-1))),this._debug(t,"refreshing attempt",n),yield kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})}),(n,a)=>{const s=200*Math.pow(2,n);return a&&Nc(a)&&Date.now()+s-r<Os})}catch(r){if(this._debug(t,"error",r),xt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return Y(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),or()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return Y(this,null,function*(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=yield al(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+Rp;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${Rp}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=yield this._callRefreshToken(r.refresh_token);s&&(console.error(s),Nc(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}})}_callRefreshToken(e){return Y(this,null,function*(){var t,r;if(!e)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ld;const{data:a,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new hn;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(n,"error",a),xt(a)){const s={session:null,error:a};return Nc(a)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,t,r=!0){return Y(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(o=>Y(this,null,function*(){try{yield o.callback(e,t)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return Y(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield R0(this.storage,this.storageKey,e)})}_removeSession(){return Y(this,null,function*(){this._debug("#_removeSession()"),yield sl(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return Y(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>Y(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return Y(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return Y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return Y(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return Y(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>Y(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>Y(this,null,function*(){const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Os}ms, refresh threshold is ${Bp} ticks`),n<=Bp&&(yield this._callRefreshToken(r.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof F0)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return Y(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>Y(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return Y(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>Y(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,r){return Y(this,null,function*(){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=yield Ia(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});n.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r;const{data:n,error:a}=t;return a?{data:null,error:a}:yield kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_enroll(e){return Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=yield kt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(t){if(xt(t))return{data:null,error:t};throw t}})}_verify(e){return Y(this,null,function*(){return this._acquireLock(-1,()=>Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:o}=yield kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}))}catch(t){if(xt(t))return{data:null,error:t};throw t}}))})}_challenge(e){return Y(this,null,function*(){return this._acquireLock(-1,()=>Y(this,null,function*(){try{return yield this._useSession(t=>Y(this,null,function*(){var r;const{data:n,error:a}=t;return a?{data:null,error:a}:yield kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(xt(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return Y(this,null,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return Y(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],n=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:n,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return Y(this,null,function*(){return this._acquireLock(-1,()=>Y(this,null,function*(){return yield this._useSession(e=>Y(this,null,function*(){var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(n.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}))})}}Zs.nextInstanceID=0;const ck=Zs;class uk extends ck{constructor(e){super(e)}}var fk=function(i,e,t,r){function n(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function o(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?a(c.value):n(c.value).then(o,l)}d((r=r.apply(i,e||[])).next())})};class hk{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=kI(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:yI,realtime:wI,auth:Object.assign(Object.assign({},xI),{storageKey:l}),global:bI},c=CI(r!=null?r:{},d);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=AI(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new GA(`${o}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new vA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gI(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return fk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:a,flowType:s,lock:o,debug:l},d,c){var u;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uk({url:this.authUrl,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new iI(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r!=null?r:null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mk=(i,e,t)=>new hk(i,e,t),pk=mk("https://xovkkfhojasbjinfslpx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhvdmtrZmhvamFzYmppbmZzbHB4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTM1ODQ0ODAsImV4cCI6MjAwOTE2MDQ4MH0.L3-X0p_un0oSTNubPwtfGo0D8g2bkPIfz7CaZ-iRYXY");function gk(i){return Y(this,null,function*(){const{error:e}=yield pk.from("metrics").insert(i);return e})}var Gp=[],Rs=[];function vk(i,e){if(i&&typeof document!="undefined"){var t,r=e.prepend===!0?"prepend":"append",n=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(n){var s=Gp.indexOf(a);s===-1&&(s=Gp.push(a)-1,Rs[s]={}),t=Rs[s]&&Rs[s][r]?Rs[s][r]:Rs[s][r]=o()}else t=o();i.charCodeAt(0)===65279&&(i=i.substring(1)),t.styleSheet?t.styleSheet.cssText+=i:t.appendChild(document.createTextNode(i))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var d=Object.keys(e.attributes),c=0;c<d.length;c++)l.setAttribute(d[c],e.attributes[d[c]]);var u=r==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(u,l),l}}var _k=":root{--cosmograph-watermark-color:#fff}.style_module_watermark__6b4371ae{bottom:0;color:var(--cosmograph-watermark-color);cursor:pointer;line-height:0;margin:0 .6rem .6rem 0;position:absolute;right:0;user-select:none}.style_module_cosmograph__6b4371ae{display:flex;height:100%;overflow:hidden;position:relative;width:100%}.style_module_cosmographShowLabelsFor__6b4371ae{opacity:1}.style_module_cosmographShowTopLabels__6b4371ae{opacity:.9}.style_module_cosmographShowDynamicLabels__6b4371ae{opacity:.7}",Ps={watermark:"style_module_watermark__6b4371ae",cosmograph:"style_module_cosmograph__6b4371ae",cosmographShowLabelsFor:"style_module_cosmographShowLabelsFor__6b4371ae",cosmographShowTopLabels:"style_module_cosmographShowTopLabels__6b4371ae",cosmographShowDynamicLabels:"style_module_cosmographShowDynamicLabels__6b4371ae"};vk(_k,{});const Up={disableSimulation:null,showDynamicLabels:!0,showTopLabels:!1,showTopLabelsLimit:100,showTopLabelsValueKey:void 0,showLabelsFor:void 0,showHoveredNodeLabel:!0,nodeLabelAccessor:i=>i.id,nodeLabelClassName:void 0,nodeLabelColor:void 0,hoveredNodeLabelClassName:void 0,hoveredNodeLabelColor:void 0,onSetData:void 0,onNodesFiltered:void 0,onLinksFiltered:void 0,onLabelClick:void 0};let Ku=Ma,jp=Ma,Hp=Ma,D0=z0,N0=M0;typeof Uint8Array!="undefined"&&(Ku=function(i){return new Uint8Array(i)},jp=function(i){return new Uint16Array(i)},Hp=function(i){return new Uint32Array(i)},D0=function(i,e){if(i.length>=e)return i;var t=new i.constructor(e);return t.set(i),t},N0=function(i,e){var t;switch(e){case 16:t=jp(i.length);break;case 32:t=Hp(i.length);break;default:throw new Error("invalid array width!")}return t.set(i),t});function Ma(i){for(var e=new Array(i),t=-1;++t<i;)e[t]=0;return e}function z0(i,e){for(var t=i.length;t<e;)i[t++]=0;return i}function M0(i,e){if(e>32)throw new Error("invalid array width!");return i}function Ir(i){this.length=i,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=Ku(i)}Ir.prototype.lengthen=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)this[e]=D0(this[e],i);this.length=i};Ir.prototype.add=function(){var i,e,t,r,n;for(r=0,n=this.subarrays;r<n;++r)if(i=this.masks[r],e=this.width-32*r,t=(~i&i+1)>>>0,!(e>=32&&!t))return e<32&&t&1<<e&&(this[r]=N0(this[r],e<<=1),this.width=32*r+e),this.masks[r]|=t,{offset:r,one:t};return this[this.subarrays]=Ku(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}};Ir.prototype.copy=function(i,e){var t,r;for(t=0,r=this.subarrays;t<r;++t)this[t][i]=this[t][e]};Ir.prototype.truncate=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)for(var r=this.length-1;r>=i;r--)this[e][r]=0;this.length=i};Ir.prototype.zero=function(i){var e,t;for(e=0,t=this.subarrays;e<t;++e)if(this[e][i])return!1;return!0};Ir.prototype.zeroExcept=function(i,e,t){var r,n;for(r=0,n=this.subarrays;r<n;++r)if(r===e?this[r][i]&t:this[r][i])return!1;return!0};Ir.prototype.zeroExceptMask=function(i,e){var t,r;for(t=0,r=this.subarrays;t<r;++t)if(this[t][i]&e[t])return!1;return!0};Ir.prototype.only=function(i,e,t){var r,n;for(r=0,n=this.subarrays;r<n;++r)if(this[r][i]!=(r===e?t:0))return!1;return!0};Ir.prototype.onlyExcept=function(i,e,t,r,n){var a,s,o;for(s=0,o=this.subarrays;s<o;++s)if(a=this[s][i],s===e&&(a=(a&t)>>>0),a!=(s===r?n:0))return!1;return!0};const _n={array8:Ma,array16:Ma,array32:Ma,arrayLengthen:z0,arrayWiden:M0,bitarray:Ir},bk=(i,e)=>function(t){var r=t.length;return[i.left(t,e,0,r),i.right(t,e,0,r)]},yk=(i,e)=>{var t=e[0],r=e[1];return function(n){var a=n.length;return[i.left(n,t,0,a),i.left(n,r,0,a)]}},xk=i=>[0,i.length],Ca={filterExact:bk,filterRange:yk,filterAll:xk},Js=i=>i,br=()=>null,dl=()=>0;function B0(i){function e(n,a,s){for(var o=s-a,l=(o>>>1)+1;--l>0;)r(n,l,o,a);return n}function t(n,a,s){for(var o=s-a,l;--o>0;)l=n[a],n[a]=n[a+o],n[a+o]=l,r(n,1,o,a);return n}function r(n,a,s,o){for(var l=n[--o+a],d=i(l),c;(c=a<<1)<=s&&(c<s&&i(n[o+c])>i(n[o+c+1])&&c++,!(d<=i(n[o+c])));)n[o+a]=n[o+c],a=c;n[o+a]=l}return e.sort=t,e}const dd=B0(Js);dd.by=B0;function $0(i){var e=dd.by(i);function t(r,n,a,s){var o=new Array(s=Math.min(a-n,s)),l,d,c;for(d=0;d<s;++d)o[d]=r[n++];if(e(o,0,s),n<a){l=i(o[0]);do i(c=r[n])>l&&(o[0]=c,l=i(e(o,0,s)[0]));while(++n<a)}return o}return t}const Zu=$0(Js);Zu.by=$0;function G0(i){function e(r,n,a,s){for(;a<s;){var o=a+s>>>1;i(r[o])<n?a=o+1:s=o}return a}function t(r,n,a,s){for(;a<s;){var o=a+s>>>1;n<i(r[o])?s=o:a=o+1}return a}return t.right=t,t.left=e,t}const Ml=G0(Js);Ml.by=G0;const _l=(i,e,t)=>{for(var r=0,n=e.length,a=t?JSON.parse(JSON.stringify(i)):new Array(n);r<n;++r)a[r]=i[e[r]];return a},wk=i=>i+1,Sk=i=>i-1,Ek=i=>function(e,t){return e+ +i(t)},Tk=i=>function(e,t){return e-i(t)},un={reduceIncrement:wk,reduceDecrement:Sk,reduceAdd:Ek,reduceSubtract:Tk};function Ak(i,e,t,r,n){for(n in r=(t=t.split(".")).splice(-1,1),t)e=e[t[n]]=e[t[n]]||{};return i(e,r)}const Ik=(i,e)=>{const t=i[e];return typeof t=="function"?t.call(i):t},kk=/\[([\w\d]+)\]/g,Ck=(i,e)=>Ak(Ik,i,e.replace(kk,".$1"));var fn=-1;lo.heap=dd;lo.heapselect=Zu;lo.bisect=Ml;lo.permute=_l;function lo(){var i={add:l,remove:d,dimension:h,groupAll:g,size:k,all:U,allFiltered:I,onChange:O,isElementFiltered:u},e=[],t=0,r,n=[],a=[],s=[],o=[];r=new _n.bitarray(0);function l(R){var T=t,B=R.length;return B&&(e=e.concat(R),r.lengthen(t+=B),a.forEach(function(ee){ee(R,T,B)}),$("dataAdded")),i}function d(R){for(var T=new Array(t),B=[],ee=typeof R=="function",re=function(Ge){return ee?R(e[Ge],Ge):r.zero(Ge)},Se=0,Te=0;Se<t;++Se)re(Se)?(B.push(Se),T[Se]=fn):T[Se]=Te++;n.forEach(function(Ge){Ge(-1,-1,[],B,!0)}),s.forEach(function(Ge){Ge(T)});for(var Ke=0,fe=0;Ke<t;++Ke)T[Ke]!==fn&&(Ke!==fe&&(r.copy(fe,Ke),e[fe]=e[Ke]),++fe);e.length=t=fe,r.truncate(fe),$("dataRemoved")}function c(R){var T,B,ee,re,Se=Array(r.subarrays);for(T=0;T<r.subarrays;T++)Se[T]=-1;for(B=0,ee=R.length;B<ee;B++)re=R[B].id(),Se[re>>7]&=~(1<<(re&63));return Se}function u(R,T){var B=c(T||[]);return r.zeroExceptMask(R,B)}function h(R,T){if(typeof R=="string"){var B=R;R=function(Ue){return Ck(Ue,B)}}var ee={filter:Lt,filterExact:ai,filterRange:si,filterFunction:bt,filterAll:at,currentFilter:Mi,hasCurrentFilter:cd,top:ud,bottom:_,group:co,groupAll:fd,dispose:uo,remove:uo,accessor:R,id:function(){return Ke}},re,Se,Te,Ke,fe,Ge,He,z,we,K,ne=[],qe=function(Ue){return zc(Ue).sort(function(We,ae){var q=He[We],ct=He[ae];return q<ct?-1:q>ct?1:We-ae})},Oe=Ca.filterAll,Xe,it,rt,Bt=[],Tt=[],Ct=0,Rt=0,wt=0,$t;a.unshift(dt),a.push(gt),s.push(be);var Ve=r.add();Te=Ve.offset,re=Ve.one,Se=~re,Ke=Te<<7|Math.log(re)/Math.log(2),dt(e,0,t),gt(e,0,t);function dt(Ue,We,ae){var q,ct;if(T){wt=0,Li=0,$t=[];for(var Ze=0;Ze<Ue.length;Ze++)for(Li=0,$t=R(Ue[Ze]);Li<$t.length;Li++)wt++;He=[],q=zc(Ue.length),ct=Mn(wt,1);for(var Je=zc(wt),Gt=0,Pt=0;Pt<Ue.length;Pt++){if($t=R(Ue[Pt]),!$t.length){q[Pt]=0,ne.push(Pt+We);continue}for(q[Pt]=$t.length,Li=0;Li<$t.length;Li++)He.push($t[Li]),Je[Gt]=Pt,Gt++}var ti=qe(wt);He=_l(He,ti),z=_l(Je,ti)}else He=Ue.map(R),z=qe(ae),He=_l(He,z);var Zt=Oe(He),Ri=Zt[0],Kt=Zt[1],Ut,pi,Bi;if(T)if(ae=wt,Xe)for(Ut=0;Ut<ae;++Ut)Xe(He[Ut],Ut)||(--q[z[Ut]]===0&&(r[Te][z[Ut]+We]|=re),ct[Ut]=1);else{for(pi=0;pi<Ri;++pi)--q[z[pi]]===0&&(r[Te][z[pi]+We]|=re),ct[pi]=1;for(Bi=Kt;Bi<ae;++Bi)--q[z[Bi]]===0&&(r[Te][z[Bi]+We]|=re),ct[Bi]=1}else if(Xe)for(Ut=0;Ut<ae;++Ut)Xe(He[Ut],Ut)||(r[Te][z[Ut]+We]|=re);else{for(pi=0;pi<Ri;++pi)r[Te][z[pi]+We]|=re;for(Bi=Kt;Bi<ae;++Bi)r[Te][z[Bi]+We]|=re}if(!We){fe=He,Ge=z,we=q,K=ct,Ct=Ri,Rt=Kt;return}var ir=fe,kr=Ge,wn=K,Jr,Vt=0;if(Ze=0,T&&(Jr=We,We=ir.length,ae=wt),fe=T?new Array(We+ae):new Array(t),Ge=T?new Array(We+ae):Mn(t,t),T&&(K=Mn(We+ae,1)),T){var Sn=we.length;we=_n.arrayLengthen(we,t);for(var Li=0;Li+Sn<t;Li++)we[Li+Sn]=q[Li]}for(var gi=0;Ze<We&&Vt<ae;++gi)ir[Ze]<He[Vt]?(fe[gi]=ir[Ze],T&&(K[gi]=wn[Ze]),Ge[gi]=kr[Ze++]):(fe[gi]=He[Vt],T&&(K[gi]=ct[Vt]),Ge[gi]=z[Vt++]+(T?Jr:We));for(;Ze<We;++Ze,++gi)fe[gi]=ir[Ze],T&&(K[gi]=wn[Ze]),Ge[gi]=kr[Ze];for(;Vt<ae;++Vt,++gi)fe[gi]=He[Vt],T&&(K[gi]=ct[Vt]),Ge[gi]=z[Vt]+(T?Jr:We);Zt=Oe(fe),Ct=Zt[0],Rt=Zt[1]}function gt(Ue,We,ae){Bt.forEach(function(q){q(He,z,We,ae)}),He=z=null}function be(Ue){if(T){for(var We=0,ae=0;We<ne.length;We++)Ue[ne[We]]!==fn&&(ne[ae]=Ue[ne[We]],ae++);for(ne.length=ae,We=0,ae=0;We<t;We++)Ue[We]!==fn&&(ae!==We&&(we[ae]=we[We]),ae++);we=we.slice(0,ae)}for(var q=fe.length,ct=0,Ze=0,Je;ct<q;++ct)Je=Ge[ct],Ue[Je]!==fn&&(ct!==Ze&&(fe[Ze]=fe[ct]),Ge[Ze]=Ue[Je],T&&(K[Ze]=K[ct]),++Ze);for(fe.length=Ze,T&&(K=K.slice(0,Ze));Ze<q;)Ge[Ze++]=0;var Gt=Oe(fe);Ct=Gt[0],Rt=Gt[1]}function Mt(Ue){var We=Ue[0],ae=Ue[1];if(Xe)return Xe=null,tr(function(Kt,Ut){return We<=Ut&&Ut<ae},Ue[0]===0&&Ue[1]===fe.length),Ct=We,Rt=ae,ee;var q,ct,Ze,Je=[],Gt=[],Pt=[],ti=[];if(We<Ct)for(q=We,ct=Math.min(Ct,ae);q<ct;++q)Je.push(Ge[q]),Pt.push(q);else if(We>Ct)for(q=Ct,ct=Math.min(We,Rt);q<ct;++q)Gt.push(Ge[q]),ti.push(q);if(ae>Rt)for(q=Math.max(We,Rt),ct=ae;q<ct;++q)Je.push(Ge[q]),Pt.push(q);else if(ae<Rt)for(q=Math.max(Ct,ae),ct=Rt;q<ct;++q)Gt.push(Ge[q]),ti.push(q);if(T){var Zt=[],Ri=[];for(q=0;q<Je.length;q++)we[Je[q]]++,K[Pt[q]]=0,we[Je[q]]===1&&(r[Te][Je[q]]^=re,Zt.push(Je[q]));for(q=0;q<Gt.length;q++)we[Gt[q]]--,K[ti[q]]=1,we[Gt[q]]===0&&(r[Te][Gt[q]]^=re,Ri.push(Gt[q]));if(Je=Zt,Gt=Ri,Oe===Ca.filterAll)for(q=0;q<ne.length;q++)r[Te][Ze=ne[q]]&re&&(r[Te][Ze]^=re,Je.push(Ze));else for(q=0;q<ne.length;q++)r[Te][Ze=ne[q]]&re||(r[Te][Ze]^=re,Gt.push(Ze))}else{for(q=0;q<Je.length;q++)r[Te][Je[q]]^=re;for(q=0;q<Gt.length;q++)r[Te][Gt[q]]^=re}return Ct=We,Rt=ae,n.forEach(function(Kt){Kt(re,Te,Je,Gt)}),$("filtered"),ee}function Lt(Ue){return Ue==null?at():Array.isArray(Ue)?si(Ue):typeof Ue=="function"?bt(Ue):ai(Ue)}function ai(Ue){return it=Ue,rt=!0,Mt((Oe=Ca.filterExact(Ml,Ue))(fe))}function si(Ue){return it=Ue,rt=!0,Mt((Oe=Ca.filterRange(Ml,Ue))(fe))}function at(){return it=void 0,rt=!1,Mt((Oe=Ca.filterAll)(fe))}function bt(Ue){it=Ue,rt=!0,Xe=Ue,Oe=Ca.filterAll,tr(Ue,!1);var We=Oe(fe);return Ct=We[0],Rt=We[1],ee}function tr(Ue,We){var ae,q,ct,Ze=[],Je=[],Gt=[],Pt=[],ti=fe.length;if(!T)for(ae=0;ae<ti;++ae)!(r[Te][q=Ge[ae]]&re)^!!(ct=Ue(fe[ae],ae))&&(ct?Ze.push(q):Je.push(q));if(T)for(ae=0;ae<ti;++ae)Ue(fe[ae],ae)?(Ze.push(Ge[ae]),Gt.push(ae)):(Je.push(Ge[ae]),Pt.push(ae));if(T){var Zt=[],Ri=[];for(ae=0;ae<Ze.length;ae++)K[Gt[ae]]===1&&(we[Ze[ae]]++,K[Gt[ae]]=0,we[Ze[ae]]===1&&(r[Te][Ze[ae]]^=re,Zt.push(Ze[ae])));for(ae=0;ae<Je.length;ae++)K[Pt[ae]]===0&&(we[Je[ae]]--,K[Pt[ae]]=1,we[Je[ae]]===0&&(r[Te][Je[ae]]^=re,Ri.push(Je[ae])));if(Ze=Zt,Je=Ri,We)for(ae=0;ae<ne.length;ae++)r[Te][q=ne[ae]]&re&&(r[Te][q]^=re,Ze.push(q));else for(ae=0;ae<ne.length;ae++)r[Te][q=ne[ae]]&re||(r[Te][q]^=re,Je.push(q))}else{for(ae=0;ae<Ze.length;ae++)r[Te][Ze[ae]]&re&&(r[Te][Ze[ae]]&=Se);for(ae=0;ae<Je.length;ae++)r[Te][Je[ae]]&re||(r[Te][Je[ae]]|=re)}n.forEach(function(Kt){Kt(re,Te,Ze,Je)}),$("filtered")}function Mi(){return it}function cd(){return rt}function ud(Ue,We){var ae=[],q=Rt,ct,Ze=0;for(We&&We>0&&(Ze=We);--q>=Ct&&Ue>0;)r.zero(ct=Ge[q])&&(Ze>0?--Ze:(ae.push(e[ct]),--Ue));if(T)for(q=0;q<ne.length&&Ue>0;q++)r.zero(ct=ne[q])&&(Ze>0?--Ze:(ae.push(e[ct]),--Ue));return ae}function _(Ue,We){var ae=[],q,ct,Ze=0;if(We&&We>0&&(Ze=We),T)for(q=0;q<ne.length&&Ue>0;q++)r.zero(ct=ne[q])&&(Ze>0?--Ze:(ae.push(e[ct]),--Ue));for(q=Ct;q<Rt&&Ue>0;)r.zero(ct=Ge[q])&&(Ze>0?--Ze:(ae.push(e[ct]),--Ue)),q++;return ae}function co(Ue){var We={top:hd,all:gi,reduce:is,reduceCount:fo,reduceSum:md,order:ho,orderNatural:mo,size:po,dispose:qt,remove:qt};Tt.push(We);var ae,q,ct=8,Ze=Vp(ct),Je=0,Gt,Pt,ti,Zt,Ri,Kt=br,Ut=br,pi=!0,Bi=Ue===br,ir;arguments.length<1&&(Ue=Js),n.push(Kt),Bt.push(kr),s.push(wn),kr(fe,Ge,0,t);function kr(je,yt,Ot,oi){T&&(ir=Ot,Ot=fe.length-je.length,oi=je.length);var St=ae,mt=T?[]:Mn(Je,Ze),Ft=ti,jt=Zt,vi=Ri,yi=Je,xi=0,Cr=0,Yi,Qr,ta,Lr,Or,rs;for(pi&&(Ft=vi=br),pi&&(jt=vi=br),ae=new Array(Je),Je=0,T?q=yi?q:[]:q=yi>1?_n.arrayLengthen(q,t):Mn(t,Ze),yi&&(ta=(Qr=St[0]).key);Cr<oi&&!((Lr=Ue(je[Cr]))>=Lr);)++Cr;for(;Cr<oi;){for(Qr&&ta<=Lr?(Or=Qr,rs=ta,mt[xi]=Je,Qr=St[++xi],Qr&&(ta=Qr.key)):(Or={key:Lr,value:vi()},rs=Lr),ae[Je]=Or;Lr<=rs&&(Yi=yt[Cr]+(T?ir:Ot),T?q[Yi]?q[Yi].push(Je):q[Yi]=[Je]:q[Yi]=Je,Or.value=Ft(Or.value,e[Yi],!0),r.zeroExcept(Yi,Te,Se)||(Or.value=jt(Or.value,e[Yi],!1)),!(++Cr>=oi));)Lr=Ue(je[Cr]);go()}for(;xi<yi;)ae[mt[xi]=Je]=St[xi++],go();if(T)for(var rr=0;rr<t;rr++)q[rr]||(q[rr]=[]);if(Je>xi)if(T)for(xi=0;xi<ir;++xi)for(rr=0;rr<q[xi].length;rr++)q[xi][rr]=mt[q[xi][rr]];else for(xi=0;xi<Ot;++xi)q[xi]=mt[q[xi]];Yi=n.indexOf(Kt),Je>1||T?(Kt=Jr,Ut=Sn):(!Je&&Bi&&(Je=1,ae=[{key:null,value:vi()}]),Je===1?(Kt=Vt,Ut=Li):(Kt=br,Ut=br),q=null),n[Yi]=Kt;function go(){if(T){Je++;return}++Je===Ze&&(mt=_n.arrayWiden(mt,ct<<=1),q=_n.arrayWiden(q,ct),Ze=Vp(ct))}}function wn(je){if(Je>1||T){var yt=Je,Ot=ae,oi=Mn(yt,yt),St,mt,Ft;if(T){for(St=0,Ft=0;St<t;++St)if(je[St]!==fn){for(q[Ft]=q[St],mt=0;mt<q[Ft].length;mt++)oi[q[Ft][mt]]=1;++Ft}q=q.slice(0,Ft)}else for(St=0,Ft=0;St<t;++St)je[St]!==fn&&(oi[q[Ft]=q[St]]=1,++Ft);for(ae=[],Je=0,St=0;St<yt;++St)oi[St]&&(oi[St]=Je++,ae.push(Ot[St]));if(Je>1||T)if(T)for(St=0;St<Ft;++St)for(mt=0;mt<q[St].length;++mt)q[St][mt]=oi[q[St][mt]];else for(St=0;St<Ft;++St)q[St]=oi[q[St]];else q=null;n[n.indexOf(Kt)]=Je>1||T?(Ut=Sn,Kt=Jr):Je===1?(Ut=Li,Kt=Vt):Ut=Kt=br}else if(Je===1){if(Bi)return;for(var jt=0;jt<t;++jt)if(je[jt]!==fn)return;ae=[],Je=0,n[n.indexOf(Kt)]=Kt=Ut=br}}function Jr(je,yt,Ot,oi,St){if(!(je===re&&yt===Te||pi)){var mt,Ft,jt,vi,yi;if(T){for(mt=0,vi=Ot.length;mt<vi;++mt)if(r.zeroExcept(jt=Ot[mt],Te,Se))for(Ft=0;Ft<q[jt].length;Ft++)yi=ae[q[jt][Ft]],yi.value=ti(yi.value,e[jt],!1,Ft);for(mt=0,vi=oi.length;mt<vi;++mt)if(r.onlyExcept(jt=oi[mt],Te,Se,yt,je))for(Ft=0;Ft<q[jt].length;Ft++)yi=ae[q[jt][Ft]],yi.value=Zt(yi.value,e[jt],St,Ft);return}for(mt=0,vi=Ot.length;mt<vi;++mt)r.zeroExcept(jt=Ot[mt],Te,Se)&&(yi=ae[q[jt]],yi.value=ti(yi.value,e[jt],!1));for(mt=0,vi=oi.length;mt<vi;++mt)r.onlyExcept(jt=oi[mt],Te,Se,yt,je)&&(yi=ae[q[jt]],yi.value=Zt(yi.value,e[jt],St))}}function Vt(je,yt,Ot,oi,St){if(!(je===re&&yt===Te||pi)){var mt,Ft,jt,vi=ae[0];for(mt=0,jt=Ot.length;mt<jt;++mt)r.zeroExcept(Ft=Ot[mt],Te,Se)&&(vi.value=ti(vi.value,e[Ft],!1));for(mt=0,jt=oi.length;mt<jt;++mt)r.onlyExcept(Ft=oi[mt],Te,Se,yt,je)&&(vi.value=Zt(vi.value,e[Ft],St))}}function Sn(){var je,yt,Ot;for(je=0;je<Je;++je)ae[je].value=Ri();if(T){for(je=0;je<t;++je)for(yt=0;yt<q[je].length;yt++)Ot=ae[q[je][yt]],Ot.value=ti(Ot.value,e[je],!0,yt);for(je=0;je<t;++je)if(!r.zeroExcept(je,Te,Se))for(yt=0;yt<q[je].length;yt++)Ot=ae[q[je][yt]],Ot.value=Zt(Ot.value,e[je],!1,yt);return}for(je=0;je<t;++je)Ot=ae[q[je]],Ot.value=ti(Ot.value,e[je],!0);for(je=0;je<t;++je)r.zeroExcept(je,Te,Se)||(Ot=ae[q[je]],Ot.value=Zt(Ot.value,e[je],!1))}function Li(){var je,yt=ae[0];for(yt.value=Ri(),je=0;je<t;++je)yt.value=ti(yt.value,e[je],!0);for(je=0;je<t;++je)r.zeroExcept(je,Te,Se)||(yt.value=Zt(yt.value,e[je],!1))}function gi(){return pi&&(Ut(),pi=!1),ae}function hd(je){var yt=Gt(gi(),0,ae.length,je);return Pt.sort(yt,0,yt.length)}function is(je,yt,Ot){return ti=je,Zt=yt,Ri=Ot,pi=!0,We}function fo(){return is(un.reduceIncrement,un.reduceDecrement,dl)}function md(je){return is(un.reduceAdd(je),un.reduceSubtract(je),dl)}function ho(je){Gt=Zu.by(yt),Pt=dd.by(yt);function yt(Ot){return je(Ot.value)}return We}function mo(){return ho(Js)}function po(){return Je}function qt(){var je=n.indexOf(Kt);return je>=0&&n.splice(je,1),je=Bt.indexOf(kr),je>=0&&Bt.splice(je,1),je=s.indexOf(wn),je>=0&&s.splice(je,1),je=Tt.indexOf(We),je>=0&&Tt.splice(je,1),We}return fo().orderNatural()}function fd(){var Ue=co(br),We=Ue.all;return delete Ue.all,delete Ue.top,delete Ue.order,delete Ue.orderNatural,delete Ue.size,Ue.value=function(){return We()[0].value},Ue}function uo(){Tt.forEach(function(We){We.dispose()});var Ue=a.indexOf(dt);return Ue>=0&&a.splice(Ue,1),Ue=a.indexOf(gt),Ue>=0&&a.splice(Ue,1),Ue=s.indexOf(be),Ue>=0&&s.splice(Ue,1),r.masks[Te]&=Se,at()}return ee}function g(){var R={reduce:Ge,reduceCount:He,reduceSum:z,value:we,dispose:K,remove:K},T,B,ee,re,Se=!0;n.push(Ke),a.push(Te),Te(e,0);function Te(ne,qe){var Oe;if(!Se)for(Oe=qe;Oe<t;++Oe)T=B(T,e[Oe],!0),r.zero(Oe)||(T=ee(T,e[Oe],!1))}function Ke(ne,qe,Oe,Xe,it){var rt,Bt,Tt;if(!Se){for(rt=0,Tt=Oe.length;rt<Tt;++rt)r.zero(Bt=Oe[rt])&&(T=B(T,e[Bt],it));for(rt=0,Tt=Xe.length;rt<Tt;++rt)r.only(Bt=Xe[rt],qe,ne)&&(T=ee(T,e[Bt],it))}}function fe(){var ne;for(T=re(),ne=0;ne<t;++ne)T=B(T,e[ne],!0),r.zero(ne)||(T=ee(T,e[ne],!1))}function Ge(ne,qe,Oe){return B=ne,ee=qe,re=Oe,Se=!0,R}function He(){return Ge(un.reduceIncrement,un.reduceDecrement,dl)}function z(ne){return Ge(un.reduceAdd(ne),un.reduceSubtract(ne),dl)}function we(){return Se&&(fe(),Se=!1),T}function K(){var ne=n.indexOf(Ke);return ne>=0&&n.splice(ne,1),ne=a.indexOf(Te),ne>=0&&a.splice(ne,1),R}return He()}function k(){return t}function U(){return e}function I(R){var T=[],B=0,ee=c(R||[]);for(B=0;B<t;B++)r.zeroExceptMask(B,ee)&&T.push(e[B]);return T}function O(R){if(typeof R!="function"){console.warn("onChange callback parameter must be a function!");return}return o.push(R),function(){o.splice(o.indexOf(R),1)}}function $(R){for(var T=0;T<o.length;T++)o[T](R)}return arguments.length?l(arguments[0]):i}function Mn(i,e){return(e<257?_n.array8:e<65537?_n.array16:_n.array32)(i)}function zc(i){for(var e=Mn(i,i),t=-1;++t<i;)e[t]=t;return e}function Vp(i){return i===8?256:i===16?65536:4294967296}class Lk{constructor(e,t,r){this._crossfilter=e,this._selfRemove=t,this._syncUp=r}setAccessor(e){const{_crossfilter:t}=this;this.dispose(),this._dimension=t.dimension(e)}applyFilter(e){var t,r;(t=this._dimension)===null||t===void 0||t.filter(e),(r=this._syncUp)===null||r===void 0||r.call(this)}clear(){var e,t;(e=this._dimension)===null||e===void 0||e.filterAll(),(t=this._syncUp)===null||t===void 0||t.call(this)}getAllValues(){const{_crossfilter:e,_dimension:t}=this;if(t)return e.all().map(t.accessor)}getFilteredValues(){const{_crossfilter:e,_dimension:t}=this;if(t)return e.allFiltered().map(t.accessor)}getFilteredRecords(){return this._crossfilter.allFiltered([this._dimension])}isActive(){var e;return((e=this._dimension)===null||e===void 0?void 0:e.hasCurrentFilter())||!1}dispose(){var e;(e=this._dimension)===null||e===void 0||e.dispose()}remove(){this.dispose(),this._selfRemove()}}class Wp{constructor(e){this._crossfilter=lo(),this._filters=new Set,this._syncUpFunction=e,this._crossfilter.onChange(t=>{var r,n,a;switch(t){case"filtered":(r=this.onFiltered)===null||r===void 0||r.call(this),this._filters.forEach(s=>{var o;(o=s.onFiltered)===null||o===void 0||o.call(s)});break;case"dataAdded":(n=this.onDataAdded)===null||n===void 0||n.call(this),this._filters.forEach(s=>{var o;(o=s.onDataAdded)===null||o===void 0||o.call(s)});break;case"dataRemoved":(a=this.onDataRemoved)===null||a===void 0||a.call(this),this._filters.forEach(s=>{var o;(o=s.onDataRemoved)===null||o===void 0||o.call(s)})}})}addRecords(e){const{_crossfilter:t}=this;this._records=e,t.remove(),t.add(e)}getFilteredRecords(e){const{_crossfilter:t}=this;return(e==null?void 0:e.getFilteredRecords())||t.allFiltered()}addFilter(e=!0){const t=new Lk(this._crossfilter,()=>{this._filters.delete(t)},e?this._syncUpFunction:void 0);return this._filters.add(t),t}clearFilters(){this._filters.forEach(e=>{e.clear()})}isAnyFiltersActive(e){for(const t of this._filters.values())if(t!==e&&t.isActive())return!0;return!1}getAllRecords(){return this._records}}class Ok{constructor(e,t){var r;this._data={nodes:[],links:[]},this._previousData={nodes:[],links:[]},this._cosmographConfig={},this._cosmosConfig={},this._nodesForTopLabels=new Set,this._nodesForForcedLabels=new Set,this._trackedNodeToLabel=new Map,this._isLabelsDestroyed=!1,this._svgParser=new DOMParser,this._nodesCrossfilter=new Wp(this._applyLinksFilter.bind(this)),this._linksCrossfilter=new Wp(this._applyNodesFilter.bind(this)),this._nodesFilter=this._nodesCrossfilter.addFilter(!1),this._linksFilter=this._linksCrossfilter.addFilter(!1),this._selectedNodesFilter=this._nodesCrossfilter.addFilter(),this._isDataDifferent=()=>{const a=JSON.stringify(this._data.nodes),s=JSON.stringify(this._previousData.nodes),o=JSON.stringify(this._data.links),l=JSON.stringify(this._previousData.links);return a!==s||o!==l},this._onClick=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onClick)===null||o===void 0||o.call(s,...a)},this._onLabelClick=(a,s)=>{var o,l,d;const c=(o=this._cosmos)===null||o===void 0?void 0:o.graph.getNodeById(s.id);c&&((d=(l=this._cosmographConfig).onLabelClick)===null||d===void 0||d.call(l,c,a))},this._onHoveredNodeClick=a=>{var s,o;this._hoveredNode&&((o=(s=this._cosmographConfig).onLabelClick)===null||o===void 0||o.call(s,this._hoveredNode,a))},this._onNodeMouseOver=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onNodeMouseOver)===null||o===void 0||o.call(s,...a);const[l,,d]=a;this._hoveredNode=l,this._renderLabelForHovered(l,d)},this._onNodeMouseOut=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onNodeMouseOut)===null||o===void 0||o.call(s,...a),this._renderLabelForHovered()},this._onMouseMove=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onMouseMove)===null||o===void 0||o.call(s,...a);const[l,,d]=a;this._renderLabelForHovered(l,d)},this._onZoomStart=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onZoomStart)===null||o===void 0||o.call(s,...a)},this._onZoom=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onZoom)===null||o===void 0||o.call(s,...a),this._renderLabelForHovered(),this._renderLabels()},this._onZoomEnd=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onZoomEnd)===null||o===void 0||o.call(s,...a)},this._onStart=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onSimulationStart)===null||o===void 0||o.call(s,...a)},this._onTick=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onSimulationTick)===null||o===void 0||o.call(s,...a),this._renderLabels()},this._onEnd=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onSimulationEnd)===null||o===void 0||o.call(s,...a)},this._onPause=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onSimulationPause)===null||o===void 0||o.call(s,...a)},this._onRestart=(...a)=>{var s,o;(o=(s=this._cosmographConfig).onSimulationRestart)===null||o===void 0||o.call(s,...a)},this._containerNode=e,this._containerNode.classList.add(Ps.cosmograph),this._cosmographConfig=Xa(Up,t!=null?t:{}),this._cosmosConfig=this._createCosmosConfig(t),this._canvasElement=document.createElement("canvas"),this._labelsDivElement=document.createElement("div"),this._watermarkDivElement=document.createElement("div"),this._watermarkDivElement.classList.add(Ps.watermark),this._watermarkDivElement.onclick=()=>{var a;return(a=window.open("https://cosmograph.app/","_blank"))===null||a===void 0?void 0:a.focus()},e.appendChild(this._canvasElement),e.appendChild(this._labelsDivElement),e.appendChild(this._watermarkDivElement),this._cssLabelsRenderer=new Y3(this._labelsDivElement,{dispatchWheelEventElement:this._canvasElement,pointerEvents:"all",onLabelClick:this._onLabelClick.bind(this)}),this._hoveredCssLabel=new Yg(this._labelsDivElement),this._hoveredCssLabel.setPointerEvents("all"),this._hoveredCssLabel.element.addEventListener("click",this._onHoveredNodeClick.bind(this)),this._linksFilter.setAccessor(a=>[a.source,a.target]),this._nodesFilter.setAccessor(a=>a.id),this._selectedNodesFilter.setAccessor(a=>a.id),this._nodesCrossfilter.onFiltered=()=>{var a,s,o,l;let d;this._nodesCrossfilter.isAnyFiltersActive()?(d=this._nodesCrossfilter.getFilteredRecords(),(a=this._cosmos)===null||a===void 0||a.selectNodesByIds(d.map(c=>c.id))):(s=this._cosmos)===null||s===void 0||s.unselectNodes(),this._updateSelectedNodesSet(d),(l=(o=this._cosmographConfig).onNodesFiltered)===null||l===void 0||l.call(o,d)},this._linksCrossfilter.onFiltered=()=>{var a,s;let o;this._linksCrossfilter.isAnyFiltersActive()&&(o=this._linksCrossfilter.getFilteredRecords()),(s=(a=this._cosmographConfig).onLinksFiltered)===null||s===void 0||s.call(a,o)};const n=this._svgParser.parseFromString(dA,"image/svg+xml").firstChild;(r=this._watermarkDivElement)===null||r===void 0||r.appendChild(n)}get data(){return this._data}get progress(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.progress}get isSimulationRunning(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.isSimulationRunning}get maxPointSize(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.maxPointSize}setData(e,t,r=!0){var n,a,s,o;const{_cosmographConfig:l}=this;this._data={nodes:e,links:t};const d=l.disableSimulation===null?!t.length:l.disableSimulation;this._cosmos||(this._disableSimulation=d,this._cosmosConfig.disableSimulation=this._disableSimulation,this._cosmos=new V3(this._canvasElement,this._cosmosConfig),this.cosmos=this._cosmos),this._disableSimulation!==d&&console.warn(`The \`disableSimulation\` was initialized to \`${this._disableSimulation}\` during initialization and will not be modified.`),this._cosmos.setData(e,t,r),this._nodesCrossfilter.addRecords(e),this._linksCrossfilter.addRecords(t),this._updateLabels(),(a=(n=this._cosmographConfig).onSetData)===null||a===void 0||a.call(n,e,t),this._isDataDifferent()&&(["cosmograph.app"].includes(window.location.hostname)||gk({browser:navigator.userAgent,hostname:window.location.hostname,mode:null,is_library_metric:!0,links_count:t.length,links_have_time:null,links_raw_columns:t.length&&(s=Object.keys(t==null?void 0:t[0]).length)!==null&&s!==void 0?s:0,links_raw_lines:null,nodes_count:e.length,nodes_have_time:null,nodes_raw_columns:e.length&&(o=Object.keys(e==null?void 0:e[0]).length)!==null&&o!==void 0?o:0,nodes_raw_lines:null})),this._previousData={nodes:e,links:t}}setConfig(e){var t,r;if(this._cosmographConfig=Xa(Up,e!=null?e:{}),this._cosmosConfig=this._createCosmosConfig(e),(t=this._cosmos)===null||t===void 0||t.setConfig(this._cosmosConfig),e==null?void 0:e.backgroundColor){const n=(r=Hr(e==null?void 0:e.backgroundColor))===null||r===void 0?void 0:r.formatHex();if(n){const a=this._checkBrightness(n),s=document.querySelector(":root");a>.65?s==null||s.style.setProperty("--cosmograph-watermark-color","#000000"):s==null||s.style.setProperty("--cosmograph-watermark-color","#ffffff")}}this._updateLabels()}addNodesFilter(){return this._nodesCrossfilter.addFilter()}addLinksFilter(){return this._linksCrossfilter.addFilter()}selectNodesInRange(e){var t;if(!this._cosmos)return;this._cosmos.selectNodesInRange(e);const r=new Set(((t=this.getSelectedNodes())!==null&&t!==void 0?t:[]).map(n=>n.id));this._selectedNodesFilter.applyFilter(n=>r.has(n))}selectNodes(e){if(!this._cosmos)return;const t=new Set(e.map(r=>r.id));this._selectedNodesFilter.applyFilter(r=>t.has(r))}selectNode(e,t=!1){if(!this._cosmos)return;const r=new Set([e,...t&&this._cosmos.getAdjacentNodes(e.id)||[]].map(n=>n.id));this._selectedNodesFilter.applyFilter(n=>r.has(n))}unselectNodes(){this._cosmos&&this._selectedNodesFilter.clear()}getSelectedNodes(){if(this._cosmos)return this._cosmos.getSelectedNodes()}zoomToNode(e){this._cosmos&&this._cosmos.zoomToNodeById(e.id)}setZoomLevel(e,t=0){this._cosmos&&this._cosmos.setZoomLevel(e,t)}getZoomLevel(){if(this._cosmos)return this._cosmos.getZoomLevel()}getNodePositions(){if(this._cosmos)return this._cosmos.getNodePositions()}getNodePositionsMap(){if(this._cosmos)return this._cosmos.getNodePositionsMap()}getNodePositionsArray(){if(this._cosmos)return this._cosmos.getNodePositionsArray()}fitView(e=250){this._cosmos&&this._cosmos.fitView(e)}fitViewByNodeIds(e,t=250){this._cosmos&&this._cosmos.fitViewByNodeIds(e,t)}focusNode(e){this._cosmos&&this._cosmos.setFocusedNodeById(e==null?void 0:e.id)}getAdjacentNodes(e){if(this._cosmos)return this._cosmos.getAdjacentNodes(e)}spaceToScreenPosition(e){if(this._cosmos)return this._cosmos.spaceToScreenPosition(e)}spaceToScreenRadius(e){if(this._cosmos)return this._cosmos.spaceToScreenRadius(e)}getNodeRadiusByIndex(e){if(this._cosmos)return this._cosmos.getNodeRadiusByIndex(e)}getNodeRadiusById(e){if(this._cosmos)return this._cosmos.getNodeRadiusById(e)}getSampledNodePositionsMap(){if(this._cosmos)return this._cosmos.getSampledNodePositionsMap()}start(e=1){this._cosmos&&this._cosmos.start(e)}pause(){this._cosmos&&this._cosmos.pause()}restart(){this._cosmos&&this._cosmos.restart()}step(){this._cosmos&&this._cosmos.step()}remove(){var e;(e=this._cosmos)===null||e===void 0||e.destroy(),this._isLabelsDestroyed||(this._containerNode.innerHTML="",this._isLabelsDestroyed=!0,this._hoveredCssLabel.element.removeEventListener("click",this._onHoveredNodeClick.bind(this)),this._hoveredCssLabel.destroy(),this._cssLabelsRenderer.destroy())}create(){this._cosmos&&this._cosmos.create()}getNodeDegrees(){if(this._cosmos)return this._cosmos.graph.degree}_createCosmosConfig(e){const t=Xo(on({},e),{simulation:Xo(on({},Object.keys(e!=null?e:{}).filter(r=>r.indexOf("simulation")!==-1).reduce((r,n)=>{const a=n.replace("simulation","");return r[a.charAt(0).toLowerCase()+a.slice(1)]=e==null?void 0:e[n],r},{})),{onStart:this._onStart.bind(this),onTick:this._onTick.bind(this),onEnd:this._onEnd.bind(this),onPause:this._onPause.bind(this),onRestart:this._onRestart.bind(this)}),events:{onClick:this._onClick.bind(this),onNodeMouseOver:this._onNodeMouseOver.bind(this),onNodeMouseOut:this._onNodeMouseOut.bind(this),onMouseMove:this._onMouseMove.bind(this),onZoomStart:this._onZoomStart.bind(this),onZoom:this._onZoom.bind(this),onZoomEnd:this._onZoomEnd.bind(this)}});return delete t.disableSimulation,t}_updateLabels(){if(this._isLabelsDestroyed||!this._cosmos)return;const{_cosmos:e,data:{nodes:t},_cosmographConfig:{showTopLabels:r,showTopLabelsLimit:n,showLabelsFor:a,showTopLabelsValueKey:s,nodeLabelAccessor:o}}=this;if(this._nodesForTopLabels.clear(),r&&n){let l;l=s?[...t].sort((d,c)=>{const u=d[s],h=c[s];return typeof u=="number"&&typeof h=="number"?h-u:0}):Object.entries(e.graph.degree).sort((d,c)=>c[1]-d[1]).slice(0,n).map(d=>e.graph.getNodeByIndex(+d[0]));for(let d=0;d<n&&!(d>=t.length);d++){const c=l[d];c&&this._nodesForTopLabels.add(c)}}this._nodesForForcedLabels.clear(),a==null||a.forEach(this._nodesForForcedLabels.add,this._nodesForForcedLabels),this._trackedNodeToLabel.clear(),e.trackNodePositionsByIds([...r?this._nodesForTopLabels:[],...this._nodesForForcedLabels].map(l=>{var d;return this._trackedNodeToLabel.set(l,(d=o==null?void 0:o(l))!==null&&d!==void 0?d:l.id),l.id})),this._renderLabels()}_updateSelectedNodesSet(e){this._isLabelsDestroyed||(e?(this._selectedNodesSet=new Set,e==null||e.forEach(this._selectedNodesSet.add,this._selectedNodesSet)):this._selectedNodesSet=void 0,this._renderLabels())}_renderLabels(){if(this._isLabelsDestroyed||!this._cosmos)return;const{_cosmos:e,_selectedNodesSet:t,_cosmographConfig:{showDynamicLabels:r,nodeLabelAccessor:n,nodeLabelColor:a,nodeLabelClassName:s}}=this;let o=[];const l=e.getTrackedNodePositionsMap(),d=new Map;if(r){const c=this.getSampledNodePositionsMap();c==null||c.forEach((u,h)=>{var g;const k=e.graph.getNodeById(h);k&&d.set(k,[(g=n==null?void 0:n(k))!==null&&g!==void 0?g:k.id,u,Ps.cosmographShowDynamicLabels,.7])})}this._nodesForTopLabels.forEach(c=>{d.set(c,[this._trackedNodeToLabel.get(c),l.get(c.id),Ps.cosmographShowTopLabels,.9])}),this._nodesForForcedLabels.forEach(c=>{d.set(c,[this._trackedNodeToLabel.get(c),l.get(c.id),Ps.cosmographShowLabelsFor,1])}),o=[...d.entries()].map(([c,[u,h,g,k]])=>{var U,I,O;const $=this.spaceToScreenPosition([(U=h==null?void 0:h[0])!==null&&U!==void 0?U:0,(I=h==null?void 0:h[1])!==null&&I!==void 0?I:0]),R=this.spaceToScreenRadius(e.config.nodeSizeScale*this.getNodeRadiusById(c.id)),T=!!t,B=t==null?void 0:t.has(c);return{id:c.id,text:u!=null?u:"",x:$[0],y:$[1]-(R+2),weight:T&&!B?.1:k,shouldBeShown:this._nodesForForcedLabels.has(c),style:T&&!B?"opacity: 0.1;":"",color:a&&(typeof a=="string"?a:a==null?void 0:a(c)),className:(O=typeof s=="string"?s:s==null?void 0:s(c))!==null&&O!==void 0?O:g}}),this._cssLabelsRenderer.setLabels(o),this._cssLabelsRenderer.draw(!0)}_renderLabelForHovered(e,t){var r,n;if(!this._cosmos)return;const{_cosmographConfig:{showHoveredNodeLabel:a,nodeLabelAccessor:s,hoveredNodeLabelClassName:o,hoveredNodeLabelColor:l}}=this;if(!this._isLabelsDestroyed){if(a&&e&&t){const d=this.spaceToScreenPosition(t),c=this.spaceToScreenRadius(this.getNodeRadiusById(e.id));this._hoveredCssLabel.setText((r=s==null?void 0:s(e))!==null&&r!==void 0?r:e.id),this._hoveredCssLabel.setVisibility(!0),this._hoveredCssLabel.setPosition(d[0],d[1]-(c+2)),this._hoveredCssLabel.setClassName(typeof o=="string"?o:(n=o==null?void 0:o(e))!==null&&n!==void 0?n:"");const u=l&&(typeof l=="string"?l:l==null?void 0:l(e));u&&this._hoveredCssLabel.setColor(u)}else this._hoveredCssLabel.setVisibility(!1);this._hoveredCssLabel.draw()}}_applyLinksFilter(){if(this._nodesCrossfilter.isAnyFiltersActive(this._nodesFilter)){const e=this._nodesCrossfilter.getFilteredRecords(this._nodesFilter),t=new Set(e.map(r=>r.id));this._linksFilter.applyFilter(r=>{const n=r==null?void 0:r[0],a=r==null?void 0:r[1];return t.has(n)&&t.has(a)})}else this._linksFilter.clear()}_applyNodesFilter(){if(this._linksCrossfilter.isAnyFiltersActive(this._linksFilter)){const e=this._linksCrossfilter.getFilteredRecords(this._linksFilter),t=new Set(e.map(r=>[r.source,r.target]).flat());this._nodesFilter.applyFilter(r=>t.has(r))}else this._nodesFilter.clear()}_checkBrightness(e){const t=(r=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return n?{r:parseInt((n[1]||0).toString(),16),g:parseInt((n[2]||0).toString(),16),b:parseInt((n[3]||0).toString(),16)}:{r:0,g:0,b:0}})(e);return(.2126*t.r+.7152*t.g+.0722*t.b)/255}}var Qs;(function(i){i.Nodes="nodes",i.Links="links"})(Qs||(Qs={}));const Xp={accessor:i=>i.date,filterType:Qs.Links};class Rk{constructor(e,t,r){this._config={},this.playAnimation=()=>{this.timeline.playAnimation()},this.pauseAnimation=()=>{this.timeline.pauseAnimation()},this.stopAnimation=()=>{this.timeline.stopAnimation()},this._onBrush=(n,a)=>{var s,o;this._applyFilter(n),(o=(s=this._config).onSelection)===null||o===void 0||o.call(s,n,a)},this._onBarHover=(...n)=>{var a,s;(s=(a=this._config).onBarHover)===null||s===void 0||s.call(a,...n)},this._onAnimationPlay=(...n)=>{var a,s;(s=(a=this._config).onAnimationPlay)===null||s===void 0||s.call(a,...n)},this._onAnimationPause=(...n)=>{var a,s;(s=(a=this._config).onAnimationPause)===null||s===void 0||s.call(a,...n)},this._config=Xa(Xp,r!=null?r:{}),this.timeline=new QE(t,this._createTimelineConfig(r)),this._cosmograph=e,this._filter=this._config.filterType===Qs.Nodes?this._cosmograph.addNodesFilter():this._cosmograph.addLinksFilter(),this._filter.onDataAdded=()=>{this._updateData()},this._updateDimension(),this._updateData()}setConfig(e){var t,r;const n=Xa(Xp,e!=null?e:{});this.timeline.setConfig(this._createTimelineConfig(e)),((t=this._config.accessor)===null||t===void 0?void 0:t.toString())!==((r=n.accessor)===null||r===void 0?void 0:r.toString())&&this._updateData(),this._config=n}getCurrentSelection(){return this.timeline.getCurrentSelection()}getCurrentSelectionInPixels(){return this.timeline.getCurrentSelectionInPixels()}getBarWidth(){return this.timeline.getBarWidth()}getIsAnimationRunning(){return this.timeline.getIsAnimationRunning()}setSelection(e){this.timeline.setSelection(e)}setSelectionInPixels(e){this.timeline.setSelectionInPixels(e)}_updateData(){const e=this._filter.getAllValues();e&&this.timeline.setTimeData(e),this.timeline.render(),this.timeline.resize()}_updateDimension(){const{_config:{accessor:e},_filter:t}=this;t.setAccessor(e)}_applyFilter(e){const{_filter:t}=this;e?t.applyFilter(r=>r>=e[0]&&r<=e[1]):t.clear()}getConfig(){return this._config}remove(){this.timeline.destroy()}_createTimelineConfig(e){return Xo(on({},e),{events:{onBrush:this._onBrush.bind(this),onBarHover:this._onBarHover.bind(this),onAnimationPlay:this._onAnimationPlay.bind(this),onAnimationPause:this._onAnimationPause.bind(this)}})}}Qs.Nodes;function Mc(i){return i<100?{spaceSize:4096/4,simulationDecay:100,simulationRepulsion:1}:i>99&&i<1e3?{spaceSize:4096/2,simulationDecay:400,simulationRepulsion:1}:i>999&&i<1e4?{spaceSize:4096,simulationDecay:800,simulationRepulsion:1}:{spaceSize:4096*2,simulationDecay:1e3,simulationRepulsion:.8}}const Pk={person:"#720e07",place:"#5bc0eb",work:"#ff8600",event:"#9bc53d",institution:"#ffdd1b"};function Fk(){return Y(this,null,function*(){var n;const i=document.getElementById("spinner"),e=document.getElementById("canvas"),r=`/network/csv/${window.location.search}`;try{let U=function(){g=!0,k.textContent="Start",u.pause()},I=function(){g=!1,k.textContent="Pause",u.start()},O=function(){g?I():U()},$=function(){u.fitView()};const s=yield(yield fetch(r)).json(),o=s.edges.map(R=>({source:parseInt(R.s),target:parseInt(R.t),date:Date.parse(R.start)})),l=s.nodes.map(R=>({id:parseInt(R.id),label:R.l,color:Pk[R.k]})),d={};o.forEach(R=>{d[R.source]=(d[R.source]||0)+1,d[R.target]=(d[R.target]||0)+1}),l.forEach(R=>{R.degree=d[R.id]||0}),i.classList.add("visually-hidden");const c={backgroundColor:"white",spaceSize:Mc(l.length).spaceSize,nodeColor:R=>R.color,linkColor:"#ebeded",nodeSize:R=>{const T=R.degree||1;return Math.max(1,Math.log(T*100))},nodeGreyoutOpacity:.1,nodeLabelAccessor:R=>R.label,showTopLabels:!1,showDynamicLabels:!1,linkGreyoutOpacity:0,nodeLabelColor:"white",hoveredNodeLabelColor:"white",linkWidth:1,linkArrows:!1,onClick:R=>alert(R.label),simulationRepulsion:Mc(l.length).simulationRepulsion,simulationDecay:Mc(l.length).simulationDecay,simulationlinkDistance:2,gravity:.5},u=new Ok(e,c),h=document.getElementById("timeline");new Rk(u,h),u.setData(l,o);let g=!1;const k=document.getElementById("pause");k.addEventListener("click",O),(n=document.getElementById("fit-view"))==null||n.addEventListener("click",$)}catch(a){console.error("Failed to fetch data:",a),alertNode.textContent="Failed to load data. Please try again later.",alertNode.style.visibility="visible"}})}Fk();export{bg as g};
